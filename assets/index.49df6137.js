import{c as B,g as Oi,a as Fg,b as Wg}from"./index.50f2c8db.js";import{e as wu,r as Su,t as O}from"./tslib.c6155f60.js";import{b as Vo}from"./index.11f5e8c0.js";function Hg(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Eu={},ps={},zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.walletLogo=void 0;const Ug=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};zo.walletLogo=Ug;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.ScopedLocalStorage=void 0;class Vg{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}qo.ScopedLocalStorage=Vg;var pi={},An={};Object.defineProperty(An,"__esModule",{value:!0});const zg=wu.exports;function Bl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function qg(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Gg extends zg.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Bl(s,this,r);else{const o=s.length,a=qg(s);for(let c=0;c<o;c+=1)Bl(a[c],this,r)}return!0}}An.default=Gg;var Es={exports:{}};(function(t){(function(e,r){function n(S,u){if(!S)throw new Error(u||"Assertion failed")}function i(S,u){S.super_=u;var d=function(){};d.prototype=u.prototype,S.prototype=new d,S.prototype.constructor=S}function s(S,u,d){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(S||0,u||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=require("buffer").Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,b){if(typeof u=="number")return this._initNumber(u,d,b);if(typeof u=="object")return this._initArray(u,d,b);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var w=0;u[0]==="-"&&(w++,this.negative=1),w<u.length&&(d===16?this._parseHex(u,w,b):(this._parseBase(u,d,w),b==="le"&&this._initArray(this.toArray(),d,b)))},s.prototype._initNumber=function(u,d,b){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},s.prototype._initArray=function(u,d,b){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var E,x,_=0;if(b==="be")for(w=u.length-1,E=0;w>=0;w-=3)x=u[w]|u[w-1]<<8|u[w-2]<<16,this.words[E]|=x<<_&67108863,this.words[E+1]=x>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);else if(b==="le")for(w=0,E=0;w<u.length;w+=3)x=u[w]|u[w+1]<<8|u[w+2]<<16,this.words[E]|=x<<_&67108863,this.words[E+1]=x>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);return this._strip()};function a(S,u){var d=S.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+S)}function c(S,u,d){var b=a(S,d);return d-1>=u&&(b|=a(S,d-1)<<4),b}s.prototype._parseHex=function(u,d,b){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var E=0,x=0,_;if(b==="be")for(w=u.length-1;w>=d;w-=2)_=c(u,d,w)<<E,this.words[x]|=_&67108863,E>=18?(E-=18,x+=1,this.words[x]|=_>>>26):E+=8;else{var p=u.length-d;for(w=p%2===0?d+1:d;w<u.length;w+=2)_=c(u,d,w)<<E,this.words[x]|=_&67108863,E>=18?(E-=18,x+=1,this.words[x]|=_>>>26):E+=8}this._strip()};function f(S,u,d,b){for(var w=0,E=0,x=Math.min(S.length,d),_=u;_<x;_++){var p=S.charCodeAt(_)-48;w*=b,p>=49?E=p-49+10:p>=17?E=p-17+10:E=p,n(p>=0&&E<b,"Invalid character"),w+=E}return w}s.prototype._parseBase=function(u,d,b){this.words=[0],this.length=1;for(var w=0,E=1;E<=67108863;E*=d)w++;w--,E=E/d|0;for(var x=u.length-b,_=x%w,p=Math.min(x,x-_)+b,l=0,g=b;g<p;g+=w)l=f(u,g,g+w,d),this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(_!==0){var R=1;for(l=f(u,g,u.length,d),g=0;g<_;g++)R*=d;this.imuln(R),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){h(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var b;if(u===16||u==="hex"){b="";for(var w=0,E=0,x=0;x<this.length;x++){var _=this.words[x],p=((_<<w|E)&16777215).toString(16);E=_>>>24-w&16777215,w+=2,w>=26&&(w-=26,x--),E!==0||x!==this.length-1?b=y[6-p.length]+p+b:b=p+b}for(E!==0&&(b=E.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(u===(u|0)&&u>=2&&u<=36){var l=m[u],g=M[u];b="";var R=this.clone();for(R.negative=0;!R.isZero();){var C=R.modrn(g).toString(u);R=R.idivn(g),R.isZero()?b=C+b:b=y[l-C.length]+C+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,d){return this.toArrayLike(o,u,d)}),s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var N=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};s.prototype.toArrayLike=function(u,d,b){this._strip();var w=this.byteLength(),E=b||Math.max(1,w);n(w<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var x=N(u,E),_=d==="le"?"LE":"BE";return this["_toArrayLike"+_](x,w),x},s.prototype._toArrayLikeLE=function(u,d){for(var b=0,w=0,E=0,x=0;E<this.length;E++){var _=this.words[E]<<x|w;u[b++]=_&255,b<u.length&&(u[b++]=_>>8&255),b<u.length&&(u[b++]=_>>16&255),x===6?(b<u.length&&(u[b++]=_>>24&255),w=0,x=0):(w=_>>>24,x+=2)}if(b<u.length)for(u[b++]=w;b<u.length;)u[b++]=0},s.prototype._toArrayLikeBE=function(u,d){for(var b=u.length-1,w=0,E=0,x=0;E<this.length;E++){var _=this.words[E]<<x|w;u[b--]=_&255,b>=0&&(u[b--]=_>>8&255),b>=0&&(u[b--]=_>>16&255),x===6?(b>=0&&(u[b--]=_>>24&255),w=0,x=0):(w=_>>>24,x+=2)}if(b>=0)for(u[b--]=w;b>=0;)u[b--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,b=0;return(d&8191)===0&&(b+=13,d>>>=13),(d&127)===0&&(b+=7,d>>>=7),(d&15)===0&&(b+=4,d>>>=4),(d&3)===0&&(b+=2,d>>>=2),(d&1)===0&&b++,b},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function T(S){for(var u=new Array(S.bitLength()),d=0;d<u.length;d++){var b=d/26|0,w=d%26;u[d]=S.words[b]>>>w&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(u+=b,b!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&u.words[b];return this.length=d.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,b;this.length>u.length?(d=this,b=u):(d=u,b=this);for(var w=0;w<b.length;w++)this.words[w]=d.words[w]^b.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,b=u%26;this._expand(d),b>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return b>0&&(this.words[w]=~this.words[w]&67108863>>26-b),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var b=u/26|0,w=u%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<w:this.words[b]=this.words[b]&~(1<<w),this._strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var b,w;this.length>u.length?(b=this,w=u):(b=u,w=this);for(var E=0,x=0;x<w.length;x++)d=(b.words[x]|0)+(w.words[x]|0)+E,this.words[x]=d&67108863,E=d>>>26;for(;E!==0&&x<b.length;x++)d=(b.words[x]|0)+E,this.words[x]=d&67108863,E=d>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;x<b.length;x++)this.words[x]=b.words[x];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var b=this.cmp(u);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,E;b>0?(w=this,E=u):(w=u,E=this);for(var x=0,_=0;_<E.length;_++)d=(w.words[_]|0)-(E.words[_]|0)+x,x=d>>26,this.words[_]=d&67108863;for(;x!==0&&_<w.length;_++)d=(w.words[_]|0)+x,x=d>>26,this.words[_]=d&67108863;if(x===0&&_<w.length&&w!==this)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=Math.max(this.length,_),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function I(S,u,d){d.negative=u.negative^S.negative;var b=S.length+u.length|0;d.length=b,b=b-1|0;var w=S.words[0]|0,E=u.words[0]|0,x=w*E,_=x&67108863,p=x/67108864|0;d.words[0]=_;for(var l=1;l<b;l++){for(var g=p>>>26,R=p&67108863,C=Math.min(l,u.length-1),k=Math.max(0,l-S.length+1);k<=C;k++){var F=l-k|0;w=S.words[F]|0,E=u.words[k]|0,x=w*E+R,g+=x/67108864|0,R=x&67108863}d.words[l]=R|0,p=g|0}return p!==0?d.words[l]=p|0:d.length--,d._strip()}var A=function(u,d,b){var w=u.words,E=d.words,x=b.words,_=0,p,l,g,R=w[0]|0,C=R&8191,k=R>>>13,F=w[1]|0,Q=F&8191,D=F>>>13,pe=w[2]|0,ee=pe&8191,X=pe>>>13,vt=w[3]|0,ue=vt&8191,le=vt>>>13,Ot=w[4]|0,de=Ot&8191,Ve=Ot>>>13,qi=w[5]|0,ze=qi&8191,qe=qi>>>13,Gi=w[6]|0,Ge=Gi&8191,Je=Gi>>>13,Ji=w[7]|0,Ze=Ji&8191,Qe=Ji>>>13,Dn=w[8]|0,me=Dn&8191,_e=Dn>>>13,jn=w[9]|0,we=jn&8191,Se=jn>>>13,Bn=E[0]|0,Ee=Bn&8191,xe=Bn>>>13,Fn=E[1]|0,Me=Fn&8191,Ce=Fn>>>13,Wn=E[2]|0,Re=Wn&8191,Ie=Wn>>>13,Hn=E[3]|0,Ae=Hn&8191,ke=Hn>>>13,Un=E[4]|0,Te=Un&8191,Oe=Un>>>13,Vn=E[5]|0,Ne=Vn&8191,Le=Vn>>>13,zn=E[6]|0,Pe=zn&8191,$e=zn>>>13,qn=E[7]|0,De=qn&8191,je=qn>>>13,Gn=E[8]|0,Be=Gn&8191,Fe=Gn>>>13,Jn=E[9]|0,We=Jn&8191,He=Jn>>>13;b.negative=u.negative^d.negative,b.length=19,p=Math.imul(C,Ee),l=Math.imul(C,xe),l=l+Math.imul(k,Ee)|0,g=Math.imul(k,xe);var zr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,p=Math.imul(Q,Ee),l=Math.imul(Q,xe),l=l+Math.imul(D,Ee)|0,g=Math.imul(D,xe),p=p+Math.imul(C,Me)|0,l=l+Math.imul(C,Ce)|0,l=l+Math.imul(k,Me)|0,g=g+Math.imul(k,Ce)|0;var qr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,p=Math.imul(ee,Ee),l=Math.imul(ee,xe),l=l+Math.imul(X,Ee)|0,g=Math.imul(X,xe),p=p+Math.imul(Q,Me)|0,l=l+Math.imul(Q,Ce)|0,l=l+Math.imul(D,Me)|0,g=g+Math.imul(D,Ce)|0,p=p+Math.imul(C,Re)|0,l=l+Math.imul(C,Ie)|0,l=l+Math.imul(k,Re)|0,g=g+Math.imul(k,Ie)|0;var Gr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,p=Math.imul(ue,Ee),l=Math.imul(ue,xe),l=l+Math.imul(le,Ee)|0,g=Math.imul(le,xe),p=p+Math.imul(ee,Me)|0,l=l+Math.imul(ee,Ce)|0,l=l+Math.imul(X,Me)|0,g=g+Math.imul(X,Ce)|0,p=p+Math.imul(Q,Re)|0,l=l+Math.imul(Q,Ie)|0,l=l+Math.imul(D,Re)|0,g=g+Math.imul(D,Ie)|0,p=p+Math.imul(C,Ae)|0,l=l+Math.imul(C,ke)|0,l=l+Math.imul(k,Ae)|0,g=g+Math.imul(k,ke)|0;var Jr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,p=Math.imul(de,Ee),l=Math.imul(de,xe),l=l+Math.imul(Ve,Ee)|0,g=Math.imul(Ve,xe),p=p+Math.imul(ue,Me)|0,l=l+Math.imul(ue,Ce)|0,l=l+Math.imul(le,Me)|0,g=g+Math.imul(le,Ce)|0,p=p+Math.imul(ee,Re)|0,l=l+Math.imul(ee,Ie)|0,l=l+Math.imul(X,Re)|0,g=g+Math.imul(X,Ie)|0,p=p+Math.imul(Q,Ae)|0,l=l+Math.imul(Q,ke)|0,l=l+Math.imul(D,Ae)|0,g=g+Math.imul(D,ke)|0,p=p+Math.imul(C,Te)|0,l=l+Math.imul(C,Oe)|0,l=l+Math.imul(k,Te)|0,g=g+Math.imul(k,Oe)|0;var Zr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,p=Math.imul(ze,Ee),l=Math.imul(ze,xe),l=l+Math.imul(qe,Ee)|0,g=Math.imul(qe,xe),p=p+Math.imul(de,Me)|0,l=l+Math.imul(de,Ce)|0,l=l+Math.imul(Ve,Me)|0,g=g+Math.imul(Ve,Ce)|0,p=p+Math.imul(ue,Re)|0,l=l+Math.imul(ue,Ie)|0,l=l+Math.imul(le,Re)|0,g=g+Math.imul(le,Ie)|0,p=p+Math.imul(ee,Ae)|0,l=l+Math.imul(ee,ke)|0,l=l+Math.imul(X,Ae)|0,g=g+Math.imul(X,ke)|0,p=p+Math.imul(Q,Te)|0,l=l+Math.imul(Q,Oe)|0,l=l+Math.imul(D,Te)|0,g=g+Math.imul(D,Oe)|0,p=p+Math.imul(C,Ne)|0,l=l+Math.imul(C,Le)|0,l=l+Math.imul(k,Ne)|0,g=g+Math.imul(k,Le)|0;var Qr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,p=Math.imul(Ge,Ee),l=Math.imul(Ge,xe),l=l+Math.imul(Je,Ee)|0,g=Math.imul(Je,xe),p=p+Math.imul(ze,Me)|0,l=l+Math.imul(ze,Ce)|0,l=l+Math.imul(qe,Me)|0,g=g+Math.imul(qe,Ce)|0,p=p+Math.imul(de,Re)|0,l=l+Math.imul(de,Ie)|0,l=l+Math.imul(Ve,Re)|0,g=g+Math.imul(Ve,Ie)|0,p=p+Math.imul(ue,Ae)|0,l=l+Math.imul(ue,ke)|0,l=l+Math.imul(le,Ae)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Oe)|0,l=l+Math.imul(X,Te)|0,g=g+Math.imul(X,Oe)|0,p=p+Math.imul(Q,Ne)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(D,Ne)|0,g=g+Math.imul(D,Le)|0,p=p+Math.imul(C,Pe)|0,l=l+Math.imul(C,$e)|0,l=l+Math.imul(k,Pe)|0,g=g+Math.imul(k,$e)|0;var Yr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,p=Math.imul(Ze,Ee),l=Math.imul(Ze,xe),l=l+Math.imul(Qe,Ee)|0,g=Math.imul(Qe,xe),p=p+Math.imul(Ge,Me)|0,l=l+Math.imul(Ge,Ce)|0,l=l+Math.imul(Je,Me)|0,g=g+Math.imul(Je,Ce)|0,p=p+Math.imul(ze,Re)|0,l=l+Math.imul(ze,Ie)|0,l=l+Math.imul(qe,Re)|0,g=g+Math.imul(qe,Ie)|0,p=p+Math.imul(de,Ae)|0,l=l+Math.imul(de,ke)|0,l=l+Math.imul(Ve,Ae)|0,g=g+Math.imul(Ve,ke)|0,p=p+Math.imul(ue,Te)|0,l=l+Math.imul(ue,Oe)|0,l=l+Math.imul(le,Te)|0,g=g+Math.imul(le,Oe)|0,p=p+Math.imul(ee,Ne)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(X,Ne)|0,g=g+Math.imul(X,Le)|0,p=p+Math.imul(Q,Pe)|0,l=l+Math.imul(Q,$e)|0,l=l+Math.imul(D,Pe)|0,g=g+Math.imul(D,$e)|0,p=p+Math.imul(C,De)|0,l=l+Math.imul(C,je)|0,l=l+Math.imul(k,De)|0,g=g+Math.imul(k,je)|0;var Kr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,p=Math.imul(me,Ee),l=Math.imul(me,xe),l=l+Math.imul(_e,Ee)|0,g=Math.imul(_e,xe),p=p+Math.imul(Ze,Me)|0,l=l+Math.imul(Ze,Ce)|0,l=l+Math.imul(Qe,Me)|0,g=g+Math.imul(Qe,Ce)|0,p=p+Math.imul(Ge,Re)|0,l=l+Math.imul(Ge,Ie)|0,l=l+Math.imul(Je,Re)|0,g=g+Math.imul(Je,Ie)|0,p=p+Math.imul(ze,Ae)|0,l=l+Math.imul(ze,ke)|0,l=l+Math.imul(qe,Ae)|0,g=g+Math.imul(qe,ke)|0,p=p+Math.imul(de,Te)|0,l=l+Math.imul(de,Oe)|0,l=l+Math.imul(Ve,Te)|0,g=g+Math.imul(Ve,Oe)|0,p=p+Math.imul(ue,Ne)|0,l=l+Math.imul(ue,Le)|0,l=l+Math.imul(le,Ne)|0,g=g+Math.imul(le,Le)|0,p=p+Math.imul(ee,Pe)|0,l=l+Math.imul(ee,$e)|0,l=l+Math.imul(X,Pe)|0,g=g+Math.imul(X,$e)|0,p=p+Math.imul(Q,De)|0,l=l+Math.imul(Q,je)|0,l=l+Math.imul(D,De)|0,g=g+Math.imul(D,je)|0,p=p+Math.imul(C,Be)|0,l=l+Math.imul(C,Fe)|0,l=l+Math.imul(k,Be)|0,g=g+Math.imul(k,Fe)|0;var Xr=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,p=Math.imul(we,Ee),l=Math.imul(we,xe),l=l+Math.imul(Se,Ee)|0,g=Math.imul(Se,xe),p=p+Math.imul(me,Me)|0,l=l+Math.imul(me,Ce)|0,l=l+Math.imul(_e,Me)|0,g=g+Math.imul(_e,Ce)|0,p=p+Math.imul(Ze,Re)|0,l=l+Math.imul(Ze,Ie)|0,l=l+Math.imul(Qe,Re)|0,g=g+Math.imul(Qe,Ie)|0,p=p+Math.imul(Ge,Ae)|0,l=l+Math.imul(Ge,ke)|0,l=l+Math.imul(Je,Ae)|0,g=g+Math.imul(Je,ke)|0,p=p+Math.imul(ze,Te)|0,l=l+Math.imul(ze,Oe)|0,l=l+Math.imul(qe,Te)|0,g=g+Math.imul(qe,Oe)|0,p=p+Math.imul(de,Ne)|0,l=l+Math.imul(de,Le)|0,l=l+Math.imul(Ve,Ne)|0,g=g+Math.imul(Ve,Le)|0,p=p+Math.imul(ue,Pe)|0,l=l+Math.imul(ue,$e)|0,l=l+Math.imul(le,Pe)|0,g=g+Math.imul(le,$e)|0,p=p+Math.imul(ee,De)|0,l=l+Math.imul(ee,je)|0,l=l+Math.imul(X,De)|0,g=g+Math.imul(X,je)|0,p=p+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Fe)|0,l=l+Math.imul(D,Be)|0,g=g+Math.imul(D,Fe)|0,p=p+Math.imul(C,We)|0,l=l+Math.imul(C,He)|0,l=l+Math.imul(k,We)|0,g=g+Math.imul(k,He)|0;var en=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(en>>>26)|0,en&=67108863,p=Math.imul(we,Me),l=Math.imul(we,Ce),l=l+Math.imul(Se,Me)|0,g=Math.imul(Se,Ce),p=p+Math.imul(me,Re)|0,l=l+Math.imul(me,Ie)|0,l=l+Math.imul(_e,Re)|0,g=g+Math.imul(_e,Ie)|0,p=p+Math.imul(Ze,Ae)|0,l=l+Math.imul(Ze,ke)|0,l=l+Math.imul(Qe,Ae)|0,g=g+Math.imul(Qe,ke)|0,p=p+Math.imul(Ge,Te)|0,l=l+Math.imul(Ge,Oe)|0,l=l+Math.imul(Je,Te)|0,g=g+Math.imul(Je,Oe)|0,p=p+Math.imul(ze,Ne)|0,l=l+Math.imul(ze,Le)|0,l=l+Math.imul(qe,Ne)|0,g=g+Math.imul(qe,Le)|0,p=p+Math.imul(de,Pe)|0,l=l+Math.imul(de,$e)|0,l=l+Math.imul(Ve,Pe)|0,g=g+Math.imul(Ve,$e)|0,p=p+Math.imul(ue,De)|0,l=l+Math.imul(ue,je)|0,l=l+Math.imul(le,De)|0,g=g+Math.imul(le,je)|0,p=p+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Fe)|0,l=l+Math.imul(X,Be)|0,g=g+Math.imul(X,Fe)|0,p=p+Math.imul(Q,We)|0,l=l+Math.imul(Q,He)|0,l=l+Math.imul(D,We)|0,g=g+Math.imul(D,He)|0;var tn=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(tn>>>26)|0,tn&=67108863,p=Math.imul(we,Re),l=Math.imul(we,Ie),l=l+Math.imul(Se,Re)|0,g=Math.imul(Se,Ie),p=p+Math.imul(me,Ae)|0,l=l+Math.imul(me,ke)|0,l=l+Math.imul(_e,Ae)|0,g=g+Math.imul(_e,ke)|0,p=p+Math.imul(Ze,Te)|0,l=l+Math.imul(Ze,Oe)|0,l=l+Math.imul(Qe,Te)|0,g=g+Math.imul(Qe,Oe)|0,p=p+Math.imul(Ge,Ne)|0,l=l+Math.imul(Ge,Le)|0,l=l+Math.imul(Je,Ne)|0,g=g+Math.imul(Je,Le)|0,p=p+Math.imul(ze,Pe)|0,l=l+Math.imul(ze,$e)|0,l=l+Math.imul(qe,Pe)|0,g=g+Math.imul(qe,$e)|0,p=p+Math.imul(de,De)|0,l=l+Math.imul(de,je)|0,l=l+Math.imul(Ve,De)|0,g=g+Math.imul(Ve,je)|0,p=p+Math.imul(ue,Be)|0,l=l+Math.imul(ue,Fe)|0,l=l+Math.imul(le,Be)|0,g=g+Math.imul(le,Fe)|0,p=p+Math.imul(ee,We)|0,l=l+Math.imul(ee,He)|0,l=l+Math.imul(X,We)|0,g=g+Math.imul(X,He)|0;var rn=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(rn>>>26)|0,rn&=67108863,p=Math.imul(we,Ae),l=Math.imul(we,ke),l=l+Math.imul(Se,Ae)|0,g=Math.imul(Se,ke),p=p+Math.imul(me,Te)|0,l=l+Math.imul(me,Oe)|0,l=l+Math.imul(_e,Te)|0,g=g+Math.imul(_e,Oe)|0,p=p+Math.imul(Ze,Ne)|0,l=l+Math.imul(Ze,Le)|0,l=l+Math.imul(Qe,Ne)|0,g=g+Math.imul(Qe,Le)|0,p=p+Math.imul(Ge,Pe)|0,l=l+Math.imul(Ge,$e)|0,l=l+Math.imul(Je,Pe)|0,g=g+Math.imul(Je,$e)|0,p=p+Math.imul(ze,De)|0,l=l+Math.imul(ze,je)|0,l=l+Math.imul(qe,De)|0,g=g+Math.imul(qe,je)|0,p=p+Math.imul(de,Be)|0,l=l+Math.imul(de,Fe)|0,l=l+Math.imul(Ve,Be)|0,g=g+Math.imul(Ve,Fe)|0,p=p+Math.imul(ue,We)|0,l=l+Math.imul(ue,He)|0,l=l+Math.imul(le,We)|0,g=g+Math.imul(le,He)|0;var nn=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(nn>>>26)|0,nn&=67108863,p=Math.imul(we,Te),l=Math.imul(we,Oe),l=l+Math.imul(Se,Te)|0,g=Math.imul(Se,Oe),p=p+Math.imul(me,Ne)|0,l=l+Math.imul(me,Le)|0,l=l+Math.imul(_e,Ne)|0,g=g+Math.imul(_e,Le)|0,p=p+Math.imul(Ze,Pe)|0,l=l+Math.imul(Ze,$e)|0,l=l+Math.imul(Qe,Pe)|0,g=g+Math.imul(Qe,$e)|0,p=p+Math.imul(Ge,De)|0,l=l+Math.imul(Ge,je)|0,l=l+Math.imul(Je,De)|0,g=g+Math.imul(Je,je)|0,p=p+Math.imul(ze,Be)|0,l=l+Math.imul(ze,Fe)|0,l=l+Math.imul(qe,Be)|0,g=g+Math.imul(qe,Fe)|0,p=p+Math.imul(de,We)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(Ve,We)|0,g=g+Math.imul(Ve,He)|0;var sn=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(sn>>>26)|0,sn&=67108863,p=Math.imul(we,Ne),l=Math.imul(we,Le),l=l+Math.imul(Se,Ne)|0,g=Math.imul(Se,Le),p=p+Math.imul(me,Pe)|0,l=l+Math.imul(me,$e)|0,l=l+Math.imul(_e,Pe)|0,g=g+Math.imul(_e,$e)|0,p=p+Math.imul(Ze,De)|0,l=l+Math.imul(Ze,je)|0,l=l+Math.imul(Qe,De)|0,g=g+Math.imul(Qe,je)|0,p=p+Math.imul(Ge,Be)|0,l=l+Math.imul(Ge,Fe)|0,l=l+Math.imul(Je,Be)|0,g=g+Math.imul(Je,Fe)|0,p=p+Math.imul(ze,We)|0,l=l+Math.imul(ze,He)|0,l=l+Math.imul(qe,We)|0,g=g+Math.imul(qe,He)|0;var Ka=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Ka>>>26)|0,Ka&=67108863,p=Math.imul(we,Pe),l=Math.imul(we,$e),l=l+Math.imul(Se,Pe)|0,g=Math.imul(Se,$e),p=p+Math.imul(me,De)|0,l=l+Math.imul(me,je)|0,l=l+Math.imul(_e,De)|0,g=g+Math.imul(_e,je)|0,p=p+Math.imul(Ze,Be)|0,l=l+Math.imul(Ze,Fe)|0,l=l+Math.imul(Qe,Be)|0,g=g+Math.imul(Qe,Fe)|0,p=p+Math.imul(Ge,We)|0,l=l+Math.imul(Ge,He)|0,l=l+Math.imul(Je,We)|0,g=g+Math.imul(Je,He)|0;var Xa=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(Xa>>>26)|0,Xa&=67108863,p=Math.imul(we,De),l=Math.imul(we,je),l=l+Math.imul(Se,De)|0,g=Math.imul(Se,je),p=p+Math.imul(me,Be)|0,l=l+Math.imul(me,Fe)|0,l=l+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Fe)|0,p=p+Math.imul(Ze,We)|0,l=l+Math.imul(Ze,He)|0,l=l+Math.imul(Qe,We)|0,g=g+Math.imul(Qe,He)|0;var ec=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(ec>>>26)|0,ec&=67108863,p=Math.imul(we,Be),l=Math.imul(we,Fe),l=l+Math.imul(Se,Be)|0,g=Math.imul(Se,Fe),p=p+Math.imul(me,We)|0,l=l+Math.imul(me,He)|0,l=l+Math.imul(_e,We)|0,g=g+Math.imul(_e,He)|0;var tc=(_+p|0)+((l&8191)<<13)|0;_=(g+(l>>>13)|0)+(tc>>>26)|0,tc&=67108863,p=Math.imul(we,We),l=Math.imul(we,He),l=l+Math.imul(Se,We)|0,g=Math.imul(Se,He);var rc=(_+p|0)+((l&8191)<<13)|0;return _=(g+(l>>>13)|0)+(rc>>>26)|0,rc&=67108863,x[0]=zr,x[1]=qr,x[2]=Gr,x[3]=Jr,x[4]=Zr,x[5]=Qr,x[6]=Yr,x[7]=Kr,x[8]=Xr,x[9]=en,x[10]=tn,x[11]=rn,x[12]=nn,x[13]=sn,x[14]=Ka,x[15]=Xa,x[16]=ec,x[17]=tc,x[18]=rc,_!==0&&(x[19]=_,b.length++),b};Math.imul||(A=I);function L(S,u,d){d.negative=u.negative^S.negative,d.length=S.length+u.length;for(var b=0,w=0,E=0;E<d.length-1;E++){var x=w;w=0;for(var _=b&67108863,p=Math.min(E,u.length-1),l=Math.max(0,E-S.length+1);l<=p;l++){var g=E-l,R=S.words[g]|0,C=u.words[l]|0,k=R*C,F=k&67108863;x=x+(k/67108864|0)|0,F=F+_|0,_=F&67108863,x=x+(F>>>26)|0,w+=x>>>26,x&=67108863}d.words[E]=_,b=x,x=w}return b!==0?d.words[E]=b:d.length--,d._strip()}function j(S,u,d){return L(S,u,d)}s.prototype.mulTo=function(u,d){var b,w=this.length+u.length;return this.length===10&&u.length===10?b=A(this,u,d):w<63?b=I(this,u,d):w<1024?b=L(this,u,d):b=j(this,u,d),b},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),j(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var b=0,w=0;w<this.length;w++){var E=(this.words[w]|0)*u,x=(E&67108863)+(b&67108863);b>>=26,b+=E/67108864|0,b+=x>>>26,this.words[w]=x&67108863}return b!==0&&(this.words[w]=b,this.length++),d?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=T(u);if(d.length===0)return new s(1);for(var b=this,w=0;w<d.length&&d[w]===0;w++,b=b.sqr());if(++w<d.length)for(var E=b.sqr();w<d.length;w++,E=E.sqr())d[w]!==0&&(b=b.mul(E));return b},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,b=(u-d)/26,w=67108863>>>26-d<<26-d,E;if(d!==0){var x=0;for(E=0;E<this.length;E++){var _=this.words[E]&w,p=(this.words[E]|0)-_<<d;this.words[E]=p|x,x=_>>>26-d}x&&(this.words[E]=x,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,b){n(typeof u=="number"&&u>=0);var w;d?w=(d-d%26)/26:w=0;var E=u%26,x=Math.min((u-E)/26,this.length),_=67108863^67108863>>>E<<E,p=b;if(w-=x,w=Math.max(0,w),p){for(var l=0;l<x;l++)p.words[l]=this.words[l];p.length=x}if(x!==0)if(this.length>x)for(this.length-=x,l=0;l<this.length;l++)this.words[l]=this.words[l+x];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(g!==0||l>=w);l--){var R=this.words[l]|0;this.words[l]=g<<26-E|R>>>E,g=R&_}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,d,b){return n(this.negative===0),this.iushrn(u,d,b)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,b=(u-d)/26,w=1<<d;if(this.length<=b)return!1;var E=this.words[b];return!!(E&w)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,b=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,b){var w=u.length+b,E;this._expand(w);var x,_=0;for(E=0;E<u.length;E++){x=(this.words[E+b]|0)+_;var p=(u.words[E]|0)*d;x-=p&67108863,_=(x>>26)-(p/67108864|0),this.words[E+b]=x&67108863}for(;E<this.length-b;E++)x=(this.words[E+b]|0)+_,_=x>>26,this.words[E+b]=x&67108863;if(_===0)return this._strip();for(n(_===-1),_=0,E=0;E<this.length;E++)x=-(this.words[E]|0)+_,_=x>>26,this.words[E]=x&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,d){var b=this.length-u.length,w=this.clone(),E=u,x=E.words[E.length-1]|0,_=this._countBits(x);b=26-_,b!==0&&(E=E.ushln(b),w.iushln(b),x=E.words[E.length-1]|0);var p=w.length-E.length,l;if(d!=="mod"){l=new s(null),l.length=p+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var R=w.clone()._ishlnsubmul(E,1,p);R.negative===0&&(w=R,l&&(l.words[p]=1));for(var C=p-1;C>=0;C--){var k=(w.words[E.length+C]|0)*67108864+(w.words[E.length+C-1]|0);for(k=Math.min(k/x|0,67108863),w._ishlnsubmul(E,k,C);w.negative!==0;)k--,w.negative=0,w._ishlnsubmul(E,1,C),w.isZero()||(w.negative^=1);l&&(l.words[C]=k)}return l&&l._strip(),w._strip(),d!=="div"&&b!==0&&w.iushrn(b),{div:l||null,mod:w}},s.prototype.divmod=function(u,d,b){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var w,E,x;return this.negative!==0&&u.negative===0?(x=this.neg().divmod(u,d),d!=="mod"&&(w=x.div.neg()),d!=="div"&&(E=x.mod.neg(),b&&E.negative!==0&&E.iadd(u)),{div:w,mod:E}):this.negative===0&&u.negative!==0?(x=this.divmod(u.neg(),d),d!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):(this.negative&u.negative)!==0?(x=this.neg().divmod(u.neg(),d),d!=="div"&&(E=x.mod.neg(),b&&E.negative!==0&&E.isub(u)),{div:x.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(u):d.mod,w=u.ushrn(1),E=u.andln(1),x=b.cmp(w);return x<0||E===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var b=(1<<26)%u,w=0,E=this.length-1;E>=0;E--)w=(b*w+(this.words[E]|0))%u;return d?-w:w},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var b=0,w=this.length-1;w>=0;w--){var E=(this.words[w]|0)+b*67108864;this.words[w]=E/u|0,b=E%u}return this._strip(),d?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,b=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var w=new s(1),E=new s(0),x=new s(0),_=new s(1),p=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++p;for(var l=b.clone(),g=d.clone();!d.isZero();){for(var R=0,C=1;(d.words[0]&C)===0&&R<26;++R,C<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(l),E.isub(g)),w.iushrn(1),E.iushrn(1);for(var k=0,F=1;(b.words[0]&F)===0&&k<26;++k,F<<=1);if(k>0)for(b.iushrn(k);k-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(g)),x.iushrn(1),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),w.isub(x),E.isub(_)):(b.isub(d),x.isub(w),_.isub(E))}return{a:x,b:_,gcd:b.iushln(p)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,b=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var w=new s(1),E=new s(0),x=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var _=0,p=1;(d.words[0]&p)===0&&_<26;++_,p<<=1);if(_>0)for(d.iushrn(_);_-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);for(var l=0,g=1;(b.words[0]&g)===0&&l<26;++l,g<<=1);if(l>0)for(b.iushrn(l);l-- >0;)E.isOdd()&&E.iadd(x),E.iushrn(1);d.cmp(b)>=0?(d.isub(b),w.isub(E)):(b.isub(d),E.isub(w))}var R;return d.cmpn(1)===0?R=w:R=E,R.cmpn(0)<0&&R.iadd(u),R},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),b=u.clone();d.negative=0,b.negative=0;for(var w=0;d.isEven()&&b.isEven();w++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=d.cmp(b);if(E<0){var x=d;d=b,b=x}else if(E===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(w)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,b=(u-d)/26,w=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=w,this;for(var E=w,x=b;E!==0&&x<this.length;x++){var _=this.words[x]|0;_+=E,E=_>>>26,_&=67108863,this.words[x]=_}return E!==0&&(this.words[x]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var b;if(this.length>1)b=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var w=this.words[0]|0;b=w===u?0:w<u?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var w=this.words[b]|0,E=u.words[b]|0;if(w!==E){w<E?d=-1:w>E&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new q(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var P={k256:null,p224:null,p192:null,p25519:null};function $(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},$.prototype.ireduce=function(u){var d=u,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var w=b<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},$.prototype.split=function(u,d){u.iushrn(this.n,0,d)},$.prototype.imulK=function(u){return u.imul(this.k)};function G(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(G,$),G.prototype.split=function(u,d){for(var b=4194303,w=Math.min(u.length,9),E=0;E<w;E++)d.words[E]=u.words[E];if(d.length=w,u.length<=9){u.words[0]=0,u.length=1;return}var x=u.words[9];for(d.words[d.length++]=x&b,E=10;E<u.length;E++){var _=u.words[E]|0;u.words[E-10]=(_&b)<<4|x>>>22,x=_}x>>>=22,u.words[E-10]=x,x===0&&u.length>10?u.length-=10:u.length-=9},G.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,b=0;b<u.length;b++){var w=u.words[b]|0;d+=w*977,u.words[b]=d&67108863,d=w*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Z,$);function U(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(U,$);function K(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,$),K.prototype.imulK=function(u){for(var d=0,b=0;b<u.length;b++){var w=(u.words[b]|0)*19+d,E=w&67108863;w>>>=26,u.words[b]=E,d=w}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(P[u])return P[u];var d;if(u==="k256")d=new G;else if(u==="p224")d=new Z;else if(u==="p192")d=new U;else if(u==="p25519")d=new K;else throw new Error("Unknown prime "+u);return P[u]=d,d};function q(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}q.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},q.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},q.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},q.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},q.prototype.add=function(u,d){this._verify2(u,d);var b=u.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},q.prototype.iadd=function(u,d){this._verify2(u,d);var b=u.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},q.prototype.sub=function(u,d){this._verify2(u,d);var b=u.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},q.prototype.isub=function(u,d){this._verify2(u,d);var b=u.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},q.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},q.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},q.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},q.prototype.isqr=function(u){return this.imul(u,u.clone())},q.prototype.sqr=function(u){return this.mul(u,u)},q.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(u,b)}for(var w=this.m.subn(1),E=0;!w.isZero()&&w.andln(1)===0;)E++,w.iushrn(1);n(!w.isZero());var x=new s(1).toRed(this),_=x.redNeg(),p=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,p).cmp(_)!==0;)l.redIAdd(_);for(var g=this.pow(l,w),R=this.pow(u,w.addn(1).iushrn(1)),C=this.pow(u,w),k=E;C.cmp(x)!==0;){for(var F=C,Q=0;F.cmp(x)!==0;Q++)F=F.redSqr();n(Q<k);var D=this.pow(g,new s(1).iushln(k-Q-1));R=R.redMul(D),g=D.redSqr(),C=C.redMul(g),k=Q}return R},q.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},q.prototype.pow=function(u,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var b=4,w=new Array(1<<b);w[0]=new s(1).toRed(this),w[1]=u;for(var E=2;E<w.length;E++)w[E]=this.mul(w[E-1],u);var x=w[0],_=0,p=0,l=d.bitLength()%26;for(l===0&&(l=26),E=d.length-1;E>=0;E--){for(var g=d.words[E],R=l-1;R>=0;R--){var C=g>>R&1;if(x!==w[0]&&(x=this.sqr(x)),C===0&&_===0){p=0;continue}_<<=1,_|=C,p++,!(p!==b&&(E!==0||R!==0))&&(x=this.mul(x,w[_]),p=0,_=0)}l=26}return x},q.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},q.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new V(u)};function V(S){q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,q),V.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},V.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},V.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var b=u.imul(d),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(w).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},V.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var b=u.mul(d),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(w).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},V.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,B)})(Es);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.EVENTS=void 0;Ni.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var xs={},xu={},jr={},Jg=gs;gs.default=gs;gs.stable=dd;gs.stableStringify=dd;var Mo="[...]",fd="[Circular]",Sn=[],gn=[];function hd(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function gs(t,e,r,n){typeof n>"u"&&(n=hd()),Gc(t,"",0,[],void 0,0,n);var i;try{gn.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,pd(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sn.length!==0;){var s=Sn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function si(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Sn.push([n,r,e,i])):gn.push([e,r,t]):(n[r]=t,Sn.push([n,r,e]))}function Gc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){si(fd,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){si(Mo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){si(Mo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Gc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var f=c[a];Gc(t[f],f,a,n,t,s,o)}}n.pop()}}function Zg(t,e){return t<e?-1:t>e?1:0}function dd(t,e,r,n){typeof n>"u"&&(n=hd());var i=Jc(t,"",0,[],void 0,0,n)||t,s;try{gn.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,pd(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sn.length!==0;){var o=Sn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Jc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){si(fd,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){si(Mo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){si(Mo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Jc(t[a],a,a,n,t,s,o);else{var c={},f=Object.keys(t).sort(Zg);for(a=0;a<f.length;a++){var h=f[a];Jc(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")Sn.push([i,e,t]),i[e]=c;else return c}n.pop()}}function pd(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(gn.length>0)for(var n=0;n<gn.length;n++){var i=gn[n];if(i[1]===e&&i[0]===r){r=i[2],gn.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(jr,"__esModule",{value:!0});jr.EthereumProviderError=jr.EthereumRpcError=void 0;const Qg=Jg;class gd extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Qg.default(this.serialize(),Xg,2)}}jr.EthereumRpcError=gd;class Yg extends gd{constructor(e,r,n){if(!Kg(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}jr.EthereumProviderError=Yg;function Kg(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Xg(t,e){if(e!=="[Circular]")return e}var Mu={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.errorValues=Br.errorCodes=void 0;Br.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Br.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Br,r=jr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(y,m=i){if(Number.isInteger(y)){const M=y.toString();if(v(e.errorValues,M))return e.errorValues[M].message;if(f(y))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return m}t.getMessageFromCode=o;function a(y){if(!Number.isInteger(y))return!1;const m=y.toString();return!!(e.errorValues[m]||f(y))}t.isValidCode=a;function c(y,{fallbackError:m=s,shouldIncludeStack:M=!1}={}){var N,T;if(!m||!Number.isInteger(m.code)||typeof m.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(y instanceof r.EthereumRpcError)return y.serialize();const I={};if(y&&typeof y=="object"&&!Array.isArray(y)&&v(y,"code")&&a(y.code)){const L=y;I.code=L.code,L.message&&typeof L.message=="string"?(I.message=L.message,v(L,"data")&&(I.data=L.data)):(I.message=o(I.code),I.data={originalError:h(y)})}else{I.code=m.code;const L=(N=y)===null||N===void 0?void 0:N.message;I.message=L&&typeof L=="string"?L:m.message,I.data={originalError:h(y)}}const A=(T=y)===null||T===void 0?void 0:T.stack;return M&&y&&A&&typeof A=="string"&&(I.stack=A),I}t.serializeError=c;function f(y){return y>=-32099&&y<=-32e3}function h(y){return y&&typeof y=="object"&&!Array.isArray(y)?Object.assign({},y):y}function v(y,m){return Object.prototype.hasOwnProperty.call(y,m)}})(Mu);var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.ethErrors=void 0;const Cu=jr,bd=Mu,yt=Br;Go.ethErrors={rpc:{parse:t=>jt(yt.errorCodes.rpc.parse,t),invalidRequest:t=>jt(yt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>jt(yt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>jt(yt.errorCodes.rpc.methodNotFound,t),internal:t=>jt(yt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return jt(e,t)},invalidInput:t=>jt(yt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>jt(yt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>jt(yt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>jt(yt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>jt(yt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>jt(yt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Zi(yt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Zi(yt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Zi(yt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Zi(yt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Zi(yt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Cu.EthereumProviderError(e,r,n)}}};function jt(t,e){const[r,n]=vd(e);return new Cu.EthereumRpcError(t,r||bd.getMessageFromCode(t),n)}function Zi(t,e){const[r,n]=vd(e);return new Cu.EthereumProviderError(t,r||bd.getMessageFromCode(t),n)}function vd(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=jr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Mu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Go;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Br;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(xu);var ve={},Jo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Jo);Object.defineProperty(ve,"__esModule",{value:!0});ve.EthereumAddressFromSignedMessageResponse=ve.SubmitEthereumTransactionResponse=ve.SignEthereumTransactionResponse=ve.SignEthereumMessageResponse=ve.isRequestEthereumAccountsResponse=ve.SelectProviderResponse=ve.WatchAssetReponse=ve.RequestEthereumAccountsResponse=ve.SwitchEthereumChainResponse=ve.AddEthereumChainResponse=ve.isErrorResponse=void 0;const br=Jo;function eb(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}ve.isErrorResponse=eb;function tb(t){return{method:br.Web3Method.addEthereumChain,result:t}}ve.AddEthereumChainResponse=tb;function rb(t){return{method:br.Web3Method.switchEthereumChain,result:t}}ve.SwitchEthereumChainResponse=rb;function nb(t){return{method:br.Web3Method.requestEthereumAccounts,result:t}}ve.RequestEthereumAccountsResponse=nb;function ib(t){return{method:br.Web3Method.watchAsset,result:t}}ve.WatchAssetReponse=ib;function sb(t){return{method:br.Web3Method.selectProvider,result:t}}ve.SelectProviderResponse=sb;function ob(t){return t&&t.method===br.Web3Method.requestEthereumAccounts}ve.isRequestEthereumAccountsResponse=ob;function ab(t){return{method:br.Web3Method.signEthereumMessage,result:t}}ve.SignEthereumMessageResponse=ab;function cb(t){return{method:br.Web3Method.signEthereumTransaction,result:t}}ve.SignEthereumTransactionResponse=cb;function ub(t){return{method:br.Web3Method.submitEthereumTransaction,result:t}}ve.SubmitEthereumTransactionResponse=ub;function lb(t){return{method:br.Web3Method.ethereumAddressFromSignedMessage,result:t}}ve.EthereumAddressFromSignedMessageResponse=lb;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.LIB_VERSION=void 0;Ms.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=xu,r=ve,n=Ms;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,v){const y=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),m=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");m.searchParams.set("version",n.LIB_VERSION),m.searchParams.set("code",y.code.toString());const M=a(y.data,v);return M&&m.searchParams.set("method",M),m.searchParams.set("message",y.message),Object.assign(Object.assign({},y),{docUrl:m.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,v){var y;const m=(y=h)===null||y===void 0?void 0:y.method;if(m)return m;if(v!==void 0)return typeof v=="string"?v:Array.isArray(v)?v.length>0?v[0].method:void 0:v.method}function c(h){var v;if(typeof h=="number")return h;if(f(h))return(v=h.code)!==null&&v!==void 0?v:h.errorCode}t.getErrorCode=c;function f(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(xs);var Li={},yd={exports:{}},$t={exports:{}};typeof Object.create=="function"?$t.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$t.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var pr={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Vo,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof c=="string"?f.fill(a,c):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(pr,pr.exports);var md=pr.exports.Buffer;function Zo(t,e){this._block=md.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Zo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=md.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),f=0;f<c;f++)r[a+f]=t[o+f];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Zo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Zo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Pi=Zo,fb=$t.exports,_d=Pi,hb=pr.exports.Buffer,db=[1518500249,1859775393,-1894007588,-899497514],pb=new Array(80);function Cs(){this.init(),this._w=pb,_d.call(this,64,56)}fb(Cs,_d);Cs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function gb(t){return t<<5|t>>>27}function bb(t){return t<<30|t>>>2}function vb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Cs.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var f=~~(c/20),h=gb(r)+vb(f,n,i,s)+o+e[c]+db[f]|0;o=s,s=i,i=bb(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Cs.prototype._hash=function(){var t=hb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var yb=Cs,mb=$t.exports,wd=Pi,_b=pr.exports.Buffer,wb=[1518500249,1859775393,-1894007588,-899497514],Sb=new Array(80);function Rs(){this.init(),this._w=Sb,wd.call(this,64,56)}mb(Rs,wd);Rs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Eb(t){return t<<1|t>>>31}function xb(t){return t<<5|t>>>27}function Mb(t){return t<<30|t>>>2}function Cb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Rs.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Eb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var f=~~(c/20),h=xb(r)+Cb(f,n,i,s)+o+e[c]+wb[f]|0;o=s,s=i,i=Mb(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Rs.prototype._hash=function(){var t=_b.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Rb=Rs,Ib=$t.exports,Sd=Pi,Ab=pr.exports.Buffer,kb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Tb=new Array(64);function Is(){this.init(),this._w=Tb,Sd.call(this,64,56)}Ib(Is,Sd);Is.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Ob(t,e,r){return r^t&(e^r)}function Nb(t,e,r){return t&e|r&(t|e)}function Lb(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Pb(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function $b(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Db(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Is.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,f=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=Db(e[h-2])+e[h-7]+$b(e[h-15])+e[h-16]|0;for(var v=0;v<64;++v){var y=f+Pb(o)+Ob(o,a,c)+kb[v]+e[v]|0,m=Lb(r)+Nb(r,n,i)|0;f=c,c=a,a=o,o=s+y|0,s=i,i=n,n=r,r=y+m|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};Is.prototype._hash=function(){var t=Ab.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ed=Is,jb=$t.exports,Bb=Ed,Fb=Pi,Wb=pr.exports.Buffer,Hb=new Array(64);function Qo(){this.init(),this._w=Hb,Fb.call(this,64,56)}jb(Qo,Bb);Qo.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Qo.prototype._hash=function(){var t=Wb.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Ub=Qo,Vb=$t.exports,xd=Pi,zb=pr.exports.Buffer,Fl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],qb=new Array(160);function As(){this.init(),this._w=qb,xd.call(this,128,112)}Vb(As,xd);As.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Wl(t,e,r){return r^t&(e^r)}function Hl(t,e,r){return t&e|r&(t|e)}function Ul(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Vl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Gb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Jb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Zb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Qb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ct(t,e){return t>>>0<e>>>0?1:0}As.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,f=this._hh|0,h=this._al|0,v=this._bl|0,y=this._cl|0,m=this._dl|0,M=this._el|0,N=this._fl|0,T=this._gl|0,I=this._hl|0,A=0;A<32;A+=2)e[A]=t.readInt32BE(A*4),e[A+1]=t.readInt32BE(A*4+4);for(;A<160;A+=2){var L=e[A-30],j=e[A-15*2+1],P=Gb(L,j),$=Jb(j,L);L=e[A-2*2],j=e[A-2*2+1];var G=Zb(L,j),Z=Qb(j,L),U=e[A-7*2],K=e[A-7*2+1],q=e[A-16*2],V=e[A-16*2+1],S=$+K|0,u=P+U+ct(S,$)|0;S=S+Z|0,u=u+G+ct(S,Z)|0,S=S+V|0,u=u+q+ct(S,V)|0,e[A]=u,e[A+1]=S}for(var d=0;d<160;d+=2){u=e[d],S=e[d+1];var b=Hl(r,n,i),w=Hl(h,v,y),E=Ul(r,h),x=Ul(h,r),_=Vl(o,M),p=Vl(M,o),l=Fl[d],g=Fl[d+1],R=Wl(o,a,c),C=Wl(M,N,T),k=I+p|0,F=f+_+ct(k,I)|0;k=k+C|0,F=F+R+ct(k,C)|0,k=k+g|0,F=F+l+ct(k,g)|0,k=k+S|0,F=F+u+ct(k,S)|0;var Q=x+w|0,D=E+b+ct(Q,x)|0;f=c,I=T,c=a,T=N,a=o,N=M,M=m+k|0,o=s+F+ct(M,m)|0,s=i,m=y,i=n,y=v,n=r,v=h,h=k+Q|0,r=F+D+ct(h,k)|0}this._al=this._al+h|0,this._bl=this._bl+v|0,this._cl=this._cl+y|0,this._dl=this._dl+m|0,this._el=this._el+M|0,this._fl=this._fl+N|0,this._gl=this._gl+T|0,this._hl=this._hl+I|0,this._ah=this._ah+r+ct(this._al,h)|0,this._bh=this._bh+n+ct(this._bl,v)|0,this._ch=this._ch+i+ct(this._cl,y)|0,this._dh=this._dh+s+ct(this._dl,m)|0,this._eh=this._eh+o+ct(this._el,M)|0,this._fh=this._fh+a+ct(this._fl,N)|0,this._gh=this._gh+c+ct(this._gl,T)|0,this._hh=this._hh+f+ct(this._hl,I)|0};As.prototype._hash=function(){var t=zb.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Md=As,Yb=$t.exports,Kb=Md,Xb=Pi,ev=pr.exports.Buffer,tv=new Array(160);function Yo(){this.init(),this._w=tv,Xb.call(this,128,112)}Yb(Yo,Kb);Yo.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Yo.prototype._hash=function(){var t=ev.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var rv=Yo,kn=yd.exports=function(e){e=e.toLowerCase();var r=kn[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};kn.sha=yb;kn.sha1=Rb;kn.sha224=Ub;kn.sha256=Ed;kn.sha384=rv;kn.sha512=Md;var W={},nv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},zl=typeof Symbol<"u"&&Symbol,iv=nv,sv=function(){return typeof zl!="function"||typeof Symbol!="function"||typeof zl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:iv()},ql={foo:{}},ov=Object,av=function(){return{__proto__:ql}.foo===ql.foo&&!({__proto__:null}instanceof ov)},cv="Function.prototype.bind called on incompatible ",nc=Array.prototype.slice,uv=Object.prototype.toString,lv="[object Function]",fv=function(e){var r=this;if(typeof r!="function"||uv.call(r)!==lv)throw new TypeError(cv+r);for(var n=nc.call(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,n.concat(nc.call(arguments)));return Object(h)===h?h:this}else return r.apply(e,n.concat(nc.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},hv=fv,Ru=Function.prototype.bind||hv,dv=Ru,pv=dv.call(Function.call,Object.prototype.hasOwnProperty),se,gi=SyntaxError,Cd=Function,oi=TypeError,ic=function(t){try{return Cd('"use strict"; return ('+t+").constructor;")()}catch{}},_n=Object.getOwnPropertyDescriptor;if(_n)try{_n({},"")}catch{_n=null}var sc=function(){throw new oi},gv=_n?function(){try{return arguments.callee,sc}catch{try{return _n(arguments,"callee").get}catch{return sc}}}():sc,Zn=sv(),bv=av(),ft=Object.getPrototypeOf||(bv?function(t){return t.__proto__}:null),ti={},vv=typeof Uint8Array>"u"||!ft?se:ft(Uint8Array),wn={"%AggregateError%":typeof AggregateError>"u"?se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?se:ArrayBuffer,"%ArrayIteratorPrototype%":Zn&&ft?ft([][Symbol.iterator]()):se,"%AsyncFromSyncIteratorPrototype%":se,"%AsyncFunction%":ti,"%AsyncGenerator%":ti,"%AsyncGeneratorFunction%":ti,"%AsyncIteratorPrototype%":ti,"%Atomics%":typeof Atomics>"u"?se:Atomics,"%BigInt%":typeof BigInt>"u"?se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?se:FinalizationRegistry,"%Function%":Cd,"%GeneratorFunction%":ti,"%Int8Array%":typeof Int8Array>"u"?se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zn&&ft?ft(ft([][Symbol.iterator]())):se,"%JSON%":typeof JSON=="object"?JSON:se,"%Map%":typeof Map>"u"?se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zn||!ft?se:ft(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?se:Promise,"%Proxy%":typeof Proxy>"u"?se:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zn||!ft?se:ft(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zn&&ft?ft(""[Symbol.iterator]()):se,"%Symbol%":Zn?Symbol:se,"%SyntaxError%":gi,"%ThrowTypeError%":gv,"%TypedArray%":vv,"%TypeError%":oi,"%Uint8Array%":typeof Uint8Array>"u"?se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?se:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?se:WeakSet};if(ft)try{null.error}catch(t){var yv=ft(ft(t));wn["%Error.prototype%"]=yv}var mv=function t(e){var r;if(e==="%AsyncFunction%")r=ic("async function () {}");else if(e==="%GeneratorFunction%")r=ic("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ic("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ft&&(r=ft(i.prototype))}return wn[e]=r,r},Gl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ks=Ru,Co=pv,_v=ks.call(Function.call,Array.prototype.concat),wv=ks.call(Function.apply,Array.prototype.splice),Jl=ks.call(Function.call,String.prototype.replace),Ro=ks.call(Function.call,String.prototype.slice),Sv=ks.call(Function.call,RegExp.prototype.exec),Ev=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xv=/\\(\\)?/g,Mv=function(e){var r=Ro(e,0,1),n=Ro(e,-1);if(r==="%"&&n!=="%")throw new gi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new gi("invalid intrinsic syntax, expected opening `%`");var i=[];return Jl(e,Ev,function(s,o,a,c){i[i.length]=a?Jl(c,xv,"$1"):o||s}),i},Cv=function(e,r){var n=e,i;if(Co(Gl,n)&&(i=Gl[n],n="%"+i[0]+"%"),Co(wn,n)){var s=wn[n];if(s===ti&&(s=mv(n)),typeof s>"u"&&!r)throw new oi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new gi("intrinsic "+e+" does not exist!")},Iu=function(e,r){if(typeof e!="string"||e.length===0)throw new oi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new oi('"allowMissing" argument must be a boolean');if(Sv(/^%?[^%]*%?$/,e)===null)throw new gi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Mv(e),i=n.length>0?n[0]:"",s=Cv("%"+i+"%",r),o=s.name,a=s.value,c=!1,f=s.alias;f&&(i=f[0],wv(n,_v([0,1],f)));for(var h=1,v=!0;h<n.length;h+=1){var y=n[h],m=Ro(y,0,1),M=Ro(y,-1);if((m==='"'||m==="'"||m==="`"||M==='"'||M==="'"||M==="`")&&m!==M)throw new gi("property names with quotes must have matching quotes");if((y==="constructor"||!v)&&(c=!0),i+="."+y,o="%"+i+"%",Co(wn,o))a=wn[o];else if(a!=null){if(!(y in a)){if(!r)throw new oi("base intrinsic for "+e+" exists, but the property is not available.");return}if(_n&&h+1>=n.length){var N=_n(a,y);v=!!N,v&&"get"in N&&!("originalValue"in N.get)?a=N.get:a=a[y]}else v=Co(a,y),a=a[y];v&&!c&&(wn[o]=a)}}return a},Rd={exports:{}};(function(t){var e=Ru,r=Iu,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(v){var y=s(e,i,arguments);if(o&&a){var m=o(y,"length");m.configurable&&a(y,"length",{value:1+c(0,v.length-(arguments.length-1))})}return y};var f=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:f}):t.exports.apply=f})(Rd);var Id=Iu,Ad=Rd.exports,Rv=Ad(Id("String.prototype.indexOf")),Iv=function(e,r){var n=Id(e,!!r);return typeof n=="function"&&Rv(e,".prototype.")>-1?Ad(n):n},Au=typeof Map=="function"&&Map.prototype,oc=Object.getOwnPropertyDescriptor&&Au?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Io=Au&&oc&&typeof oc.get=="function"?oc.get:null,Zl=Au&&Map.prototype.forEach,ku=typeof Set=="function"&&Set.prototype,ac=Object.getOwnPropertyDescriptor&&ku?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ao=ku&&ac&&typeof ac.get=="function"?ac.get:null,Ql=ku&&Set.prototype.forEach,Av=typeof WeakMap=="function"&&WeakMap.prototype,ns=Av?WeakMap.prototype.has:null,kv=typeof WeakSet=="function"&&WeakSet.prototype,is=kv?WeakSet.prototype.has:null,Tv=typeof WeakRef=="function"&&WeakRef.prototype,Yl=Tv?WeakRef.prototype.deref:null,Ov=Boolean.prototype.valueOf,Nv=Object.prototype.toString,Lv=Function.prototype.toString,Pv=String.prototype.match,Tu=String.prototype.slice,Pr=String.prototype.replace,$v=String.prototype.toUpperCase,Kl=String.prototype.toLowerCase,kd=RegExp.prototype.test,Xl=Array.prototype.concat,cr=Array.prototype.join,Dv=Array.prototype.slice,ef=Math.floor,Zc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cc=Object.getOwnPropertySymbols,Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,bi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",wt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===bi?"object":"symbol")?Symbol.toStringTag:null,Td=Object.prototype.propertyIsEnumerable,tf=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function rf(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||kd.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ef(-t):ef(t);if(n!==t){var i=String(n),s=Tu.call(e,i.length+1);return Pr.call(i,r,"$&_")+"."+Pr.call(Pr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pr.call(e,r,"$&_")}var Yc=Su,nf=Yc.custom,sf=Nd(nf)?nf:null,jv=function t(e,r,n,i){var s=r||{};if(kr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=kr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Pd(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?rf(e,c):c}if(typeof e=="bigint"){var f=String(e)+"n";return a?rf(e,f):f}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Kc(e)?"[Array]":"[Object]";var v=ry(s,n);if(typeof i>"u")i=[];else if(Ld(i,e)>=0)return"[Circular]";function y(S,u,d){if(u&&(i=Dv.call(i),i.push(u)),d){var b={depth:s.depth};return kr(s,"quoteStyle")&&(b.quoteStyle=s.quoteStyle),t(S,b,n+1,i)}return t(S,s,n+1,i)}if(typeof e=="function"&&!of(e)){var m=Gv(e),M=Xs(e,y);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(M.length>0?" { "+cr.call(M,", ")+" }":"")}if(Nd(e)){var N=bi?Pr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qc.call(e);return typeof e=="object"&&!bi?Qi(N):N}if(Xv(e)){for(var T="<"+Kl.call(String(e.nodeName)),I=e.attributes||[],A=0;A<I.length;A++)T+=" "+I[A].name+"="+Od(Bv(I[A].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+Kl.call(String(e.nodeName))+">",T}if(Kc(e)){if(e.length===0)return"[]";var L=Xs(e,y);return v&&!ty(L)?"["+Xc(L,v)+"]":"[ "+cr.call(L,", ")+" ]"}if(Wv(e)){var j=Xs(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!Td.call(e,"cause")?"{ ["+String(e)+"] "+cr.call(Xl.call("[cause]: "+y(e.cause),j),", ")+" }":j.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+cr.call(j,", ")+" }"}if(typeof e=="object"&&o){if(sf&&typeof e[sf]=="function"&&Yc)return Yc(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Jv(e)){var P=[];return Zl&&Zl.call(e,function(S,u){P.push(y(u,e,!0)+" => "+y(S,e))}),af("Map",Io.call(e),P,v)}if(Yv(e)){var $=[];return Ql&&Ql.call(e,function(S){$.push(y(S,e))}),af("Set",Ao.call(e),$,v)}if(Zv(e))return uc("WeakMap");if(Kv(e))return uc("WeakSet");if(Qv(e))return uc("WeakRef");if(Uv(e))return Qi(y(Number(e)));if(zv(e))return Qi(y(Zc.call(e)));if(Vv(e))return Qi(Ov.call(e));if(Hv(e))return Qi(y(String(e)));if(!Fv(e)&&!of(e)){var G=Xs(e,y),Z=tf?tf(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",K=!Z&&wt&&Object(e)===e&&wt in e?Tu.call(Ur(e),8,-1):U?"Object":"",q=Z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",V=q+(K||U?"["+cr.call(Xl.call([],K||[],U||[]),": ")+"] ":"");return G.length===0?V+"{}":v?V+"{"+Xc(G,v)+"}":V+"{ "+cr.call(G,", ")+" }"}return String(e)};function Od(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Bv(t){return Pr.call(String(t),/"/g,"&quot;")}function Kc(t){return Ur(t)==="[object Array]"&&(!wt||!(typeof t=="object"&&wt in t))}function Fv(t){return Ur(t)==="[object Date]"&&(!wt||!(typeof t=="object"&&wt in t))}function of(t){return Ur(t)==="[object RegExp]"&&(!wt||!(typeof t=="object"&&wt in t))}function Wv(t){return Ur(t)==="[object Error]"&&(!wt||!(typeof t=="object"&&wt in t))}function Hv(t){return Ur(t)==="[object String]"&&(!wt||!(typeof t=="object"&&wt in t))}function Uv(t){return Ur(t)==="[object Number]"&&(!wt||!(typeof t=="object"&&wt in t))}function Vv(t){return Ur(t)==="[object Boolean]"&&(!wt||!(typeof t=="object"&&wt in t))}function Nd(t){if(bi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qc)return!1;try{return Qc.call(t),!0}catch{}return!1}function zv(t){if(!t||typeof t!="object"||!Zc)return!1;try{return Zc.call(t),!0}catch{}return!1}var qv=Object.prototype.hasOwnProperty||function(t){return t in this};function kr(t,e){return qv.call(t,e)}function Ur(t){return Nv.call(t)}function Gv(t){if(t.name)return t.name;var e=Pv.call(Lv.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Ld(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Jv(t){if(!Io||!t||typeof t!="object")return!1;try{Io.call(t);try{Ao.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Zv(t){if(!ns||!t||typeof t!="object")return!1;try{ns.call(t,ns);try{is.call(t,is)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Qv(t){if(!Yl||!t||typeof t!="object")return!1;try{return Yl.call(t),!0}catch{}return!1}function Yv(t){if(!Ao||!t||typeof t!="object")return!1;try{Ao.call(t);try{Io.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Kv(t){if(!is||!t||typeof t!="object")return!1;try{is.call(t,is);try{ns.call(t,ns)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Xv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Pd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Pd(Tu.call(t,0,e.maxStringLength),e)+n}var i=Pr.call(Pr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ey);return Od(i,"single",e)}function ey(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+$v.call(e.toString(16))}function Qi(t){return"Object("+t+")"}function uc(t){return t+" { ? }"}function af(t,e,r,n){var i=n?Xc(r,n):cr.call(r,", ");return t+" ("+e+") {"+i+"}"}function ty(t){for(var e=0;e<t.length;e++)if(Ld(t[e],`
`)>=0)return!1;return!0}function ry(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=cr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:cr.call(Array(e+1),r)}}function Xc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+cr.call(t,","+r)+`
`+e.prev}function Xs(t,e){var r=Kc(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=kr(t,i)?e(t[i],t):""}var s=typeof cc=="function"?cc(t):[],o;if(bi){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!kr(t,c)||r&&String(Number(c))===c&&c<t.length||bi&&o["$"+c]instanceof Symbol||(kd.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof cc=="function")for(var f=0;f<s.length;f++)Td.call(t,s[f])&&n.push("["+e(s[f])+"]: "+e(t[s[f]],t));return n}var Ou=Iu,$i=Iv,ny=jv,iy=Ou("%TypeError%"),eo=Ou("%WeakMap%",!0),to=Ou("%Map%",!0),sy=$i("WeakMap.prototype.get",!0),oy=$i("WeakMap.prototype.set",!0),ay=$i("WeakMap.prototype.has",!0),cy=$i("Map.prototype.get",!0),uy=$i("Map.prototype.set",!0),ly=$i("Map.prototype.has",!0),Nu=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},fy=function(t,e){var r=Nu(t,e);return r&&r.value},hy=function(t,e,r){var n=Nu(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},dy=function(t,e){return!!Nu(t,e)},py=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new iy("Side channel does not contain "+ny(s))},get:function(s){if(eo&&s&&(typeof s=="object"||typeof s=="function")){if(e)return sy(e,s)}else if(to){if(r)return cy(r,s)}else if(n)return fy(n,s)},has:function(s){if(eo&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ay(e,s)}else if(to){if(r)return ly(r,s)}else if(n)return dy(n,s);return!1},set:function(s,o){eo&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new eo),oy(e,s,o)):to?(r||(r=new to),uy(r,s,o)):(n||(n={key:{},next:null}),hy(n,s,o))}};return i},gy=String.prototype.replace,by=/%20/g,lc={RFC1738:"RFC1738",RFC3986:"RFC3986"},Lu={default:lc.RFC3986,formatters:{RFC1738:function(t){return gy.call(t,by,"+")},RFC3986:function(t){return String(t)}},RFC1738:lc.RFC1738,RFC3986:lc.RFC3986},vy=Lu,fc=Object.prototype.hasOwnProperty,ln=Array.isArray,nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),yy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ln(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$d=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},my=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ln(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!fc.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ln(e)&&!ln(r)&&(i=$d(e,n)),ln(e)&&ln(r)?(r.forEach(function(s,o){if(fc.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return fc.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},_y=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},wy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Sy=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var f=o.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===vy.RFC1738&&(f===40||f===41)){a+=o.charAt(c);continue}if(f<128){a=a+nr[f];continue}if(f<2048){a=a+(nr[192|f>>6]+nr[128|f&63]);continue}if(f<55296||f>=57344){a=a+(nr[224|f>>12]+nr[128|f>>6&63]+nr[128|f&63]);continue}c+=1,f=65536+((f&1023)<<10|o.charCodeAt(c)&1023),a+=nr[240|f>>18]+nr[128|f>>12&63]+nr[128|f>>6&63]+nr[128|f&63]}return a},Ey=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var f=a[c],h=o[f];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:f}),n.push(h))}return yy(r),e},xy=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},My=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Cy=function(e,r){return[].concat(e,r)},Ry=function(e,r){if(ln(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Dd={arrayToObject:$d,assign:_y,combine:Cy,compact:Ey,decode:wy,encode:Sy,isBuffer:My,isRegExp:xy,maybeMap:Ry,merge:my},jd=py,vo=Dd,ss=Lu,Iy=Object.prototype.hasOwnProperty,cf={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},mr=Array.isArray,Ay=Array.prototype.push,Bd=function(t,e){Ay.apply(t,mr(e)?e:[e])},ky=Date.prototype.toISOString,uf=ss.default,_t={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:vo.encode,encodeValuesOnly:!1,format:uf,formatter:ss.formatters[uf],indices:!1,serializeDate:function(e){return ky.call(e)},skipNulls:!1,strictNullHandling:!1},Ty=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},hc={},Oy=function t(e,r,n,i,s,o,a,c,f,h,v,y,m,M,N,T){for(var I=e,A=T,L=0,j=!1;(A=A.get(hc))!==void 0&&!j;){var P=A.get(e);if(L+=1,typeof P<"u"){if(P===L)throw new RangeError("Cyclic object value");j=!0}typeof A.get(hc)>"u"&&(L=0)}if(typeof c=="function"?I=c(r,I):I instanceof Date?I=v(I):n==="comma"&&mr(I)&&(I=vo.maybeMap(I,function(b){return b instanceof Date?v(b):b})),I===null){if(s)return a&&!M?a(r,_t.encoder,N,"key",y):r;I=""}if(Ty(I)||vo.isBuffer(I)){if(a){var $=M?r:a(r,_t.encoder,N,"key",y);return[m($)+"="+m(a(I,_t.encoder,N,"value",y))]}return[m(r)+"="+m(String(I))]}var G=[];if(typeof I>"u")return G;var Z;if(n==="comma"&&mr(I))M&&a&&(I=vo.maybeMap(I,a)),Z=[{value:I.length>0?I.join(",")||null:void 0}];else if(mr(c))Z=c;else{var U=Object.keys(I);Z=f?U.sort(f):U}for(var K=i&&mr(I)&&I.length===1?r+"[]":r,q=0;q<Z.length;++q){var V=Z[q],S=typeof V=="object"&&typeof V.value<"u"?V.value:I[V];if(!(o&&S===null)){var u=mr(I)?typeof n=="function"?n(K,V):K:K+(h?"."+V:"["+V+"]");T.set(e,L);var d=jd();d.set(hc,T),Bd(G,t(S,u,n,i,s,o,n==="comma"&&M&&mr(I)?null:a,c,f,h,v,y,m,M,N,d))}}return G},Ny=function(e){if(!e)return _t;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||_t.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ss.default;if(typeof e.format<"u"){if(!Iy.call(ss.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ss.formatters[n],s=_t.filter;return(typeof e.filter=="function"||mr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:_t.addQueryPrefix,allowDots:typeof e.allowDots>"u"?_t.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_t.charsetSentinel,delimiter:typeof e.delimiter>"u"?_t.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:_t.encode,encoder:typeof e.encoder=="function"?e.encoder:_t.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:_t.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:_t.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:_t.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_t.strictNullHandling}},Ly=function(t,e){var r=t,n=Ny(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):mr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in cf?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=cf[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=jd(),v=0;v<i.length;++v){var y=i[v];n.skipNulls&&r[y]===null||Bd(o,Oy(r[y],y,c,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var m=o.join(n.delimiter),M=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?M+="utf8=%26%2310003%3B&":M+="utf8=%E2%9C%93&"),m.length>0?M+m:""},vi=Dd,eu=Object.prototype.hasOwnProperty,Py=Array.isArray,ut={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:vi.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},$y=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Fd=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Dy="utf8=%26%2310003%3B",jy="utf8=%E2%9C%93",By=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,f=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===jy?f="utf-8":o[c]===Dy&&(f="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],v=h.indexOf("]="),y=v===-1?h.indexOf("="):v+1,m,M;y===-1?(m=r.decoder(h,ut.decoder,f,"key"),M=r.strictNullHandling?null:""):(m=r.decoder(h.slice(0,y),ut.decoder,f,"key"),M=vi.maybeMap(Fd(h.slice(y+1),r),function(N){return r.decoder(N,ut.decoder,f,"value")})),M&&r.interpretNumericEntities&&f==="iso-8859-1"&&(M=$y(M)),h.indexOf("[]=")>-1&&(M=Py(M)?[M]:M),eu.call(n,m)?n[m]=vi.combine(n[m],M):n[m]=M}return n},Fy=function(t,e,r,n){for(var i=n?e:Fd(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,f=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(f)&&a!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Wy=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),f=c?s.slice(0,c.index):s,h=[];if(f){if(!n.plainObjects&&eu.call(Object.prototype,f)&&!n.allowPrototypes)return;h.push(f)}for(var v=0;n.depth>0&&(c=a.exec(s))!==null&&v<n.depth;){if(v+=1,!n.plainObjects&&eu.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),Fy(h,r,n,i)}},Hy=function(e){if(!e)return ut;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ut.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ut.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ut.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ut.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ut.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ut.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ut.comma,decoder:typeof e.decoder=="function"?e.decoder:ut.decoder,delimiter:typeof e.delimiter=="string"||vi.isRegExp(e.delimiter)?e.delimiter:ut.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ut.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ut.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ut.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ut.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ut.strictNullHandling}},Uy=function(t,e){var r=Hy(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?By(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Wy(a,n[a],r,typeof t=="string");i=vi.merge(i,c,r)}return r.allowSparse===!0?i:vi.compact(i)},Vy=Ly,zy=Uy,qy=Lu,Gy={formats:qy,parse:zy,stringify:Vy},Ts={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Ts);var Jy=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W,"__esModule",{value:!0});W.isInIFrame=W.createQrUrl=W.getFavicon=W.range=W.isBigNumber=W.ensureParsedJSONObject=W.ensureBN=W.ensureRegExpString=W.ensureIntNumber=W.ensureBuffer=W.ensureAddressString=W.ensureEvenLengthHexString=W.ensureHexString=W.isHexString=W.prepend0x=W.strip0x=W.has0xPrefix=W.hexStringFromIntNumber=W.intNumberFromHexString=W.bigIntStringFromBN=W.hexStringFromBuffer=W.hexStringToUint8Array=W.uint8ArrayToHex=W.randomBytesHex=void 0;const Nr=Jy(Es.exports),Zy=Gy,Tn=xs,Vt=Ts,Wd=/^[0-9]*$/,Hd=/^[a-f0-9]*$/;function Qy(t){return Ud(crypto.getRandomValues(new Uint8Array(t)))}W.randomBytesHex=Qy;function Ud(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}W.uint8ArrayToHex=Ud;function Yy(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}W.hexStringToUint8Array=Yy;function Ky(t,e=!1){const r=t.toString("hex");return(0,Vt.HexString)(e?"0x"+r:r)}W.hexStringFromBuffer=Ky;function Xy(t){return(0,Vt.BigIntString)(t.toString(10))}W.bigIntStringFromBN=Xy;function em(t){return(0,Vt.IntNumber)(new Nr.default(Ns(t,!1),16).toNumber())}W.intNumberFromHexString=em;function tm(t){return(0,Vt.HexString)("0x"+new Nr.default(t).toString(16))}W.hexStringFromIntNumber=tm;function Pu(t){return t.startsWith("0x")||t.startsWith("0X")}W.has0xPrefix=Pu;function Ko(t){return Pu(t)?t.slice(2):t}W.strip0x=Ko;function Vd(t){return Pu(t)?"0x"+t.slice(2):"0x"+t}W.prepend0x=Vd;function Os(t){if(typeof t!="string")return!1;const e=Ko(t).toLowerCase();return Hd.test(e)}W.isHexString=Os;function zd(t,e=!1){if(typeof t=="string"){const r=Ko(t).toLowerCase();if(Hd.test(r))return(0,Vt.HexString)(e?"0x"+r:r)}throw Tn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}W.ensureHexString=zd;function Ns(t,e=!1){let r=zd(t,!1);return r.length%2===1&&(r=(0,Vt.HexString)("0"+r)),e?(0,Vt.HexString)("0x"+r):r}W.ensureEvenLengthHexString=Ns;function rm(t){if(typeof t=="string"){const e=Ko(t).toLowerCase();if(Os(e)&&e.length===40)return(0,Vt.AddressString)(Vd(e))}throw Tn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}W.ensureAddressString=rm;function nm(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Os(t)){const e=Ns(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw Tn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}W.ensureBuffer=nm;function qd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Vt.IntNumber)(t);if(typeof t=="string"){if(Wd.test(t))return(0,Vt.IntNumber)(Number(t));if(Os(t))return(0,Vt.IntNumber)(new Nr.default(Ns(t,!1),16).toNumber())}throw Tn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}W.ensureIntNumber=qd;function im(t){if(t instanceof RegExp)return(0,Vt.RegExpString)(t.toString());throw Tn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}W.ensureRegExpString=im;function sm(t){if(t!==null&&(Nr.default.isBN(t)||Gd(t)))return new Nr.default(t.toString(10),10);if(typeof t=="number")return new Nr.default(qd(t));if(typeof t=="string"){if(Wd.test(t))return new Nr.default(t,10);if(Os(t))return new Nr.default(Ns(t,!1),16)}throw Tn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}W.ensureBN=sm;function om(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Tn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}W.ensureParsedJSONObject=om;function Gd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}W.isBigNumber=Gd;function am(t,e){return Array.from({length:e-t},(r,n)=>t+n)}W.range=am;function cm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}W.getFavicon=cm;function um(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Zy.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}W.createQrUrl=um;function lm(){try{return window.frameElement!==null}catch{return!1}}W.isInIFrame=lm;Object.defineProperty(Li,"__esModule",{value:!0});Li.Session=void 0;const lf=yd.exports,ff=W,hf="session:id",df="session:secret",pf="session:linked";class $u{constructor(e,r,n,i){this._storage=e,this._id=r||(0,ff.randomBytesHex)(16),this._secret=n||(0,ff.randomBytesHex)(32),this._key=new lf.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(hf),n=e.getItem(pf),i=e.getItem(df);return r&&i?new $u(e,r,i,n==="1"):null}static hash(e){return new lf.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(hf,this._id),this._storage.setItem(df,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(pf,this._linked?"1":"0")}}Li.Session=$u;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.WalletSDKRelayAbstract=er.APP_VERSION_KEY=er.LOCAL_STORAGE_ADDRESSES_KEY=er.WALLET_USER_NAME_KEY=void 0;const gf=xs;er.WALLET_USER_NAME_KEY="walletUsername";er.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";er.APP_VERSION_KEY="AppVersion";class fm{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw gf.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,gf.serializeError)(s,e.method);return i})}}er.WalletSDKRelayAbstract=fm;var ko={exports:{}},Jd=wu.exports.EventEmitter;function bf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bf(Object(r),!0).forEach(function(n){hm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hm(t,e,r){return e=Zd(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zd(n.key),n)}}function pm(t,e,r){return e&&yf(t.prototype,e),r&&yf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zd(t){var e=gm(t,"string");return typeof e=="symbol"?e:String(e)}function gm(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bm=Vo,yo=bm.Buffer,vm=Su,tu=vm.inspect,ym=tu&&tu.custom||"inspect";function mm(t,e,r){yo.prototype.copy.call(t,e,r)}var _m=function(){function t(){dm(this,t),this.head=null,this.tail=null,this.length=0}return pm(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return yo.alloc(0);for(var n=yo.allocUnsafe(r>>>0),i=this.head,s=0;i;)mm(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=yo.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:ym,value:function(r,n){return tu(this,vf(vf({},n),{},{depth:0,customInspect:!1}))}}]),t}();function wm(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ru,this,t)):process.nextTick(ru,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(mo,r):(r._writableState.errorEmitted=!0,process.nextTick(mf,r,s)):process.nextTick(mf,r,s):e?(process.nextTick(mo,r),e(s)):process.nextTick(mo,r)}),this)}function mf(t,e){ru(t,e),mo(t)}function mo(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Sm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ru(t,e){t.emit("error",e)}function Em(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Qd={destroy:wm,undestroy:Sm,errorOrDestroy:Em},On={};function xm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Yd={};function qt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){xm(o,s);function o(a,c,f){return s.call(this,n(a,c,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Yd[t]=i}function _f(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Mm(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Cm(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Rm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);qt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Mm(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Cm(t," argument"))i="The ".concat(t," ").concat(n," ").concat(_f(e,"type"));else{var s=Rm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(_f(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");qt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});qt("ERR_STREAM_PREMATURE_CLOSE","Premature close");qt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");qt("ERR_STREAM_WRITE_AFTER_END","write after end");qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");On.codes=Yd;var Im=On.codes.ERR_INVALID_OPT_VALUE;function Am(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function km(t,e,r,n){var i=Am(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Im(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Kd={getHighWaterMark:km},Tm=Om;function Om(t,e){if(dc("noDeprecation"))return t;var r=!1;function n(){if(!r){if(dc("throwDeprecation"))throw new Error(e);dc("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function dc(t){try{if(!B.localStorage)return!1}catch{return!1}var e=B.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Xd=et;function ep(t){var e=this;this.next=null,this.entry=null,this.finish=function(){s1(e,t)}}var ai;et.WritableState=Ls;var Nm={deprecate:Tm},tp=Jd,Xo=Vo.Buffer,Lm=(typeof B<"u"?B:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Pm(t){return Xo.from(t)}function $m(t){return Xo.isBuffer(t)||t instanceof Lm}var Du=Qd,Dm=Kd,jm=Dm.getHighWaterMark,Vr=On.codes,Bm=Vr.ERR_INVALID_ARG_TYPE,Fm=Vr.ERR_METHOD_NOT_IMPLEMENTED,Wm=Vr.ERR_MULTIPLE_CALLBACK,Hm=Vr.ERR_STREAM_CANNOT_PIPE,Um=Vr.ERR_STREAM_DESTROYED,Vm=Vr.ERR_STREAM_NULL_VALUES,zm=Vr.ERR_STREAM_WRITE_AFTER_END,qm=Vr.ERR_UNKNOWN_ENCODING,yi=Du.errorOrDestroy;$t.exports(et,tp);function Gm(){}function Ls(t,e,r){ai=ai||Di,t=t||{},typeof r!="boolean"&&(r=e instanceof ai),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=jm(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){e1(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ep(this)}Ls.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ls.prototype,"buffer",{get:Nm.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _o;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_o=Function.prototype[Symbol.hasInstance],Object.defineProperty(et,Symbol.hasInstance,{value:function(e){return _o.call(this,e)?!0:this!==et?!1:e&&e._writableState instanceof Ls}})):_o=function(e){return e instanceof this};function et(t){ai=ai||Di;var e=this instanceof ai;if(!e&&!_o.call(et,this))return new et(t);this._writableState=new Ls(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),tp.call(this)}et.prototype.pipe=function(){yi(this,new Hm)};function Jm(t,e){var r=new zm;yi(t,r),process.nextTick(e,r)}function Zm(t,e,r,n){var i;return r===null?i=new Vm:typeof r!="string"&&!e.objectMode&&(i=new Bm("chunk",["string","Buffer"],r)),i?(yi(t,i),process.nextTick(n,i),!1):!0}et.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&$m(t);return s&&!Xo.isBuffer(t)&&(t=Pm(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Gm),n.ending?Jm(this,r):(s||Zm(this,n,t,r))&&(n.pendingcb++,i=Ym(this,n,s,t,e,r)),i};et.prototype.cork=function(){this._writableState.corked++};et.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&rp(this,t))};et.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new qm(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Qm(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Xo.from(e,r)),e}Object.defineProperty(et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ym(t,e,r,n,i,s){if(!r){var o=Qm(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else nu(t,e,!1,a,n,i,s);return c}function nu(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Um("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Km(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(bs,t,e),t._writableState.errorEmitted=!0,yi(t,n)):(i(n),t._writableState.errorEmitted=!0,yi(t,n),bs(t,e))}function Xm(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function e1(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Wm;if(Xm(r),e)Km(t,r,n,e,i);else{var s=np(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&rp(t,r),n?process.nextTick(wf,t,r,s,i):wf(t,r,s,i)}}function wf(t,e,r,n){r||t1(t,e),e.pendingcb--,n(),bs(t,e)}function t1(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function rp(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,nu(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new ep(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback,v=e.objectMode?1:c.length;if(nu(t,e,!1,v,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}et.prototype._write=function(t,e,r){r(new Fm("_write()"))};et.prototype._writev=null;et.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||i1(this,n,r),this};Object.defineProperty(et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function np(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function r1(t,e){t._final(function(r){e.pendingcb--,r&&yi(t,r),e.prefinished=!0,t.emit("prefinish"),bs(t,e)})}function n1(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(r1,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function bs(t,e){var r=np(e);if(r&&(n1(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function i1(t,e,r){e.ending=!0,bs(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function s1(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(et.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});et.prototype.destroy=Du.destroy;et.prototype._undestroy=Du.undestroy;et.prototype._destroy=function(t,e){e(t)};var o1=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},Di=gr,ip=op,iu=Xd;$t.exports(gr,ip);for(var Sf=o1(iu.prototype),pc=0;pc<Sf.length;pc++){var gc=Sf[pc];gr.prototype[gc]||(gr.prototype[gc]=iu.prototype[gc])}function gr(t){if(!(this instanceof gr))return new gr(t);ip.call(this,t),iu.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a1)))}Object.defineProperty(gr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(gr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(gr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a1(){this._writableState.ended||process.nextTick(c1,this)}function c1(t){t.end()}Object.defineProperty(gr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var ju={},Bu=pr.exports.Buffer,Ef=Bu.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u1(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function l1(t){var e=u1(t);if(typeof e!="string"&&(Bu.isEncoding===Ef||!Ef(t)))throw new Error("Unknown encoding: "+t);return e||t}ju.StringDecoder=Ps;function Ps(t){this.encoding=l1(t);var e;switch(this.encoding){case"utf16le":this.text=b1,this.end=v1,e=4;break;case"utf8":this.fillLast=d1,e=4;break;case"base64":this.text=y1,this.end=m1,e=3;break;default:this.write=_1,this.end=w1;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Bu.allocUnsafe(e)}Ps.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ps.prototype.end=g1;Ps.prototype.text=p1;Ps.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function bc(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function f1(t,e,r){var n=e.length-1;if(n<r)return 0;var i=bc(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=bc(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=bc(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function h1(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function d1(t){var e=this.lastTotal-this.lastNeed,r=h1(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function p1(t,e){var r=f1(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function g1(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function b1(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function v1(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function y1(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function m1(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function _1(t){return t.toString(this.encoding)}function w1(t){return t&&t.length?this.write(t):""}var xf=On.codes.ERR_STREAM_PREMATURE_CLOSE;function S1(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function E1(){}function x1(t){return t.setHeader&&typeof t.abort=="function"}function sp(t,e,r){if(typeof e=="function")return sp(t,null,e);e||(e={}),r=S1(r||E1);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(t)},h=function(M){r.call(t,M)},v=function(){var M;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(M=new xf),r.call(t,M);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(M=new xf),r.call(t,M)},y=function(){t.req.on("finish",a)};return x1(t)?(t.on("complete",a),t.on("abort",v),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",v),function(){t.removeListener("complete",a),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",v)}}var Fu=sp,ro;function Tr(t,e,r){return e=M1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M1(t){var e=C1(t,"string");return typeof e=="symbol"?e:String(e)}function C1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R1=Fu,Or=Symbol("lastResolve"),un=Symbol("lastReject"),os=Symbol("error"),To=Symbol("ended"),bn=Symbol("lastPromise"),Wu=Symbol("handlePromise"),vn=Symbol("stream");function $r(t,e){return{value:t,done:e}}function I1(t){var e=t[Or];if(e!==null){var r=t[vn].read();r!==null&&(t[bn]=null,t[Or]=null,t[un]=null,e($r(r,!1)))}}function A1(t){process.nextTick(I1,t)}function k1(t,e){return function(r,n){t.then(function(){if(e[To]){r($r(void 0,!0));return}e[Wu](r,n)},n)}}var T1=Object.getPrototypeOf(function(){}),O1=Object.setPrototypeOf((ro={get stream(){return this[vn]},next:function(){var e=this,r=this[os];if(r!==null)return Promise.reject(r);if(this[To])return Promise.resolve($r(void 0,!0));if(this[vn].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[os]?a(e[os]):o($r(void 0,!0))})});var n=this[bn],i;if(n)i=new Promise(k1(n,this));else{var s=this[vn].read();if(s!==null)return Promise.resolve($r(s,!1));i=new Promise(this[Wu])}return this[bn]=i,i}},Tr(ro,Symbol.asyncIterator,function(){return this}),Tr(ro,"return",function(){var e=this;return new Promise(function(r,n){e[vn].destroy(null,function(i){if(i){n(i);return}r($r(void 0,!0))})})}),ro),T1),N1=function(e){var r,n=Object.create(O1,(r={},Tr(r,vn,{value:e,writable:!0}),Tr(r,Or,{value:null,writable:!0}),Tr(r,un,{value:null,writable:!0}),Tr(r,os,{value:null,writable:!0}),Tr(r,To,{value:e._readableState.endEmitted,writable:!0}),Tr(r,Wu,{value:function(s,o){var a=n[vn].read();a?(n[bn]=null,n[Or]=null,n[un]=null,s($r(a,!1))):(n[Or]=s,n[un]=o)},writable:!0}),r));return n[bn]=null,R1(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[un];s!==null&&(n[bn]=null,n[Or]=null,n[un]=null,s(i)),n[os]=i;return}var o=n[Or];o!==null&&(n[bn]=null,n[Or]=null,n[un]=null,o($r(void 0,!0))),n[To]=!0}),e.on("readable",A1.bind(null,n)),n},L1=N1,P1=function(){throw new Error("Readable.from is not available in the browser")},op=ce,ci;ce.ReadableState=cp;wu.exports.EventEmitter;var ap=function(e,r){return e.listeners(r).length},$s=Jd,ea=Vo.Buffer,$1=(typeof B<"u"?B:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function D1(t){return ea.from(t)}function j1(t){return ea.isBuffer(t)||t instanceof $1}var vc=Su,ne;vc&&vc.debuglog?ne=vc.debuglog("stream"):ne=function(){};var B1=_m,Hu=Qd,F1=Kd,W1=F1.getHighWaterMark,ta=On.codes,H1=ta.ERR_INVALID_ARG_TYPE,U1=ta.ERR_STREAM_PUSH_AFTER_EOF,V1=ta.ERR_METHOD_NOT_IMPLEMENTED,z1=ta.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ui,yc,mc;$t.exports(ce,$s);var as=Hu.errorOrDestroy,_c=["error","close","destroy","pause","resume"];function q1(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function cp(t,e,r){ci=ci||Di,t=t||{},typeof r!="boolean"&&(r=e instanceof ci),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=W1(this,t,"readableHighWaterMark",r),this.buffer=new B1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ui||(ui=ju.StringDecoder),this.decoder=new ui(t.encoding),this.encoding=t.encoding)}function ce(t){if(ci=ci||Di,!(this instanceof ce))return new ce(t);var e=this instanceof ci;this._readableState=new cp(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),$s.call(this)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ce.prototype.destroy=Hu.destroy;ce.prototype._undestroy=Hu.undestroy;ce.prototype._destroy=function(t,e){e(t)};ce.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ea.from(t,e),e=""),n=!0),up(this,t,e,!1,n)};ce.prototype.unshift=function(t){return up(this,t,null,!0,!1)};function up(t,e,r,n,i){ne("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Z1(t,s);else{var o;if(i||(o=G1(s,e)),o)as(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==ea.prototype&&(e=D1(e)),n)s.endEmitted?as(t,new z1):wc(t,s,e,!0);else if(s.ended)as(t,new U1);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?wc(t,s,e,!1):su(t,s)):wc(t,s,e,!1)}else n||(s.reading=!1,su(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function wc(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ra(t)),su(t,e)}function G1(t,e){var r;return!j1(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new H1("chunk",["string","Buffer","Uint8Array"],e)),r}ce.prototype.isPaused=function(){return this._readableState.flowing===!1};ce.prototype.setEncoding=function(t){ui||(ui=ju.StringDecoder);var e=new ui(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Mf=1073741824;function J1(t){return t>=Mf?t=Mf:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Cf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=J1(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ce.prototype.read=function(t){ne("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ne("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Sc(this):ra(this),null;if(t=Cf(t,e),t===0&&e.ended)return e.length===0&&Sc(this),null;var n=e.needReadable;ne("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ne("length less than watermark",n)),e.ended||e.reading?(n=!1,ne("reading or ended",n)):n&&(ne("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Cf(r,e)));var i;return t>0?i=hp(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Sc(this)),i!==null&&this.emit("data",i),i};function Z1(t,e){if(ne("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ra(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,lp(t)))}}function ra(t){var e=t._readableState;ne("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ne("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(lp,t))}function lp(t){var e=t._readableState;ne("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Uu(t)}function su(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Q1,t,e))}function Q1(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ne("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ce.prototype._read=function(t){as(this,new V1("_read()"))};ce.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ne("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(T,I){ne("onunpipe"),T===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,h())}function a(){ne("onend"),t.end()}var c=Y1(r);t.on("drain",c);var f=!1;function h(){ne("cleanup"),t.removeListener("close",m),t.removeListener("finish",M),t.removeListener("drain",c),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",N),r.removeListener("data",v),f=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",v);function v(T){ne("ondata");var I=t.write(T);ne("dest.write",I),I===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&dp(n.pipes,t)!==-1)&&!f&&(ne("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(T){ne("onerror",T),N(),t.removeListener("error",y),ap(t,"error")===0&&as(t,T)}q1(t,"error",y);function m(){t.removeListener("finish",M),N()}t.once("close",m);function M(){ne("onfinish"),t.removeListener("close",m),N()}t.once("finish",M);function N(){ne("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ne("pipe resume"),r.resume()),t};function Y1(t){return function(){var r=t._readableState;ne("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ap(t,"data")&&(r.flowing=!0,Uu(t))}}ce.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=dp(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ce.prototype.on=function(t,e){var r=$s.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ne("on readable",n.length,n.reading),n.length?ra(this):n.reading||process.nextTick(K1,this)),r};ce.prototype.addListener=ce.prototype.on;ce.prototype.removeListener=function(t,e){var r=$s.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(fp,this),r};ce.prototype.removeAllListeners=function(t){var e=$s.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(fp,this),e};function fp(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function K1(t){ne("readable nexttick read 0"),t.read(0)}ce.prototype.resume=function(){var t=this._readableState;return t.flowing||(ne("resume"),t.flowing=!t.readableListening,X1(this,t)),t.paused=!1,this};function X1(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(e_,t,e))}function e_(t,e){ne("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Uu(t),e.flowing&&!e.reading&&t.read(0)}ce.prototype.pause=function(){return ne("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ne("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Uu(t){var e=t._readableState;for(ne("flow",e.flowing);e.flowing&&t.read()!==null;);}ce.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ne("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(ne("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<_c.length;s++)t.on(_c[s],this.emit.bind(this,_c[s]));return this._read=function(o){ne("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ce.prototype[Symbol.asyncIterator]=function(){return yc===void 0&&(yc=L1),yc(this)});Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ce._fromList=hp;Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function hp(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Sc(t){var e=t._readableState;ne("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(t_,e,t))}function t_(t,e){if(ne("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ce.from=function(t,e){return mc===void 0&&(mc=P1),mc(ce,t,e)});function dp(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var pp=Er,na=On.codes,r_=na.ERR_METHOD_NOT_IMPLEMENTED,n_=na.ERR_MULTIPLE_CALLBACK,i_=na.ERR_TRANSFORM_ALREADY_TRANSFORMING,s_=na.ERR_TRANSFORM_WITH_LENGTH_0,ia=Di;$t.exports(Er,ia);function o_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new n_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Er(t){if(!(this instanceof Er))return new Er(t);ia.call(this,t),this._transformState={afterTransform:o_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",a_)}function a_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Rf(t,e,r)}):Rf(this,null,null)}Er.prototype.push=function(t,e){return this._transformState.needTransform=!1,ia.prototype.push.call(this,t,e)};Er.prototype._transform=function(t,e,r){r(new r_("_transform()"))};Er.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Er.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Er.prototype._destroy=function(t,e){ia.prototype._destroy.call(this,t,function(r){e(r)})};function Rf(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new s_;if(t._transformState.transforming)throw new i_;return t.push(null)}var c_=vs,gp=pp;$t.exports(vs,gp);function vs(t){if(!(this instanceof vs))return new vs(t);gp.call(this,t)}vs.prototype._transform=function(t,e,r){r(null,t)};var Ec;function u_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var bp=On.codes,l_=bp.ERR_MISSING_ARGS,f_=bp.ERR_STREAM_DESTROYED;function If(t){if(t)throw t}function h_(t){return t.setHeader&&typeof t.abort=="function"}function d_(t,e,r,n){n=u_(n);var i=!1;t.on("close",function(){i=!0}),Ec===void 0&&(Ec=Fu),Ec(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,h_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new f_("pipe"))}}}function Af(t){t()}function p_(t,e){return t.pipe(e)}function g_(t){return!t.length||typeof t[t.length-1]!="function"?If:t.pop()}function b_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=g_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new l_("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,f=a>0;return d_(o,c,f,function(h){i||(i=h),h&&s.forEach(Af),!c&&(s.forEach(Af),n(i))})});return e.reduce(p_)}var v_=b_;(function(t,e){e=t.exports=op,e.Stream=e,e.Readable=e,e.Writable=Xd,e.Duplex=Di,e.Transform=pp,e.PassThrough=c_,e.finished=Fu,e.pipeline=v_})(ko,ko.exports);const{Transform:y_}=ko.exports;var m_=t=>class vp extends y_{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new vp(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:__}=ko.exports;var w_=t=>class yp extends __{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new yp(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const S_=m_,E_=w_;var x_=function(t){const e=S_(t),r=E_(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},mp={};const kf=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];mp.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],v=t[9]^t[19]^t[29]^t[39]^t[49];let y=h^(i<<1|s>>>31),m=v^(s<<1|i>>>31);const M=t[0]^y,N=t[1]^m,T=t[10]^y,I=t[11]^m,A=t[20]^y,L=t[21]^m,j=t[30]^y,P=t[31]^m,$=t[40]^y,G=t[41]^m;y=r^(o<<1|a>>>31),m=n^(a<<1|o>>>31);const Z=t[2]^y,U=t[3]^m,K=t[12]^y,q=t[13]^m,V=t[22]^y,S=t[23]^m,u=t[32]^y,d=t[33]^m,b=t[42]^y,w=t[43]^m;y=i^(c<<1|f>>>31),m=s^(f<<1|c>>>31);const E=t[4]^y,x=t[5]^m,_=t[14]^y,p=t[15]^m,l=t[24]^y,g=t[25]^m,R=t[34]^y,C=t[35]^m,k=t[44]^y,F=t[45]^m;y=o^(h<<1|v>>>31),m=a^(v<<1|h>>>31);const Q=t[6]^y,D=t[7]^m,pe=t[16]^y,ee=t[17]^m,X=t[26]^y,vt=t[27]^m,ue=t[36]^y,le=t[37]^m,Ot=t[46]^y,de=t[47]^m;y=c^(r<<1|n>>>31),m=f^(n<<1|r>>>31);const Ve=t[8]^y,qi=t[9]^m,ze=t[18]^y,qe=t[19]^m,Gi=t[28]^y,Ge=t[29]^m,Je=t[38]^y,Ji=t[39]^m,Ze=t[48]^y,Qe=t[49]^m,Dn=M,me=N,_e=I<<4|T>>>28,jn=T<<4|I>>>28,we=A<<3|L>>>29,Se=L<<3|A>>>29,Bn=P<<9|j>>>23,Ee=j<<9|P>>>23,xe=$<<18|G>>>14,Fn=G<<18|$>>>14,Me=Z<<1|U>>>31,Ce=U<<1|Z>>>31,Wn=q<<12|K>>>20,Re=K<<12|q>>>20,Ie=V<<10|S>>>22,Hn=S<<10|V>>>22,Ae=d<<13|u>>>19,ke=u<<13|d>>>19,Un=b<<2|w>>>30,Te=w<<2|b>>>30,Oe=x<<30|E>>>2,Vn=E<<30|x>>>2,Ne=_<<6|p>>>26,Le=p<<6|_>>>26,zn=g<<11|l>>>21,Pe=l<<11|g>>>21,$e=R<<15|C>>>17,qn=C<<15|R>>>17,De=F<<29|k>>>3,je=k<<29|F>>>3,Gn=Q<<28|D>>>4,Be=D<<28|Q>>>4,Fe=ee<<23|pe>>>9,Jn=pe<<23|ee>>>9,We=X<<25|vt>>>7,He=vt<<25|X>>>7,zr=ue<<21|le>>>11,qr=le<<21|ue>>>11,Gr=de<<24|Ot>>>8,Jr=Ot<<24|de>>>8,Zr=Ve<<27|qi>>>5,Qr=qi<<27|Ve>>>5,Yr=ze<<20|qe>>>12,Kr=qe<<20|ze>>>12,Xr=Ge<<7|Gi>>>25,en=Gi<<7|Ge>>>25,tn=Je<<8|Ji>>>24,rn=Ji<<8|Je>>>24,nn=Ze<<14|Qe>>>18,sn=Qe<<14|Ze>>>18;t[0]=Dn^~Wn&zn,t[1]=me^~Re&Pe,t[10]=Gn^~Yr&we,t[11]=Be^~Kr&Se,t[20]=Me^~Ne&We,t[21]=Ce^~Le&He,t[30]=Zr^~_e&Ie,t[31]=Qr^~jn&Hn,t[40]=Oe^~Fe&Xr,t[41]=Vn^~Jn&en,t[2]=Wn^~zn&zr,t[3]=Re^~Pe&qr,t[12]=Yr^~we&Ae,t[13]=Kr^~Se&ke,t[22]=Ne^~We&tn,t[23]=Le^~He&rn,t[32]=_e^~Ie&$e,t[33]=jn^~Hn&qn,t[42]=Fe^~Xr&Bn,t[43]=Jn^~en&Ee,t[4]=zn^~zr&nn,t[5]=Pe^~qr&sn,t[14]=we^~Ae&De,t[15]=Se^~ke&je,t[24]=We^~tn&xe,t[25]=He^~rn&Fn,t[34]=Ie^~$e&Gr,t[35]=Hn^~qn&Jr,t[44]=Xr^~Bn&Un,t[45]=en^~Ee&Te,t[6]=zr^~nn&Dn,t[7]=qr^~sn&me,t[16]=Ae^~De&Gn,t[17]=ke^~je&Be,t[26]=tn^~xe&Me,t[27]=rn^~Fn&Ce,t[36]=$e^~Gr&Zr,t[37]=qn^~Jr&Qr,t[46]=Bn^~Un&Oe,t[47]=Ee^~Te&Vn,t[8]=nn^~Dn&Wn,t[9]=sn^~me&Re,t[18]=De^~Gn&Yr,t[19]=je^~Be&Kr,t[28]=xe^~Me&Ne,t[29]=Fn^~Ce&Le,t[38]=Gr^~Zr&_e,t[39]=Jr^~Qr&jn,t[48]=Un^~Oe&Fe,t[49]=Te^~Vn&Jn,t[0]^=kf[e*2],t[1]^=kf[e*2+1]}};const Oo=mp;function ji(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}ji.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};ji.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Oo.p1600(this.state),this.count=0)};ji.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Oo.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Oo.p1600(this.state),this.count=0,this.squeezing=!0};ji.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Oo.p1600(this.state),this.count=0);return e};ji.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var M_=ji,C_=x_(M_);const R_=C_,I_=Es.exports;function _p(t){return Buffer.allocUnsafe(t).fill(0)}function wp(t,e,r){const n=_p(e);return t=sa(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function A_(t,e){return wp(t,e,!0)}function sa(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Sp(t)?t=Buffer.from(O_(Ep(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(I_.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function k_(t){return t=sa(t),"0x"+t.toString("hex")}function T_(t,e){return t=sa(t),e||(e=256),R_("keccak"+e).update(t).digest()}function O_(t){return t.length%2?"0"+t:t}function Sp(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ep(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var xp={zeros:_p,setLength:wp,setLengthRight:A_,isHexString:Sp,stripHexPrefix:Ep,toBuffer:sa,bufferToHex:k_,keccak:T_};const En=xp,yn=Es.exports;function Mp(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function li(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Tf(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Cp(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function fn(t){var e=typeof t;if(e==="string")return En.isHexString(t)?new yn(En.stripHexPrefix(t),16):new yn(t,10);if(e==="number")return new yn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function or(t,e){var r,n,i,s;if(t==="address")return or("uint160",fn(e));if(t==="bool")return or("uint8",e?1:0);if(t==="string")return or("bytes",new Buffer(e,"utf8"));if(L_(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Cp(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(or(t,e[s]));if(r==="dynamic"){var o=or("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([or("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,En.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=li(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return En.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=li(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=fn(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=li(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=fn(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Tf(t),n=fn(e),n<0)throw new Error("Supplied ufixed is negative");return or("uint256",n.mul(new yn(2).pow(new yn(r[1]))))}else if(t.startsWith("fixed"))return r=Tf(t),or("int256",fn(e).mul(new yn(2).pow(new yn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function N_(t){return t==="string"||t==="bytes"||Cp(t)==="dynamic"}function L_(t){return t.lastIndexOf("]")===t.length-1}function P_(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Mp(t[s]),a=e[s],c=or(o,a);N_(o)?(r.push(or("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Rp(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Mp(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(En.setLength(a,20));else if(o.startsWith("bytes")){if(r=li(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(En.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=li(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=fn(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=li(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=fn(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function $_(t,e){return En.keccak(Rp(t,e))}var D_={rawEncode:P_,solidityPack:Rp,soliditySHA3:$_};const Qt=xp,cs=D_,Ip={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},xc={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,f)=>{if(r[c]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Qt.keccak(this.encodeData(c,f,r,n))];if(f===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Qt.keccak(f)];if(c==="string")return typeof f=="string"&&(f=Buffer.from(f,"utf8")),["bytes32",Qt.keccak(f)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),v=f.map(y=>o(a,h,y));return["bytes32",Qt.keccak(cs.rawEncode(v.map(([y])=>y),v.map(([,y])=>y)))]}return[c,f]};for(const a of r[t]){const[c,f]=o(a.name,a.type,e[a.name]);i.push(c),s.push(f)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Qt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Qt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Qt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return cs.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Qt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Qt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Ip.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Qt.keccak(Buffer.concat(n))}};var j_={TYPED_MESSAGE_SCHEMA:Ip,TypedDataUtils:xc,hashForSignTypedDataLegacy:function(t){return B_(t.data)},hashForSignTypedData_v3:function(t){return xc.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return xc.hash(t.data)}};function B_(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Qt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return cs.soliditySHA3(["bytes32","bytes32"],[cs.soliditySHA3(new Array(t.length).fill("string"),i),cs.soliditySHA3(n,r)])}var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.filterFromParam=mi.FilterPolyfill=void 0;const ri=Ts,St=W,F_=5*60*1e3,hn={jsonrpc:"2.0",id:0};class W_{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,ri.IntNumber)(1),this.provider=e}async newFilter(e){const r=Ap(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,St.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,St.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,St.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,St.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,St.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(no())}async getFilterLogs(e){const r=(0,St.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},hn),{method:"eth_getLogs",params:[Of(n)]})):no()}makeFilterId(){return(0,ri.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return no();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return io();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},hn),{method:"eth_getLogs",params:[Of(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(f=>(0,St.intNumberFromHexString)(f.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const f=(0,ri.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${f}`),this.cursors.set(e,f)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return no();const n=await this.getCurrentBlockHeight();if(r>n)return io();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,St.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,ri.IntNumber)(o))))).filter(o=>!!o),s=(0,ri.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},hn),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(io())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},F_);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},hn),{method:"eth_blockNumber",params:[]}));return(0,St.intNumberFromHexString)((0,St.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},hn),{method:"eth_getBlockByNumber",params:[(0,St.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,St.ensureHexString)(r.result.hash):null}}mi.FilterPolyfill=W_;function Ap(t){return{fromBlock:Nf(t.fromBlock),toBlock:Nf(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}mi.filterFromParam=Ap;function Of(t){const e={fromBlock:Lf(t.fromBlock),toBlock:Lf(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Nf(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,ri.IntNumber)(0);if((0,St.isHexString)(t))return(0,St.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Lf(t){return t==="latest"?t:(0,St.hexStringFromIntNumber)(t)}function no(){return Object.assign(Object.assign({},hn),{error:{code:-32e3,message:"filter not found"}})}function io(){return Object.assign(Object.assign({},hn),{result:[]})}var kp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(kp);var oa={},Tp={},aa={},Vu=H_;function H_(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Pf=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let f=1;f<arguments.length;f++)c[f-1]=arguments[f];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var U_=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Pf(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Pf(s,e):s}return n},Ds={},V_=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.BaseBlockTracker=void 0;const z_=V_(An),q_=1e3,G_=(t,e)=>t+e,$f=["sync","latest"];class J_ extends z_.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*q_,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){$f.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return $f.map(e=>this.listenerCount(e)).reduce(G_)}_newPotentialLatest(e){const r=this._currentBlock;r&&Df(e)<=Df(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Ds.BaseBlockTracker=J_;function Df(t){return Number.parseInt(t,16)}var Op={},Np={},bt={};class Lp extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Z_(t){return zt(t)&&typeof t[Symbol.iterator]=="function"}function zt(t){return typeof t=="object"&&t!=null}function jf(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function at(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Q_(t){const{done:e,value:r}=t.next();return e?void 0:r}function Y_(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${at(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*ou(t,e,r,n){Z_(t)||(t=[t]);for(const i of t){const s=Y_(i,e,r,n);s&&(yield s)}}function*zu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&zt(e.schema)&&zt(t)&&!Array.isArray(t)))for(const f in t)e.schema[f]===void 0&&delete t[f];let c="valid";for(const f of e.validator(t,a))f.explanation=r.message,c="not_valid",yield[f,void 0];for(let[f,h,v]of e.entries(t,a)){const y=zu(h,v,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const m of y)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):s&&(h=m[1],f===void 0?t=h:t instanceof Map?t.set(f,h):t instanceof Set?t.add(h):zt(t)&&(h!==void 0||f in t)&&(t[f]=h))}if(c!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,c="not_refined",yield[f,void 0];c==="valid"&&(yield[void 0,t])}class it{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,f)=>{const h=i(c,f);return ou(h,f,this,c)}:this.validator=()=>[],s?this.refiner=(c,f)=>{const h=s(c,f);return ou(h,f,this,c)}:this.refiner=()=>[]}assert(e,r){return Pp(e,this,r)}create(e,r){return $p(e,this,r)}is(e){return qu(e,this)}mask(e,r){return Dp(e,this,r)}validate(e,r={}){return Bi(e,this,r)}}function Pp(t,e,r){const n=Bi(t,e,{message:r});if(n[0])throw n[0]}function $p(t,e,r){const n=Bi(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Dp(t,e,r){const n=Bi(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function qu(t,e){return!Bi(t,e)[0]}function Bi(t,e,r={}){const n=zu(t,e,r),i=Q_(n);if(i[0])return[new Lp(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0];{const s=i[1];return[void 0,s]}}function K_(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Ju(n):js(n)}function Tt(t,e){return new it({type:t,schema:null,validator:e})}function X_(t,e){return new it({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function ew(t){return new it({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function tw(t){let e;return new it({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function rw(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Ju(n);default:return js(n)}}function nw(t){const e=t instanceof it?{...t.schema}:{...t};for(const r in e)e[r]=jp(e[r]);return js(e)}function iw(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return js(n)}function sw(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Tt(t,e)}function ow(){return Tt("any",()=>!0)}function aw(t){return new it({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${at(e)}`}})}function cw(){return Tt("bigint",t=>typeof t=="bigint")}function uw(){return Tt("boolean",t=>typeof t=="boolean")}function lw(){return Tt("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${at(t)}`)}function fw(t){const e={},r=t.map(n=>at(n)).join();for(const n of t)e[n]=n;return new it({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${at(n)}`}})}function hw(){return Tt("func",t=>typeof t=="function"||`Expected a function, but received: ${at(t)}`)}function dw(t){return Tt("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${at(e)}`)}function pw(){return Tt("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${at(t)}`)}function gw(t){return new it({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function bw(t){const e=at(t),r=typeof t;return new it({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${at(n)}`}})}function vw(t,e){return new it({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${at(r)}`}})}function Gu(){return Tt("never",()=>!1)}function yw(t){return new it({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function mw(){return Tt("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${at(t)}`)}function js(t){const e=t?Object.keys(t):[],r=Gu();return new it({type:"object",schema:t||null,*entries(n){if(t&&zt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return zt(n)||`Expected an object, but received: ${at(n)}`},coercer(n){return zt(n)?{...n}:n}})}function jp(t){return new it({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function _w(t,e){return new it({type:"record",schema:null,*entries(r){if(zt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return zt(r)||`Expected an object, but received: ${at(r)}`}})}function ww(){return Tt("regexp",t=>t instanceof RegExp)}function Sw(t){return new it({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${at(e)}`}})}function Bp(){return Tt("string",t=>typeof t=="string"||`Expected a string, but received: ${at(t)}`)}function Ew(t){const e=Gu();return new it({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${at(r)}`}})}function Ju(t){const e=Object.keys(t);return new it({type:"type",schema:t,*entries(r){if(zt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return zt(r)||`Expected an object, but received: ${at(r)}`},coercer(r){return zt(r)?{...r}:r}})}function xw(t){const e=t.map(r=>r.type).join(" | ");return new it({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=zu(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${at(r)}`,...i]}})}function Fp(){return Tt("unknown",()=>!0)}function Zu(t,e,r){return new it({...t,coercer:(n,i)=>qu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function Mw(t,e,r={}){return Zu(t,Fp(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&jf(n)&&jf(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function Cw(t){return Zu(t,Bp(),e=>e.trim())}function Rw(t){return Nn(t,"empty",e=>{const r=Wp(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Wp(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Iw(t,e,r={}){const{exclusive:n}=r;return Nn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Aw(t,e,r={}){const{exclusive:n}=r;return Nn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function kw(t){return Nn(t,"nonempty",e=>Wp(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Tw(t,e){return Nn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Ow(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Nn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Nn(t,e,r){return new it({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=ou(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}var Nw=Object.freeze(Object.defineProperty({__proto__:null,Struct:it,StructError:Lp,any:ow,array:aw,assert:Pp,assign:K_,bigint:cw,boolean:uw,coerce:Zu,create:$p,date:lw,defaulted:Mw,define:Tt,deprecated:X_,dynamic:ew,empty:Rw,enums:fw,func:hw,instance:dw,integer:pw,intersection:gw,is:qu,lazy:tw,literal:bw,map:vw,mask:Dp,max:Iw,min:Aw,never:Gu,nonempty:kw,nullable:yw,number:mw,object:js,omit:rw,optional:jp,partial:nw,pattern:Tw,pick:iw,record:_w,refine:Nn,regexp:ww,set:Sw,size:Ow,string:Bp,struct:sw,trimmed:Cw,tuple:Ew,type:Ju,union:xw,unknown:Fp,validate:Bi},Symbol.toStringTag,{value:"Module"})),Ln=Oi(Nw);Object.defineProperty(bt,"__esModule",{value:!0});bt.assertExhaustive=bt.assertStruct=bt.assert=bt.AssertionError=void 0;const Lw=Ln;function Pw(t){return typeof t=="object"&&t!==null&&"message"in t}function $w(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function Dw(t){const e=Pw(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Hp(t,e){return $w(t)?new t({message:e}):t({message:e})}class Qu extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}bt.AssertionError=Qu;function jw(t,e="Assertion failed.",r=Qu){if(!t)throw e instanceof Error?e:Hp(r,e)}bt.assert=jw;function Bw(t,e,r="Assertion failed",n=Qu){try{(0,Lw.assert)(t,e)}catch(i){throw Hp(n,`${r}: ${Dw(i)}.`)}}bt.assertStruct=Bw;function Fw(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}bt.assertExhaustive=Fw;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.base64=void 0;const Ww=Ln,Hw=bt,Uw=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Hw.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Ww.pattern)(t,a)};Bs.base64=Uw;var ae={},Fs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Ln,r=bt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(f){return(0,e.is)(f,t.HexStruct)}t.isHexString=n;function i(f){return(0,e.is)(f,t.StrictHexStruct)}t.isStrictHexString=i;function s(f){(0,r.assert)(n(f),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(f){(0,r.assert)(i(f),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(f){return f.startsWith("0x")?f:f.startsWith("0X")?`0x${f.substring(2)}`:`0x${f}`}t.add0x=a;function c(f){return f.startsWith("0x")||f.startsWith("0X")?f.substring(2):f}t.remove0x=c})(Fs);Object.defineProperty(ae,"__esModule",{value:!0});ae.createDataView=ae.concatBytes=ae.valueToBytes=ae.stringToBytes=ae.numberToBytes=ae.signedBigIntToBytes=ae.bigIntToBytes=ae.hexToBytes=ae.bytesToString=ae.bytesToNumber=ae.bytesToSignedBigInt=ae.bytesToBigInt=ae.bytesToHex=ae.assertIsBytes=ae.isBytes=void 0;const Lt=bt,au=Fs,Bf=48,Ff=58,Wf=87;function Vw(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const zw=Vw();function Yu(t){return t instanceof Uint8Array}ae.isBytes=Yu;function Fi(t){(0,Lt.assert)(Yu(t),"Value must be a Uint8Array.")}ae.assertIsBytes=Fi;function Up(t){if(Fi(t),t.length===0)return"0x";const e=zw(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,au.add0x)(r.join(""))}ae.bytesToHex=Up;function Vp(t){Fi(t);const e=Up(t);return BigInt(e)}ae.bytesToBigInt=Vp;function qw(t){Fi(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ae.bytesToSignedBigInt=qw;function Gw(t){Fi(t);const e=Vp(t);return(0,Lt.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ae.bytesToNumber=Gw;function Jw(t){return Fi(t),new TextDecoder().decode(t)}ae.bytesToString=Jw;function ca(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,au.assertIsHexString)(t);const r=(0,au.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Ff?Bf:Wf),f=a-(a<Ff?Bf:Wf);i[s]=c*16+f}return i}ae.hexToBytes=ca;function zp(t){(0,Lt.assert)(typeof t=="bigint","Value must be a bigint."),(0,Lt.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return ca(e)}ae.bigIntToBytes=zp;function Zw(t,e){(0,Lt.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function Qw(t,e){(0,Lt.assert)(typeof t=="bigint","Value must be a bigint."),(0,Lt.assert)(typeof e=="number","Byte length must be a number."),(0,Lt.assert)(e>0,"Byte length must be greater than 0."),(0,Lt.assert)(Zw(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ae.signedBigIntToBytes=Qw;function qp(t){(0,Lt.assert)(typeof t=="number","Value must be a number."),(0,Lt.assert)(t>=0,"Value must be a non-negative number."),(0,Lt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return ca(e)}ae.numberToBytes=qp;function Gp(t){return(0,Lt.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ae.stringToBytes=Gp;function Jp(t){if(typeof t=="bigint")return zp(t);if(typeof t=="number")return qp(t);if(typeof t=="string")return t.startsWith("0x")?ca(t):Gp(t);if(Yu(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ae.valueToBytes=Jp;function Yw(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Jp(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ae.concatBytes=Yw;function Kw(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ae.createDataView=Kw;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.ChecksumStruct=void 0;const Hf=Ln,Xw=Bs;ua.ChecksumStruct=(0,Hf.size)((0,Xw.base64)((0,Hf.string)(),{paddingRequired:!0}),44,44);var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.createHex=lr.createBytes=lr.createBigInt=lr.createNumber=void 0;const Ke=Ln,e2=bt,Zp=ae,la=Fs,Qp=(0,Ke.union)([(0,Ke.number)(),(0,Ke.bigint)(),(0,Ke.string)(),la.StrictHexStruct]),t2=(0,Ke.coerce)((0,Ke.number)(),Qp,Number),r2=(0,Ke.coerce)((0,Ke.bigint)(),Qp,BigInt);(0,Ke.union)([la.StrictHexStruct,(0,Ke.instance)(Uint8Array)]);const n2=(0,Ke.coerce)((0,Ke.instance)(Uint8Array),(0,Ke.union)([la.StrictHexStruct]),Zp.hexToBytes),i2=(0,Ke.coerce)(la.StrictHexStruct,(0,Ke.instance)(Uint8Array),Zp.bytesToHex);function s2(t){try{const e=(0,Ke.create)(t,t2);return(0,e2.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}lr.createNumber=s2;function o2(t){try{return(0,Ke.create)(t,r2)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}lr.createBigInt=o2;function a2(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ke.create)(t,n2)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}lr.createBytes=a2;function c2(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Ke.create)(t,i2)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}lr.createHex=c2;var _i={},Yp=B&&B.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Et=B&&B.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Jt,ir;Object.defineProperty(_i,"__esModule",{value:!0});_i.FrozenSet=_i.FrozenMap=void 0;class Ku{constructor(e){Jt.set(this,void 0),Yp(this,Jt,new Map(e),"f"),Object.freeze(this)}get size(){return Et(this,Jt,"f").size}[(Jt=new WeakMap,Symbol.iterator)](){return Et(this,Jt,"f")[Symbol.iterator]()}entries(){return Et(this,Jt,"f").entries()}forEach(e,r){return Et(this,Jt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Et(this,Jt,"f").get(e)}has(e){return Et(this,Jt,"f").has(e)}keys(){return Et(this,Jt,"f").keys()}values(){return Et(this,Jt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}_i.FrozenMap=Ku;class Xu{constructor(e){ir.set(this,void 0),Yp(this,ir,new Set(e),"f"),Object.freeze(this)}get size(){return Et(this,ir,"f").size}[(ir=new WeakMap,Symbol.iterator)](){return Et(this,ir,"f")[Symbol.iterator]()}entries(){return Et(this,ir,"f").entries()}forEach(e,r){return Et(this,ir,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Et(this,ir,"f").has(e)}keys(){return Et(this,ir,"f").keys()}values(){return Et(this,ir,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}_i.FrozenSet=Xu;Object.freeze(Ku);Object.freeze(Ku.prototype);Object.freeze(Xu);Object.freeze(Xu.prototype);var Kp={},el={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(f){return Array.isArray(f)&&f.length>0}t.isNonEmptyArray=e;function r(f){return f==null}t.isNullOrUndefined=r;function n(f){return Boolean(f)&&typeof f=="object"&&!Array.isArray(f)}t.isObject=n;const i=(f,h)=>Object.hasOwnProperty.call(f,h);t.hasProperty=i,function(f){f[f.Null=4]="Null",f[f.Comma=1]="Comma",f[f.Wrapper=1]="Wrapper",f[f.True=4]="True",f[f.False=5]="False",f[f.Quote=1]="Quote",f[f.Colon=1]="Colon",f[f.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(f){if(typeof f!="object"||f===null)return!1;try{let h=f;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(f)===h}catch{return!1}}t.isPlainObject=s;function o(f){return f.charCodeAt(0)<=127}t.isASCII=o;function a(f){var h;return f.split("").reduce((y,m)=>o(m)?y+1:y+2,0)+((h=f.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(f){return f.toString().length}t.calculateNumberSize=c})(el);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Ln,r=bt,n=el;t.JsonStruct=(0,e.define)("Json",P=>{const[$]=j(P,!0);return $?!0:"Expected a valid JSON-serializable value"});function i(P){return(0,e.is)(P,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(P){return(0,e.is)(P,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(P,$){(0,r.assertStruct)(P,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",$)}t.assertIsJsonRpcNotification=o;function a(P){return(0,e.is)(P,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(P,$){(0,r.assertStruct)(P,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",$)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function f(P){return(0,e.is)(P,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=f;function h(P,$){(0,r.assertStruct)(P,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",$)}t.assertIsPendingJsonRpcResponse=h;function v(P){return(0,e.is)(P,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=v;function y(P,$){(0,r.assertStruct)(P,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",$)}t.assertIsJsonRpcResponse=y;function m(P){return(0,e.is)(P,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=m;function M(P,$){(0,r.assertStruct)(P,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",$)}t.assertIsJsonRpcSuccess=M;function N(P){return(0,e.is)(P,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=N;function T(P,$){(0,r.assertStruct)(P,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",$)}t.assertIsJsonRpcFailure=T;function I(P){return(0,e.is)(P,t.JsonRpcErrorStruct)}t.isJsonRpcError=I;function A(P,$){(0,r.assertStruct)(P,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",$)}t.assertIsJsonRpcError=A;function L(P){const{permitEmptyString:$,permitFractions:G,permitNull:Z}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},P);return K=>Boolean(typeof K=="number"&&(G||Number.isInteger(K))||typeof K=="string"&&($||K.length>0)||Z&&K===null)}t.getJsonRpcIdValidator=L;function j(P,$=!1){const G=new Set;function Z(U,K){if(U===void 0)return[!1,0];if(U===null)return[!0,K?0:n.JsonSize.Null];const q=typeof U;try{if(q==="function")return[!1,0];if(q==="string"||U instanceof String)return[!0,K?0:(0,n.calculateStringSize)(U)+n.JsonSize.Quote*2];if(q==="boolean"||U instanceof Boolean)return K?[!0,0]:[!0,U==!0?n.JsonSize.True:n.JsonSize.False];if(q==="number"||U instanceof Number)return K?[!0,0]:[!0,(0,n.calculateNumberSize)(U)];if(U instanceof Date)return K?[!0,0]:[!0,isNaN(U.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(U)&&!Array.isArray(U))return[!1,0];if(G.has(U))return[!1,0];G.add(U);try{return[!0,Object.entries(U).reduce((V,[S,u],d,b)=>{let[w,E]=Z(u,K);if(!w)throw new Error("JSON validation did not pass. Validation process stopped.");if(G.delete(U),K)return 0;const x=Array.isArray(U)?0:S.length+n.JsonSize.Comma+n.JsonSize.Colon*2,_=d<b.length-1?n.JsonSize.Comma:0;return V+x+E+_},K?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return Z(P,$)}t.validateJsonAndGetSize=j})(Kp);var wi={},cu={exports:{}},Si=1e3,Ei=Si*60,xi=Ei*60,xn=xi*24,u2=xn*7,l2=xn*365.25,f2=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return h2(t);if(r==="number"&&isFinite(t))return e.long?p2(t):d2(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function h2(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*l2;case"weeks":case"week":case"w":return r*u2;case"days":case"day":case"d":return r*xn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*xi;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ei;case"seconds":case"second":case"secs":case"sec":case"s":return r*Si;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function d2(t){var e=Math.abs(t);return e>=xn?Math.round(t/xn)+"d":e>=xi?Math.round(t/xi)+"h":e>=Ei?Math.round(t/Ei)+"m":e>=Si?Math.round(t/Si)+"s":t+"ms"}function p2(t){var e=Math.abs(t);return e>=xn?so(t,e,xn,"day"):e>=xi?so(t,e,xi,"hour"):e>=Ei?so(t,e,Ei,"minute"):e>=Si?so(t,e,Si,"second"):t+" ms"}function so(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}function g2(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=f2,r.destroy=f,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let v=0;for(let y=0;y<h.length;y++)v=(v<<5)-v+h.charCodeAt(y),v|=0;return r.colors[Math.abs(v)%r.colors.length]}r.selectColor=e;function r(h){let v,y=null,m,M;function N(...T){if(!N.enabled)return;const I=N,A=Number(new Date),L=A-(v||A);I.diff=L,I.prev=v,I.curr=A,v=A,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let j=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,($,G)=>{if($==="%%")return"%";j++;const Z=r.formatters[G];if(typeof Z=="function"){const U=T[j];$=Z.call(I,U),T.splice(j,1),j--}return $}),r.formatArgs.call(I,T),(I.log||r.log).apply(I,T)}return N.namespace=h,N.useColors=r.useColors(),N.color=r.selectColor(h),N.extend=n,N.destroy=r.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(m!==r.namespaces&&(m=r.namespaces,M=r.enabled(h)),M),set:T=>{y=T}}),typeof r.init=="function"&&r.init(N),N}function n(h,v){const y=r(this.namespace+(typeof v>"u"?":":v)+h);return y.log=this.log,y}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let v;const y=(typeof h=="string"?h:"").split(/[\s,]+/),m=y.length;for(v=0;v<m;v++)!y[v]||(h=y[v].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){const h=[...r.names.map(a),...r.skips.map(a).map(v=>"-"+v)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let v,y;for(v=0,y=r.skips.length;v<y;v++)if(r.skips[v].test(h))return!1;for(v=0,y=r.names.length;v<y;v++)if(r.names[v].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function c(h){return h instanceof Error?h.stack||h.message:h}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var b2=g2;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let h=0,v=0;c[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(h++,y==="%c"&&(v=h))}),c.splice(v,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=b2(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(cu,cu.exports);var v2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});wi.createModuleLogger=wi.createProjectLogger=void 0;const y2=v2(cu.exports),m2=(0,y2.default)("metamask");function _2(t){return m2.extend(t)}wi.createProjectLogger=_2;function w2(t,e){return t.extend(e)}wi.createModuleLogger=w2;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.hexToBigInt=fr.hexToNumber=fr.bigIntToHex=fr.numberToHex=void 0;const fi=bt,ys=Fs,S2=t=>((0,fi.assert)(typeof t=="number","Value must be a number."),(0,fi.assert)(t>=0,"Value must be a non-negative number."),(0,fi.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,ys.add0x)(t.toString(16)));fr.numberToHex=S2;const E2=t=>((0,fi.assert)(typeof t=="bigint","Value must be a bigint."),(0,fi.assert)(t>=0,"Value must be a non-negative bigint."),(0,ys.add0x)(t.toString(16)));fr.bigIntToHex=E2;const x2=t=>{(0,ys.assertIsHexString)(t);const e=parseInt(t,16);return(0,fi.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};fr.hexToNumber=x2;const M2=t=>((0,ys.assertIsHexString)(t),BigInt((0,ys.add0x)(t)));fr.hexToBigInt=M2;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});var e0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(e0);var t0={},Mn={exports:{}};const C2="2.0.0",r0=256,R2=Number.MAX_SAFE_INTEGER||9007199254740991,I2=16,A2=r0-6,k2=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fa={MAX_LENGTH:r0,MAX_SAFE_COMPONENT_LENGTH:I2,MAX_SAFE_BUILD_LENGTH:A2,MAX_SAFE_INTEGER:R2,RELEASE_TYPES:k2,SEMVER_SPEC_VERSION:C2,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const T2=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ha=T2;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n}=fa,i=ha;e=t.exports={};const s=e.re=[],o=e.safeRe=[],a=e.src=[],c=e.t={};let f=0;const h="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",r],[h,n]],y=M=>{for(const[N,T]of v)M=M.split(`${N}*`).join(`${N}{0,${T}}`).split(`${N}+`).join(`${N}{1,${T}}`);return M},m=(M,N,T)=>{const I=y(N),A=f++;i(M,A,N),c[M]=A,a[A]=N,s[A]=new RegExp(N,T?"g":void 0),o[A]=new RegExp(I,T?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),m("FULL",`^${a[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),m("LOOSE",`^${a[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${a[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${a[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),m("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),m("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),m("COERCERTL",a[c.COERCE],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Mn,Mn.exports);const O2=Object.freeze({loose:!0}),N2=Object.freeze({}),L2=t=>t?typeof t!="object"?O2:t:N2;var tl=L2;const Uf=/^[0-9]+$/,n0=(t,e)=>{const r=Uf.test(t),n=Uf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},P2=(t,e)=>n0(e,t);var i0={compareIdentifiers:n0,rcompareIdentifiers:P2};const oo=ha,{MAX_LENGTH:Vf,MAX_SAFE_INTEGER:ao}=fa,{safeRe:zf,t:qf}=Mn.exports,$2=tl,{compareIdentifiers:Qn}=i0;class Yt{constructor(e,r){if(r=$2(r),e instanceof Yt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Vf)throw new TypeError(`version is longer than ${Vf} characters`);oo("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?zf[qf.LOOSE]:zf[qf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ao||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ao||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ao||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ao)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(oo("SemVer.compare",this.version,this.options,e),!(e instanceof Yt)){if(typeof e=="string"&&e===this.version)return 0;e=new Yt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Yt||(e=new Yt(e,this.options)),Qn(this.major,e.major)||Qn(this.minor,e.minor)||Qn(this.patch,e.patch)}comparePre(e){if(e instanceof Yt||(e=new Yt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(oo("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Qn(n,i)}while(++r)}compareBuild(e){e instanceof Yt||(e=new Yt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(oo("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Qn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Qn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var It=Yt;const Gf=It,D2=(t,e,r=!1)=>{if(t instanceof Gf)return t;try{return new Gf(t,e)}catch(n){if(!r)return null;throw n}};var Wi=D2;const j2=Wi,B2=(t,e)=>{const r=j2(t,e);return r?r.version:null};var F2=B2;const W2=Wi,H2=(t,e)=>{const r=W2(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var U2=H2;const Jf=It,V2=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Jf(t instanceof Jf?t.version:t,r).inc(e,n,i).version}catch{return null}};var z2=V2;const Zf=Wi,q2=(t,e)=>{const r=Zf(t,null,!0),n=Zf(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var G2=q2;const J2=It,Z2=(t,e)=>new J2(t,e).major;var Q2=Z2;const Y2=It,K2=(t,e)=>new Y2(t,e).minor;var X2=K2;const eS=It,tS=(t,e)=>new eS(t,e).patch;var rS=tS;const nS=Wi,iS=(t,e)=>{const r=nS(t,e);return r&&r.prerelease.length?r.prerelease:null};var sS=iS;const Qf=It,oS=(t,e,r)=>new Qf(t,r).compare(new Qf(e,r));var tr=oS;const aS=tr,cS=(t,e,r)=>aS(e,t,r);var uS=cS;const lS=tr,fS=(t,e)=>lS(t,e,!0);var hS=fS;const Yf=It,dS=(t,e,r)=>{const n=new Yf(t,r),i=new Yf(e,r);return n.compare(i)||n.compareBuild(i)};var rl=dS;const pS=rl,gS=(t,e)=>t.sort((r,n)=>pS(r,n,e));var bS=gS;const vS=rl,yS=(t,e)=>t.sort((r,n)=>vS(n,r,e));var mS=yS;const _S=tr,wS=(t,e,r)=>_S(t,e,r)>0;var da=wS;const SS=tr,ES=(t,e,r)=>SS(t,e,r)<0;var nl=ES;const xS=tr,MS=(t,e,r)=>xS(t,e,r)===0;var s0=MS;const CS=tr,RS=(t,e,r)=>CS(t,e,r)!==0;var o0=RS;const IS=tr,AS=(t,e,r)=>IS(t,e,r)>=0;var il=AS;const kS=tr,TS=(t,e,r)=>kS(t,e,r)<=0;var sl=TS;const OS=s0,NS=o0,LS=da,PS=il,$S=nl,DS=sl,jS=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return OS(t,r,n);case"!=":return NS(t,r,n);case">":return LS(t,r,n);case">=":return PS(t,r,n);case"<":return $S(t,r,n);case"<=":return DS(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var a0=jS;const BS=It,FS=Wi,{safeRe:co,t:uo}=Mn.exports,WS=(t,e)=>{if(t instanceof BS)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(co[uo.COERCE]);else{let n;for(;(n=co[uo.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),co[uo.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;co[uo.COERCERTL].lastIndex=-1}return r===null?null:FS(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var HS=WS,US=fe;fe.Node=Cn;fe.create=fe;function fe(t){var e=this;if(e instanceof fe||(e=new fe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}fe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};fe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};fe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};fe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)zS(this,arguments[t]);return this.length};fe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)qS(this,arguments[t]);return this.length};fe.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};fe.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};fe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};fe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};fe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};fe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};fe.prototype.map=function(t,e){e=e||this;for(var r=new fe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};fe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new fe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};fe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};fe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};fe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};fe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};fe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new fe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};fe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new fe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};fe.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=VS(this,i,r[n]);return s};fe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function VS(t,e,r){var n=e===t.head?new Cn(r,null,e,t):new Cn(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function zS(t,e){t.tail=new Cn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function qS(t,e){t.head=new Cn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Cn(t,e,r,n){if(!(this instanceof Cn))return new Cn(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(fe)}catch{}const GS=US,dn=Symbol("max"),_r=Symbol("length"),Yn=Symbol("lengthCalculator"),us=Symbol("allowStale"),mn=Symbol("maxAge"),vr=Symbol("dispose"),Kf=Symbol("noDisposeOnSet"),lt=Symbol("lruList"),Kt=Symbol("cache"),c0=Symbol("updateAgeOnGet"),Mc=()=>1;class JS{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[dn]=e.max||1/0;const r=e.length||Mc;if(this[Yn]=typeof r!="function"?Mc:r,this[us]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[mn]=e.maxAge||0,this[vr]=e.dispose,this[Kf]=e.noDisposeOnSet||!1,this[c0]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[dn]=e||1/0,Yi(this)}get max(){return this[dn]}set allowStale(e){this[us]=!!e}get allowStale(){return this[us]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[mn]=e,Yi(this)}get maxAge(){return this[mn]}set lengthCalculator(e){typeof e!="function"&&(e=Mc),e!==this[Yn]&&(this[Yn]=e,this[_r]=0,this[lt].forEach(r=>{r.length=this[Yn](r.value,r.key),this[_r]+=r.length})),Yi(this)}get lengthCalculator(){return this[Yn]}get length(){return this[_r]}get itemCount(){return this[lt].length}rforEach(e,r){r=r||this;for(let n=this[lt].tail;n!==null;){const i=n.prev;Xf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[lt].head;n!==null;){const i=n.next;Xf(this,e,n,r),n=i}}keys(){return this[lt].toArray().map(e=>e.key)}values(){return this[lt].toArray().map(e=>e.value)}reset(){this[vr]&&this[lt]&&this[lt].length&&this[lt].forEach(e=>this[vr](e.key,e.value)),this[Kt]=new Map,this[lt]=new GS,this[_r]=0}dump(){return this[lt].map(e=>No(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[lt]}set(e,r,n){if(n=n||this[mn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Yn](r,e);if(this[Kt].has(e)){if(s>this[dn])return hi(this,this[Kt].get(e)),!1;const c=this[Kt].get(e).value;return this[vr]&&(this[Kf]||this[vr](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[_r]+=s-c.length,c.length=s,this.get(e),Yi(this),!0}const o=new ZS(e,r,s,i,n);return o.length>this[dn]?(this[vr]&&this[vr](e,r),!1):(this[_r]+=o.length,this[lt].unshift(o),this[Kt].set(e,this[lt].head),Yi(this),!0)}has(e){if(!this[Kt].has(e))return!1;const r=this[Kt].get(e).value;return!No(this,r)}get(e){return Cc(this,e,!0)}peek(e){return Cc(this,e,!1)}pop(){const e=this[lt].tail;return e?(hi(this,e),e.value):null}del(e){hi(this,this[Kt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Kt].forEach((e,r)=>Cc(this,r,!1))}}const Cc=(t,e,r)=>{const n=t[Kt].get(e);if(n){const i=n.value;if(No(t,i)){if(hi(t,n),!t[us])return}else r&&(t[c0]&&(n.value.now=Date.now()),t[lt].unshiftNode(n));return i.value}},No=(t,e)=>{if(!e||!e.maxAge&&!t[mn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[mn]&&r>t[mn]},Yi=t=>{if(t[_r]>t[dn])for(let e=t[lt].tail;t[_r]>t[dn]&&e!==null;){const r=e.prev;hi(t,e),e=r}},hi=(t,e)=>{if(e){const r=e.value;t[vr]&&t[vr](r.key,r.value),t[_r]-=r.length,t[Kt].delete(r.key),t[lt].removeNode(e)}};class ZS{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Xf=(t,e,r,n)=>{let i=r.value;No(t,i)&&(hi(t,r),t[us]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var QS=JS;class ls{constructor(e,r){if(r=KS(r),e instanceof ls)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new ls(e.raw,r);if(e instanceof uu)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(i=>!th(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&sE(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const n=((this.options.includePrerelease&&nE)|(this.options.loose&&iE))+":"+e,i=eh.get(n);if(i)return i;const s=this.options.loose,o=s?kt[xt.HYPHENRANGELOOSE]:kt[xt.HYPHENRANGE];e=e.replace(o,gE(this.options.includePrerelease)),ye("hyphen replace",e),e=e.replace(kt[xt.COMPARATORTRIM],eE),ye("comparator trim",e),e=e.replace(kt[xt.TILDETRIM],tE),ye("tilde trim",e),e=e.replace(kt[xt.CARETTRIM],rE),ye("caret trim",e);let a=e.split(" ").map(v=>oE(v,this.options)).join(" ").split(/\s+/).map(v=>pE(v,this.options));s&&(a=a.filter(v=>(ye("loose invalid filter",v,this.options),!!v.match(kt[xt.COMPARATORLOOSE])))),ye("range list",a);const c=new Map,f=a.map(v=>new uu(v,this.options));for(const v of f){if(th(v))return[v];c.set(v.value,v)}c.size>1&&c.has("")&&c.delete("");const h=[...c.values()];return eh.set(n,h),h}intersects(e,r){if(!(e instanceof ls))throw new TypeError("a Range is required");return this.set.some(n=>rh(n,r)&&e.set.some(i=>rh(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new XS(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(bE(this.set[r],e,this.options))return!0;return!1}}var rr=ls;const YS=QS,eh=new YS({max:1e3}),KS=tl,uu=pa,ye=ha,XS=It,{safeRe:kt,t:xt,comparatorTrimReplace:eE,tildeTrimReplace:tE,caretTrimReplace:rE}=Mn.exports,{FLAG_INCLUDE_PRERELEASE:nE,FLAG_LOOSE:iE}=fa,th=t=>t.value==="<0.0.0-0",sE=t=>t.value==="",rh=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},oE=(t,e)=>(ye("comp",t,e),t=uE(t,e),ye("caret",t),t=aE(t,e),ye("tildes",t),t=fE(t,e),ye("xrange",t),t=dE(t,e),ye("stars",t),t),Mt=t=>!t||t.toLowerCase()==="x"||t==="*",aE=(t,e)=>t.trim().split(/\s+/).map(r=>cE(r,e)).join(" "),cE=(t,e)=>{const r=e.loose?kt[xt.TILDELOOSE]:kt[xt.TILDE];return t.replace(r,(n,i,s,o,a)=>{ye("tilde",t,n,i,s,o,a);let c;return Mt(i)?c="":Mt(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Mt(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(ye("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,ye("tilde return",c),c})},uE=(t,e)=>t.trim().split(/\s+/).map(r=>lE(r,e)).join(" "),lE=(t,e)=>{ye("caret",t,e);const r=e.loose?kt[xt.CARETLOOSE]:kt[xt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,c)=>{ye("caret",t,i,s,o,a,c);let f;return Mt(s)?f="":Mt(o)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Mt(a)?s==="0"?f=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(ye("replaceCaret pr",c),s==="0"?o==="0"?f=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:f=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(ye("no pr"),s==="0"?o==="0"?f=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:f=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),ye("caret return",f),f})},fE=(t,e)=>(ye("replaceXRanges",t,e),t.split(/\s+/).map(r=>hE(r,e)).join(" ")),hE=(t,e)=>{t=t.trim();const r=e.loose?kt[xt.XRANGELOOSE]:kt[xt.XRANGE];return t.replace(r,(n,i,s,o,a,c)=>{ye("xRange",t,n,i,s,o,a,c);const f=Mt(s),h=f||Mt(o),v=h||Mt(a),y=v;return i==="="&&y&&(i=""),c=e.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&y?(h&&(o=0),a=0,i===">"?(i=">=",h?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${a}${c}`):h?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:v&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),ye("xRange return",n),n})},dE=(t,e)=>(ye("replaceStars",t,e),t.trim().replace(kt[xt.STAR],"")),pE=(t,e)=>(ye("replaceGTE0",t,e),t.trim().replace(kt[e.includePrerelease?xt.GTE0PRE:xt.GTE0],"")),gE=t=>(e,r,n,i,s,o,a,c,f,h,v,y,m)=>(Mt(n)?r="":Mt(i)?r=`>=${n}.0.0${t?"-0":""}`:Mt(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Mt(f)?c="":Mt(h)?c=`<${+f+1}.0.0-0`:Mt(v)?c=`<${f}.${+h+1}.0-0`:y?c=`<=${f}.${h}.${v}-${y}`:t?c=`<${f}.${h}.${+v+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),bE=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(ye(t[n].semver),t[n].semver!==uu.ANY&&t[n].semver.prerelease.length>0){const i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},Ki=Symbol("SemVer ANY");class Lo{static get ANY(){return Ki}constructor(e,r){if(r=nh(r),e instanceof Lo){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ic("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ki?this.value="":this.value=this.operator+this.semver.version,Ic("comp",this)}parse(e){const r=this.options.loose?ih[sh.COMPARATORLOOSE]:ih[sh.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new oh(n[2],this.options.loose):this.semver=Ki}toString(){return this.value}test(e){if(Ic("Comparator.test",e,this.options.loose),this.semver===Ki||e===Ki)return!0;if(typeof e=="string")try{e=new oh(e,this.options)}catch{return!1}return Rc(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Lo))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new ah(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new ah(this.value,r).test(e.semver):(r=nh(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Rc(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Rc(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}var pa=Lo;const nh=tl,{safeRe:ih,t:sh}=Mn.exports,Rc=a0,Ic=ha,oh=It,ah=rr,vE=rr,yE=(t,e,r)=>{try{e=new vE(e,r)}catch{return!1}return e.test(t)};var ga=yE;const mE=rr,_E=(t,e)=>new mE(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var wE=_E;const SE=It,EE=rr,xE=(t,e,r)=>{let n=null,i=null,s=null;try{s=new EE(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new SE(n,r))}),n};var ME=xE;const CE=It,RE=rr,IE=(t,e,r)=>{let n=null,i=null,s=null;try{s=new RE(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new CE(n,r))}),n};var AE=IE;const Ac=It,kE=rr,ch=da,TE=(t,e)=>{t=new kE(t,e);let r=new Ac("0.0.0");if(t.test(r)||(r=new Ac("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Ac(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||ch(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||ch(r,s))&&(r=s)}return r&&t.test(r)?r:null};var OE=TE;const NE=rr,LE=(t,e)=>{try{return new NE(t,e).range||"*"}catch{return null}};var PE=LE;const $E=It,u0=pa,{ANY:DE}=u0,jE=rr,BE=ga,uh=da,lh=nl,FE=sl,WE=il,HE=(t,e,r,n)=>{t=new $E(t,n),e=new jE(e,n);let i,s,o,a,c;switch(r){case">":i=uh,s=FE,o=lh,a=">",c=">=";break;case"<":i=lh,s=WE,o=uh,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(BE(t,e,n))return!1;for(let f=0;f<e.set.length;++f){const h=e.set[f];let v=null,y=null;if(h.forEach(m=>{m.semver===DE&&(m=new u0(">=0.0.0")),v=v||m,y=y||m,i(m.semver,v.semver,n)?v=m:o(m.semver,y.semver,n)&&(y=m)}),v.operator===a||v.operator===c||(!y.operator||y.operator===a)&&s(t,y.semver))return!1;if(y.operator===c&&o(t,y.semver))return!1}return!0};var ol=HE;const UE=ol,VE=(t,e,r)=>UE(t,e,">",r);var zE=VE;const qE=ol,GE=(t,e,r)=>qE(t,e,"<",r);var JE=GE;const fh=rr,ZE=(t,e,r)=>(t=new fh(t,r),e=new fh(e,r),t.intersects(e,r));var QE=ZE;const YE=ga,KE=tr;var XE=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,v)=>KE(h,v,r));for(const h of o)YE(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,v]of n)h===v?a.push(h):!v&&h===o[0]?a.push("*"):v?h===o[0]?a.push(`<=${v}`):a.push(`${h} - ${v}`):a.push(`>=${h}`);const c=a.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return c.length<f.length?c:e};const hh=rr,al=pa,{ANY:kc}=al,Xi=ga,cl=tr,e3=(t,e,r={})=>{if(t===e)return!0;t=new hh(t,r),e=new hh(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=r3(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},t3=[new al(">=0.0.0-0")],dh=[new al(">=0.0.0")],r3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===kc){if(e.length===1&&e[0].semver===kc)return!0;r.includePrerelease?t=t3:t=dh}if(e.length===1&&e[0].semver===kc){if(r.includePrerelease)return!0;e=dh}const n=new Set;let i,s;for(const m of t)m.operator===">"||m.operator===">="?i=ph(i,m,r):m.operator==="<"||m.operator==="<="?s=gh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=cl(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!Xi(m,String(i),r)||s&&!Xi(m,String(s),r))return null;for(const M of e)if(!Xi(m,String(M),r))return!1;return!0}let a,c,f,h,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,y=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;v&&v.prerelease.length===1&&s.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const m of e){if(h=h||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",i){if(y&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===y.major&&m.semver.minor===y.minor&&m.semver.patch===y.patch&&(y=!1),m.operator===">"||m.operator===">="){if(a=ph(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!Xi(i.semver,String(m),r))return!1}if(s){if(v&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===v.major&&m.semver.minor===v.minor&&m.semver.patch===v.patch&&(v=!1),m.operator==="<"||m.operator==="<="){if(c=gh(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Xi(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&f&&!s&&o!==0||s&&h&&!i&&o!==0||y||v)},ph=(t,e,r)=>{if(!t)return e;const n=cl(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},gh=(t,e,r)=>{if(!t)return e;const n=cl(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var n3=e3;const Tc=Mn.exports,bh=fa,i3=It,vh=i0,s3=Wi,o3=F2,a3=U2,c3=z2,u3=G2,l3=Q2,f3=X2,h3=rS,d3=sS,p3=tr,g3=uS,b3=hS,v3=rl,y3=bS,m3=mS,_3=da,w3=nl,S3=s0,E3=o0,x3=il,M3=sl,C3=a0,R3=HS,I3=pa,A3=rr,k3=ga,T3=wE,O3=ME,N3=AE,L3=OE,P3=PE,$3=ol,D3=zE,j3=JE,B3=QE,F3=XE,W3=n3;var H3={parse:s3,valid:o3,clean:a3,inc:c3,diff:u3,major:l3,minor:f3,patch:h3,prerelease:d3,compare:p3,rcompare:g3,compareLoose:b3,compareBuild:v3,sort:y3,rsort:m3,gt:_3,lt:w3,eq:S3,neq:E3,gte:x3,lte:M3,cmp:C3,coerce:R3,Comparator:I3,Range:A3,satisfies:k3,toComparators:T3,maxSatisfying:O3,minSatisfying:N3,minVersion:L3,validRange:P3,outside:$3,gtr:D3,ltr:j3,intersects:B3,simplifyRange:F3,subset:W3,SemVer:i3,re:Tc.re,src:Tc.src,tokens:Tc.t,SEMVER_SPEC_VERSION:bh.SEMVER_SPEC_VERSION,RELEASE_TYPES:bh.RELEASE_TYPES,compareIdentifiers:vh.compareIdentifiers,rcompareIdentifiers:vh.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=H3,r=Ln,n=bt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",v=>(0,e.valid)(v)===null?`Expected SemVer version, got "${v}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",v=>(0,e.validRange)(v)===null?`Expected SemVer range, got "${v}"`:!0);function i(v){return(0,r.is)(v,t.VersionStruct)}t.isValidSemVerVersion=i;function s(v){return(0,r.is)(v,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(v){(0,n.assertStruct)(v,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(v){(0,n.assertStruct)(v,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(v,y){return(0,e.gt)(v,y)}t.gtVersion=c;function f(v,y){return(0,e.gtr)(v,y)}t.gtRange=f;function h(v,y){return(0,e.satisfies)(v,y,{includePrerelease:!0})}t.satisfiesVersionRange=h})(t0);(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bt,t),r(Bs,t),r(ae,t),r(ua,t),r(lr,t),r(_i,t),r(Fs,t),r(Kp,t),r(wi,t),r(el,t),r(fr,t),r(Xp,t),r(e0,t),r(t0,t)})(Np);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Np;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Op);var l0=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});aa.PollingBlockTracker=void 0;const U3=l0(Vu),V3=l0(U_),z3=Ds,yh=Op,mh=(0,yh.createModuleLogger)(yh.projectLogger,"polling-block-tracker"),q3=(0,U3.default)(),G3=1e3;class J3 extends z3.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*G3,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=_h(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=_h(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:q3(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),mh("Making request",e);const r=await(0,V3.default)(n=>this._provider.sendAsync(e,n))();if(mh("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}aa.PollingBlockTracker=J3;function _h(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var ba={},Z3=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});ba.SubscribeBlockTracker=void 0;const Q3=Z3(Vu),Y3=Ds,K3=(0,Q3.default)();class X3 extends Y3.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:K3(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ba.SubscribeBlockTracker=X3;var f0={};Object.defineProperty(f0,"__esModule",{value:!0});(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aa,t),r(ba,t),r(f0,t)})(Tp);var ul={},va={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.getUniqueId=void 0;const h0=4294967295;let Oc=Math.floor(Math.random()*h0);function e4(){return Oc=(Oc+1)%h0,Oc}Ws.getUniqueId=e4;Object.defineProperty(va,"__esModule",{value:!0});va.createIdRemapMiddleware=void 0;const t4=Ws;function r4(){return(t,e,r,n)=>{const i=t.id,s=t4.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}va.createIdRemapMiddleware=r4;var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.createAsyncMiddleware=void 0;function n4(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const f=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,f),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}ya.createAsyncMiddleware=n4;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.createScaffoldMiddleware=void 0;function i4(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}ma.createScaffoldMiddleware=i4;var Hs={},s4=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.JsonRpcEngine=void 0;const o4=s4(An),Bt=xu;class yr extends o4.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await yr._runAllMiddleware(e,r,this._middleware);return o?(await yr._runReturnHandlers(a),i(s)):n(async c=>{try{await yr._runReturnHandlers(a)}catch(f){return c(f)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Bt.EthereumRpcError(Bt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Bt.EthereumRpcError(Bt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Bt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await yr._runAllMiddleware(e,r,this._middleware);if(yr._checkForCompletion(e,r,i),await yr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await yr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const f=c||r.error;f&&(r.error=Bt.serializeError(f)),s([f,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Bt.EthereumRpcError(Bt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Nc(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Bt.EthereumRpcError(Bt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Nc(e)}`,{request:e});if(!n)throw new Bt.EthereumRpcError(Bt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Nc(e)}`,{request:e})}}Hs.JsonRpcEngine=yr;function Nc(t){return JSON.stringify(t,null,2)}var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.mergeMiddleware=void 0;const a4=Hs;function c4(t){const e=new a4.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}_a.mergeMiddleware=c4;(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(va,t),r(ya,t),r(ma,t),r(Ws,t),r(Hs,t),r(_a,t)})(ul);var d0={},ll={},wa={exports:{}};(function(t){var e,r,n,i,s,o,a,c,f,h,v,y,m,M,N,T,I,A,L,j,P,$,G,Z,U,K,q,V,S,u,d;(function(b){var w=typeof B=="object"?B:typeof self=="object"?self:typeof this=="object"?this:{};b(E(w,E(t.exports)));function E(x,_){return x!==w&&(typeof Object.create=="function"?Object.defineProperty(x,"__esModule",{value:!0}):x.__esModule=!0),function(p,l){return x[p]=_?_(p,l):l}}})(function(b){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(_[l]=p[l])};e=function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");w(_,p);function l(){this.constructor=_}_.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)},r=Object.assign||function(_){for(var p,l=1,g=arguments.length;l<g;l++){p=arguments[l];for(var R in p)Object.prototype.hasOwnProperty.call(p,R)&&(_[R]=p[R])}return _},n=function(_,p){var l={};for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&p.indexOf(g)<0&&(l[g]=_[g]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,g=Object.getOwnPropertySymbols(_);R<g.length;R++)p.indexOf(g[R])<0&&Object.prototype.propertyIsEnumerable.call(_,g[R])&&(l[g[R]]=_[g[R]]);return l},i=function(_,p,l,g){var R=arguments.length,C=R<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,l):g,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(_,p,l,g);else for(var F=_.length-1;F>=0;F--)(k=_[F])&&(C=(R<3?k(C):R>3?k(p,l,C):k(p,l))||C);return R>3&&C&&Object.defineProperty(p,l,C),C},s=function(_,p){return function(l,g){p(l,g,_)}},o=function(_,p,l,g,R,C){function k(de){if(de!==void 0&&typeof de!="function")throw new TypeError("Function expected");return de}for(var F=g.kind,Q=F==="getter"?"get":F==="setter"?"set":"value",D=!p&&_?g.static?_:_.prototype:null,pe=p||(D?Object.getOwnPropertyDescriptor(D,g.name):{}),ee,X=!1,vt=l.length-1;vt>=0;vt--){var ue={};for(var le in g)ue[le]=le==="access"?{}:g[le];for(var le in g.access)ue.access[le]=g.access[le];ue.addInitializer=function(de){if(X)throw new TypeError("Cannot add initializers after decoration has completed");C.push(k(de||null))};var Ot=(0,l[vt])(F==="accessor"?{get:pe.get,set:pe.set}:pe[Q],ue);if(F==="accessor"){if(Ot===void 0)continue;if(Ot===null||typeof Ot!="object")throw new TypeError("Object expected");(ee=k(Ot.get))&&(pe.get=ee),(ee=k(Ot.set))&&(pe.set=ee),(ee=k(Ot.init))&&R.unshift(ee)}else(ee=k(Ot))&&(F==="field"?R.unshift(ee):pe[Q]=ee)}D&&Object.defineProperty(D,g.name,pe),X=!0},a=function(_,p,l){for(var g=arguments.length>2,R=0;R<p.length;R++)l=g?p[R].call(_,l):p[R].call(_);return g?l:void 0},c=function(_){return typeof _=="symbol"?_:"".concat(_)},f=function(_,p,l){return typeof p=="symbol"&&(p=p.description?"[".concat(p.description,"]"):""),Object.defineProperty(_,"name",{configurable:!0,value:l?"".concat(l," ",p):p})},h=function(_,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,p)},v=function(_,p,l,g){function R(C){return C instanceof l?C:new l(function(k){k(C)})}return new(l||(l=Promise))(function(C,k){function F(pe){try{D(g.next(pe))}catch(ee){k(ee)}}function Q(pe){try{D(g.throw(pe))}catch(ee){k(ee)}}function D(pe){pe.done?C(pe.value):R(pe.value).then(F,Q)}D((g=g.apply(_,p||[])).next())})},y=function(_,p){var l={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},g,R,C,k;return k={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function F(D){return function(pe){return Q([D,pe])}}function Q(D){if(g)throw new TypeError("Generator is already executing.");for(;k&&(k=0,D[0]&&(l=0)),l;)try{if(g=1,R&&(C=D[0]&2?R.return:D[0]?R.throw||((C=R.return)&&C.call(R),0):R.next)&&!(C=C.call(R,D[1])).done)return C;switch(R=0,C&&(D=[D[0]&2,C.value]),D[0]){case 0:case 1:C=D;break;case 4:return l.label++,{value:D[1],done:!1};case 5:l.label++,R=D[1],D=[0];continue;case 7:D=l.ops.pop(),l.trys.pop();continue;default:if(C=l.trys,!(C=C.length>0&&C[C.length-1])&&(D[0]===6||D[0]===2)){l=0;continue}if(D[0]===3&&(!C||D[1]>C[0]&&D[1]<C[3])){l.label=D[1];break}if(D[0]===6&&l.label<C[1]){l.label=C[1],C=D;break}if(C&&l.label<C[2]){l.label=C[2],l.ops.push(D);break}C[2]&&l.ops.pop(),l.trys.pop();continue}D=p.call(_,l)}catch(pe){D=[6,pe],R=0}finally{g=C=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},m=function(_,p){for(var l in _)l!=="default"&&!Object.prototype.hasOwnProperty.call(p,l)&&S(p,_,l)},S=Object.create?function(_,p,l,g){g===void 0&&(g=l);var R=Object.getOwnPropertyDescriptor(p,l);(!R||("get"in R?!p.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return p[l]}}),Object.defineProperty(_,g,R)}:function(_,p,l,g){g===void 0&&(g=l),_[g]=p[l]},M=function(_){var p=typeof Symbol=="function"&&Symbol.iterator,l=p&&_[p],g=0;if(l)return l.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&g>=_.length&&(_=void 0),{value:_&&_[g++],done:!_}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},N=function(_,p){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var g=l.call(_),R,C=[],k;try{for(;(p===void 0||p-- >0)&&!(R=g.next()).done;)C.push(R.value)}catch(F){k={error:F}}finally{try{R&&!R.done&&(l=g.return)&&l.call(g)}finally{if(k)throw k.error}}return C},T=function(){for(var _=[],p=0;p<arguments.length;p++)_=_.concat(N(arguments[p]));return _},I=function(){for(var _=0,p=0,l=arguments.length;p<l;p++)_+=arguments[p].length;for(var g=Array(_),R=0,p=0;p<l;p++)for(var C=arguments[p],k=0,F=C.length;k<F;k++,R++)g[R]=C[k];return g},A=function(_,p,l){if(l||arguments.length===2)for(var g=0,R=p.length,C;g<R;g++)(C||!(g in p))&&(C||(C=Array.prototype.slice.call(p,0,g)),C[g]=p[g]);return _.concat(C||Array.prototype.slice.call(p))},L=function(_){return this instanceof L?(this.v=_,this):new L(_)},j=function(_,p,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=l.apply(_,p||[]),R,C=[];return R={},k("next"),k("throw"),k("return"),R[Symbol.asyncIterator]=function(){return this},R;function k(X){g[X]&&(R[X]=function(vt){return new Promise(function(ue,le){C.push([X,vt,ue,le])>1||F(X,vt)})})}function F(X,vt){try{Q(g[X](vt))}catch(ue){ee(C[0][3],ue)}}function Q(X){X.value instanceof L?Promise.resolve(X.value.v).then(D,pe):ee(C[0][2],X)}function D(X){F("next",X)}function pe(X){F("throw",X)}function ee(X,vt){X(vt),C.shift(),C.length&&F(C[0][0],C[0][1])}},P=function(_){var p,l;return p={},g("next"),g("throw",function(R){throw R}),g("return"),p[Symbol.iterator]=function(){return this},p;function g(R,C){p[R]=_[R]?function(k){return(l=!l)?{value:L(_[R](k)),done:!1}:C?C(k):k}:C}},$=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=_[Symbol.asyncIterator],l;return p?p.call(_):(_=typeof M=="function"?M(_):_[Symbol.iterator](),l={},g("next"),g("throw"),g("return"),l[Symbol.asyncIterator]=function(){return this},l);function g(C){l[C]=_[C]&&function(k){return new Promise(function(F,Q){k=_[C](k),R(F,Q,k.done,k.value)})}}function R(C,k,F,Q){Promise.resolve(Q).then(function(D){C({value:D,done:F})},k)}},G=function(_,p){return Object.defineProperty?Object.defineProperty(_,"raw",{value:p}):_.raw=p,_};var E=Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p};Z=function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var l in _)l!=="default"&&Object.prototype.hasOwnProperty.call(_,l)&&S(p,_,l);return E(p,_),p},U=function(_){return _&&_.__esModule?_:{default:_}},K=function(_,p,l,g){if(l==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?_!==p||!g:!p.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?g:l==="a"?g.call(_):g?g.value:p.get(_)},q=function(_,p,l,g,R){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!R)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?_!==p||!R:!p.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?R.call(_,l):R?R.value=l:p.set(_,l),l},V=function(_,p){if(p===null||typeof p!="object"&&typeof p!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof _=="function"?p===_:_.has(p)},u=function(_,p,l){if(p!=null){if(typeof p!="object")throw new TypeError("Object expected.");var g;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");g=p[Symbol.asyncDispose]}if(g===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");g=p[Symbol.dispose]}if(typeof g!="function")throw new TypeError("Object not disposable.");_.stack.push({value:p,dispose:g,async:l})}else l&&_.stack.push({async:!0});return p};var x=typeof SuppressedError=="function"?SuppressedError:function(_,p,l){var g=new Error(l);return g.name="SuppressedError",g.error=_,g.suppressed=p,g};d=function(_){function p(g){_.error=_.hasError?new x(g,_.error,"An error was suppressed during disposal."):g,_.hasError=!0}function l(){for(;_.stack.length;){var g=_.stack.pop();try{var R=g.dispose&&g.dispose.call(g.value);if(g.async)return Promise.resolve(R).then(l,function(C){return p(C),l()})}catch(C){p(C)}}if(_.hasError)throw _.error}return l()},b("__extends",e),b("__assign",r),b("__rest",n),b("__decorate",i),b("__param",s),b("__esDecorate",o),b("__runInitializers",a),b("__propKey",c),b("__setFunctionName",f),b("__metadata",h),b("__awaiter",v),b("__generator",y),b("__exportStar",m),b("__createBinding",S),b("__values",M),b("__read",N),b("__spread",T),b("__spreadArrays",I),b("__spreadArray",A),b("__await",L),b("__asyncGenerator",j),b("__asyncDelegator",P),b("__asyncValues",$),b("__makeTemplateObject",G),b("__importStar",Z),b("__importDefault",U),b("__classPrivateFieldGet",K),b("__classPrivateFieldSet",q),b("__classPrivateFieldIn",V),b("__addDisposableResource",u),b("__disposeResources",d)})})(wa);var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});var wh=wa.exports,u4=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return wh.__awaiter(this,void 0,void 0,function(){var r,n,i;return wh.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Sa.default=u4;Object.defineProperty(ll,"__esModule",{value:!0});var Sh=wa.exports,l4=Sa,f4=function(){function t(){this._semaphore=new l4.default(1)}return t.prototype.acquire=function(){return Sh.__awaiter(this,void 0,void 0,function(){var e,r;return Sh.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();ll.default=f4;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.withTimeout=void 0;var lo=wa.exports;function h4(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return lo.__awaiter(n,void 0,void 0,function(){var o,a,c;return lo.__generator(this,function(f){switch(f.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=f.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return lo.__awaiter(this,void 0,void 0,function(){var s,o;return lo.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ea.withTimeout=h4;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=ll;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Sa;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Ea;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(d0);var d4=g4,p4=Object.prototype.hasOwnProperty;function g4(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)p4.call(r,n)&&(t[n]=r[n])}return t}const b4=d4,v4=Vu();var y4=J;function J(t){const e=this;e.currentProvider=t}J.prototype.getBalance=Us(2,"eth_getBalance");J.prototype.getCode=Us(2,"eth_getCode");J.prototype.getTransactionCount=Us(2,"eth_getTransactionCount");J.prototype.getStorageAt=Us(3,"eth_getStorageAt");J.prototype.call=Us(2,"eth_call");J.prototype.protocolVersion=ie("eth_protocolVersion");J.prototype.syncing=ie("eth_syncing");J.prototype.coinbase=ie("eth_coinbase");J.prototype.mining=ie("eth_mining");J.prototype.hashrate=ie("eth_hashrate");J.prototype.gasPrice=ie("eth_gasPrice");J.prototype.accounts=ie("eth_accounts");J.prototype.blockNumber=ie("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=ie("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=ie("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=ie("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=ie("eth_getUncleCountByBlockNumber");J.prototype.sign=ie("eth_sign");J.prototype.sendTransaction=ie("eth_sendTransaction");J.prototype.sendRawTransaction=ie("eth_sendRawTransaction");J.prototype.estimateGas=ie("eth_estimateGas");J.prototype.getBlockByHash=ie("eth_getBlockByHash");J.prototype.getBlockByNumber=ie("eth_getBlockByNumber");J.prototype.getTransactionByHash=ie("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=ie("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=ie("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=ie("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=ie("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=ie("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=ie("eth_getCompilers");J.prototype.compileLLL=ie("eth_compileLLL");J.prototype.compileSolidity=ie("eth_compileSolidity");J.prototype.compileSerpent=ie("eth_compileSerpent");J.prototype.newFilter=ie("eth_newFilter");J.prototype.newBlockFilter=ie("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=ie("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=ie("eth_uninstallFilter");J.prototype.getFilterChanges=ie("eth_getFilterChanges");J.prototype.getFilterLogs=ie("eth_getFilterLogs");J.prototype.getLogs=ie("eth_getLogs");J.prototype.getWork=ie("eth_getWork");J.prototype.submitWork=ie("eth_submitWork");J.prototype.submitHashrate=ie("eth_submitHashrate");J.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(m4(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ie(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Us(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function m4(t){return b4({id:v4(),jsonrpc:"2.0",params:[]},t)}const Eh=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...f)=>{e.errorFirst?f[0]?a(f):(f.shift(),o(f)):o(f)}):e.errorFirst?i.push((f,h)=>{f?a(f):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},xh=new WeakMap;var _4=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=xh.get(o);if(c||(c={},xh.set(o,c)),a in c)return c[a];const f=M=>typeof M=="string"||typeof a=="symbol"?a===M:M.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),v=h===void 0||h.writable||h.configurable,m=(e.include?e.include.some(f):!e.exclude.some(f))&&v;return c[a]=m,m},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const f=i.get(o);if(f)return Reflect.apply(f,a,c);const h=e.excludeMain?o:Eh(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const f=i.get(c);if(f)return f;if(typeof c=="function"){const h=Eh(c,e,s,o);return i.set(c,h),h}return c}});return s};const w4=An.default;class S4 extends w4{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var fl=S4;const E4=fl;class x4 extends E4{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var M4=x4,Vs={minBlockRef:C4,maxBlockRef:R4,sortBlockRefs:hl,bnToHex:I4,blockRefIsNumber:A4,hexToInt:Po,incrementHexInt:k4,intToHex:p0,unsafeRandomBytes:T4};function C4(...t){return hl(t)[0]}function R4(...t){const e=hl(t);return e[e.length-1]}function hl(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Po(e)-Po(r))}function I4(t){return"0x"+t.toString(16)}function A4(t){return t&&!["earliest","latest","pending"].includes(t)}function Po(t){return t==null?t:Number.parseInt(t,16)}function k4(t){if(t==null)return t;const e=Po(t);return p0(e+1)}function p0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function T4(t){let e="0x";for(let r=0;r<t;r++)e+=Mh(),e+=Mh();return e}function Mh(){return Math.floor(Math.random()*16).toString(16)}const O4=y4,N4=_4,L4=M4,{bnToHex:f8,hexToInt:fo,incrementHexInt:P4,minBlockRef:$4,blockRefIsNumber:D4}=Vs;class j4 extends L4{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new O4(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=$4(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=P4(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await N4(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(fo(this.params.fromBlock)>=fo(e.blockNumber)||D4(this.params.toBlock)&&fo(this.params.toBlock)<=fo(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}}var B4=j4,dl=F4;async function F4({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Ch(e),s=Ch(r)-n+1,o=Array(s).fill().map((c,f)=>n+f).map(W4);return await Promise.all(o.map(c=>U4(t,"eth_getBlockByNumber",[c,!1])))}function Ch(t){return t==null?t:Number.parseInt(t,16)}function W4(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function H4(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function U4(t,e,r){for(let n=0;n<3;n++)try{return await H4(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const V4=fl,z4=dl,{incrementHexInt:q4}=Vs;class G4 extends V4{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=q4(e),o=(await z4({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var J4=G4;const Z4=fl,Q4=dl,{incrementHexInt:Y4}=Vs;class K4 extends Z4{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Y4(e),i=await Q4({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var X4=K4;const ex=d0.Mutex,{createAsyncMiddleware:tx,createScaffoldMiddleware:rx}=ul,nx=B4,ix=J4,sx=X4,{intToHex:g0,hexToInt:Lc}=Vs;var ox=ax;function ax({blockTracker:t,provider:e}){let r=0,n={};const i=new ex,s=cx({mutex:i}),o=rx({eth_newFilter:s(Pc(c)),eth_newBlockFilter:s(Pc(f)),eth_newPendingTransactionFilter:s(Pc(h)),eth_uninstallFilter:s(wo(m)),eth_getFilterChanges:s(wo(v)),eth_getFilterLogs:s(wo(y))}),a=async({oldBlock:A,newBlock:L})=>{if(n.length===0)return;const j=await i.acquire();try{await Promise.all(Kn(n).map(async P=>{try{await P.update({oldBlock:A,newBlock:L})}catch($){console.error($)}}))}catch(P){console.error(P)}j()};return o.newLogFilter=c,o.newBlockFilter=f,o.newPendingTransactionFilter=h,o.uninstallFilter=m,o.getFilterChanges=v,o.getFilterLogs=y,o.destroy=()=>{T()},o;async function c(A){const L=new nx({provider:e,params:A});return await M(L),L}async function f(){const A=new ix({provider:e});return await M(A),A}async function h(){const A=new sx({provider:e});return await M(A),A}async function v(A){const L=Lc(A),j=n[L];if(!j)throw new Error(`No filter for index "${L}"`);return j.getChangesAndClear()}async function y(A){const L=Lc(A),j=n[L];if(!j)throw new Error(`No filter for index "${L}"`);let P=[];return j.type==="log"&&(P=j.getAllResults()),P}async function m(A){const L=Lc(A),j=n[L],P=Boolean(j);return P&&await N(L),P}async function M(A){const L=Kn(n).length,j=await t.getLatestBlock();await A.initialize({currentBlock:j}),r++,n[r]=A,A.id=r,A.idHex=g0(r);const P=Kn(n).length;return I({prevFilterCount:L,newFilterCount:P}),r}async function N(A){const L=Kn(n).length;delete n[A];const j=Kn(n).length;I({prevFilterCount:L,newFilterCount:j})}async function T(){const A=Kn(n).length;n={},I({prevFilterCount:A,newFilterCount:0})}function I({prevFilterCount:A,newFilterCount:L}){if(A===0&&L>0){t.on("sync",a);return}if(A>0&&L===0){t.removeListener("sync",a);return}}}function Pc(t){return wo(async(...e)=>{const r=await t(...e);return g0(r.id)})}function wo(t){return tx(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function cx({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Kn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const ux=An.default,{createAsyncMiddleware:Rh,createScaffoldMiddleware:lx}=ul,fx=ox,{unsafeRandomBytes:hx,incrementHexInt:dx}=Vs,px=dl;var gx=bx;function bx({blockTracker:t,provider:e}){const r={},n=fx({blockTracker:t,provider:e});let i=!1;const s=new ux,o=lx({eth_subscribe:Rh(a),eth_unsubscribe:Rh(c)});return o.destroy=h,{events:s,middleware:o};async function a(v,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const m=v.params[0],M=hx(16);let N;switch(m){case"newHeads":N=T({subId:M});break;case"logs":const A=v.params[1],L=await n.newLogFilter(A);N=I({subId:M,filter:L});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${m}"`)}r[M]=N,y.result=M;return;function T({subId:A}){const L={type:m,destroy:async()=>{t.removeListener("sync",L.update)},update:async({oldBlock:j,newBlock:P})=>{const $=P,G=dx(j);(await px({provider:e,fromBlock:G,toBlock:$})).map(vx).filter(K=>K!==null).forEach(K=>{f(A,K)})}};return t.on("sync",L.update),L}function I({subId:A,filter:L}){return L.on("update",P=>f(A,P)),{type:m,destroy:async()=>await n.uninstallFilter(L.idHex)}}}async function c(v,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const m=v.params[0],M=r[m];if(!M){y.result=!1;return}delete r[m],await M.destroy(),y.result=!0}function f(v,y){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:v,result:y}})}function h(){s.removeAllListeners();for(const v in r)r[v].destroy(),delete r[v];i=!0}}function vx(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(oa,"__esModule",{value:!0});oa.SubscriptionManager=void 0;const yx=Tp,mx=gx,Ih=()=>{};class _x{constructor(e){const r=new yx.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=mx({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Ih,Ih),r}destroy(){this.subscriptionMiddleware.destroy()}}oa.SubscriptionManager=_x;var pl=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.CoinbaseWalletProvider=void 0;const wx=pl(An),Sx=pl(Es.exports),$c=Ni,ge=xs,Ah=Li,kh=er,Dc=Jo,Ex=ve,te=W,jc=pl(j_),xx=mi,he=kp,Mx=oa,Th="DefaultChainId",Oh="DefaultJsonRpcUrl";class Cx extends wx.default{constructor(e){var r,n;super(),this._filterPolyfill=new xx.FilterPolyfill(this),this._subscriptionManager=new Mx.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,te.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(kh.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,te.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const f=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(f))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,te.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Oh))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Oh,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Th,r.toString(10)),((0,te.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,te.ensureIntNumber)(e)===this.getChainId())return!1;const f=await this.initializeRelay(),h=f.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await f.requestEthereumAccounts().promise;const v=await f.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=v.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=v.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Ex.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===ge.standardErrorCodes.provider.unsupportedChain?ge.standardErrors.provider.unsupportedChain(e):ge.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log($c.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ah.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(he.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ge.serializeError)(i,e)})}catch(n){throw(0,ge.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,ge.serializeError)(n,e)})}catch(n){return Promise.reject((0,ge.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,ge.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,ge.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ge.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ge.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ge.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,te.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,ge.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Dc.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,ge.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Dc.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,ge.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Dc.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,te.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(kh.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_accounts:return this._eth_accounts();case he.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case he.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case he.JSONRPCMethod.net_version:return this._net_version();case he.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case he.JSONRPCMethod.eth_sign:return this._eth_sign(n);case he.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case he.JSONRPCMethod.personal_sign:return this._personal_sign(n);case he.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case he.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case he.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case he.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case he.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case he.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case he.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case he.JSONRPCMethod.eth_signTypedData_v4:case he.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case he.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case he.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case he.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case he.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case he.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case he.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case he.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case he.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case he.JSONRPCMethod.eth_subscribe:case he.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,te.ensureAddressString)(e);return this._addresses.map(i=>(0,te.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log($c.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,te.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,te.ensureAddressString)(e.to):null,i=e.value!=null?(0,te.ensureBN)(e.value):new Sx.default(0),s=e.data?(0,te.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,te.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,te.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,te.ensureBN)(e.maxFeePerGas):null,f=e.maxPriorityFeePerGas!=null?(0,te.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,te.ensureBN)(e.gas):null,v=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:f,gasLimit:h,chainId:v}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ge.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ge.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ge.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,te.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Th);if(!e)return(0,te.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,te.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log($c.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ah.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ge.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ge.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,te.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ge.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,te.ensureParsedJSONObject)(e[0]),n=(0,te.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=jc.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=jc.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=jc.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ge.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw ge.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ge.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw ge.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw ge.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw ge.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,c=await this.watchAsset(r.type,i,s,a,o,n);return{jsonrpc:"2.0",id:0,result:c}}_eth_uninstallFilter(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}pi.CoinbaseWalletProvider=Cx;var xa={},Ma={},zs,Y,b0,v0,pn,Nh,y0,lu,m0,$o={},_0=[],Rx=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ca=Array.isArray;function wr(t,e){for(var r in e)t[r]=e[r];return t}function w0(t){var e=t.parentNode;e&&e.removeChild(t)}function fu(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?zs.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return fs(t,o,n,i,null)}function fs(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++b0};return i==null&&Y.vnode!=null&&Y.vnode(s),s}function Ix(){return{current:null}}function qs(t){return t.children}function hs(t,e){this.props=t,this.context=e}function ms(t,e){if(e==null)return t.__?ms(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ms(t):null}function S0(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return S0(t)}}function hu(t){(!t.__d&&(t.__d=!0)&&pn.push(t)&&!Do.__r++||Nh!==Y.debounceRendering)&&((Nh=Y.debounceRendering)||y0)(Do)}function Do(){var t,e,r,n,i,s,o,a;for(pn.sort(lu);t=pn.shift();)t.__d&&(e=pn.length,n=void 0,i=void 0,o=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=wr({},s)).__v=s.__v+1,gl(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??ms(s),s.__h),I0(n,s),s.__e!=o&&S0(s)),pn.length>e&&pn.sort(lu));Do.__r=0}function E0(t,e,r,n,i,s,o,a,c,f){var h,v,y,m,M,N,T,I=n&&n.__k||_0,A=I.length;for(r.__k=[],h=0;h<e.length;h++)if((m=r.__k[h]=(m=e[h])==null||typeof m=="boolean"||typeof m=="function"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?fs(null,m,null,null,m):Ca(m)?fs(qs,{children:m},null,null,null):m.__b>0?fs(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=r,m.__b=r.__b+1,(y=I[h])===null||y&&m.key==y.key&&m.type===y.type)I[h]=void 0;else for(v=0;v<A;v++){if((y=I[v])&&m.key==y.key&&m.type===y.type){I[v]=void 0;break}y=null}gl(t,m,y=y||$o,i,s,o,a,c,f),M=m.__e,(v=m.ref)&&y.ref!=v&&(T||(T=[]),y.ref&&T.push(y.ref,null,m),T.push(v,m.__c||M,m)),M!=null?(N==null&&(N=M),typeof m.type=="function"&&m.__k===y.__k?m.__d=c=x0(m,c,t):c=C0(t,m,y,I,M,c),typeof r.type=="function"&&(r.__d=c)):c&&y.__e==c&&c.parentNode!=t&&(c=ms(y))}for(r.__e=N,h=A;h--;)I[h]!=null&&(typeof r.type=="function"&&I[h].__e!=null&&I[h].__e==r.__d&&(r.__d=R0(n).nextSibling),k0(I[h],I[h]));if(T)for(h=0;h<T.length;h++)A0(T[h],T[++h],T[++h])}function x0(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?x0(n,e,r):C0(r,n,n,i,n.__e,e));return e}function M0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ca(t)?t.some(function(r){M0(r,e)}):e.push(t)),e}function C0(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function R0(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=R0(r)))return n}return null}function Ax(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||jo(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||jo(t,s,e[s],r[s],n)}function Lh(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Rx.test(e)?r:r+"px"}function jo(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Lh(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Lh(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?$h:Ph,s):t.removeEventListener(e,s?$h:Ph,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Ph(t){return this.l[t.type+!1](Y.event?Y.event(t):t)}function $h(t){return this.l[t.type+!0](Y.event?Y.event(t):t)}function gl(t,e,r,n,i,s,o,a,c){var f,h,v,y,m,M,N,T,I,A,L,j,P,$,G,Z=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(f=Y.__b)&&f(e);try{e:if(typeof Z=="function"){if(T=e.props,I=(f=Z.contextType)&&n[f.__c],A=f?I?I.props.value:f.__:n,r.__c?N=(h=e.__c=r.__c).__=h.__E:("prototype"in Z&&Z.prototype.render?e.__c=h=new Z(T,A):(e.__c=h=new hs(T,A),h.constructor=Z,h.render=Tx),I&&I.sub(h),h.props=T,h.state||(h.state={}),h.context=A,h.__n=n,v=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),Z.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=wr({},h.__s)),wr(h.__s,Z.getDerivedStateFromProps(T,h.__s))),y=h.props,m=h.state,h.__v=e,v)Z.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&T!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(T,A),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(T,h.__s,A)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(h.props=T,h.state=h.__s,h.__d=!1),h.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(U){U&&(U.__=e)}),L=0;L<h._sb.length;L++)h.__h.push(h._sb[L]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(T,h.__s,A),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,m,M)})}if(h.context=A,h.props=T,h.__P=t,j=Y.__r,P=0,"prototype"in Z&&Z.prototype.render){for(h.state=h.__s,h.__d=!1,j&&j(e),f=h.render(h.props,h.state,h.context),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[]}else do h.__d=!1,j&&j(e),f=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++P<25);h.state=h.__s,h.getChildContext!=null&&(n=wr(wr({},n),h.getChildContext())),v||h.getSnapshotBeforeUpdate==null||(M=h.getSnapshotBeforeUpdate(y,m)),E0(t,Ca(G=f!=null&&f.type===qs&&f.key==null?f.props.children:f)?G:[G],e,r,n,i,s,o,a,c),h.base=e.__e,e.__h=null,h.__h.length&&o.push(h),N&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=kx(r.__e,e,r,n,i,s,o,c);(f=Y.diffed)&&f(e)}catch(U){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),Y.__e(U,e,r)}}function I0(t,e){Y.__c&&Y.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Y.__e(n,r.__v)}})}function kx(t,e,r,n,i,s,o,a){var c,f,h,v=r.props,y=e.props,m=e.type,M=0;if(m==="svg"&&(i=!0),s!=null){for(;M<s.length;M++)if((c=s[M])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){t=c,s[M]=null;break}}if(t==null){if(m===null)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,y.is&&y),s=null,a=!1}if(m===null)v===y||a&&t.data===y||(t.data=y);else{if(s=s&&zs.call(t.childNodes),f=(v=r.props||$o).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!a){if(s!=null)for(v={},M=0;M<t.attributes.length;M++)v[t.attributes[M].name]=t.attributes[M].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(Ax(t,y,v,i,a),h)e.__k=[];else if(E0(t,Ca(M=e.props.children)?M:[M],e,r,n,i&&m!=="foreignObject",s,o,s?s[0]:r.__k&&ms(r,0),a),s!=null)for(M=s.length;M--;)s[M]!=null&&w0(s[M]);a||("value"in y&&(M=y.value)!==void 0&&(M!==t.value||m==="progress"&&!M||m==="option"&&M!==v.value)&&jo(t,"value",M,v.value,!1),"checked"in y&&(M=y.checked)!==void 0&&M!==t.checked&&jo(t,"checked",M,v.checked,!1))}return t}function A0(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Y.__e(n,r)}}function k0(t,e,r){var n,i;if(Y.unmount&&Y.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||A0(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Y.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&k0(n[i],e,r||typeof t.type!="function");r||t.__e==null||w0(t.__e),t.__=t.__e=t.__d=void 0}function Tx(t,e,r){return this.constructor(t,r)}function T0(t,e,r){var n,i,s;Y.__&&Y.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],gl(e,t=(!n&&r||e).__k=fu(qs,null,[t]),i||$o,$o,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?zs.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),I0(s,t)}function O0(t,e){T0(t,e,O0)}function Ox(t,e,r){var n,i,s,o,a=wr({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?zs.call(arguments,2):r),fs(t.type,a,n||t.key,i||t.ref,null)}function Nx(t,e){var r={__c:e="__cC"+m0++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,hu(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}zs=_0.slice,Y={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},b0=0,v0=function(t){return t!=null&&t.constructor===void 0},hs.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wr({},this.state),typeof t=="function"&&(t=t(wr({},r),this.props)),t&&wr(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),hu(this))},hs.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),hu(this))},hs.prototype.render=qs,pn=[],y0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lu=function(t,e){return t.__v.__b-e.__v.__b},Do.__r=0,m0=0;var Lx=Object.freeze(Object.defineProperty({__proto__:null,Component:hs,Fragment:qs,cloneElement:Ox,createContext:Nx,createElement:fu,createRef:Ix,h:fu,hydrate:O0,get isValidElement(){return v0},get options(){return Y},render:T0,toChildArray:M0},Symbol.toStringTag,{value:"Module"})),Dt=Oi(Lx);function Mi(t){return typeof t=="function"}var Dh=!1,Wt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Dh=t},get useDeprecatedSynchronousErrorHandling(){return Dh}};function ni(t){setTimeout(function(){throw t},0)}var Bo={closed:!0,next:function(t){},error:function(t){if(Wt.useDeprecatedSynchronousErrorHandling)throw t;ni(t)},complete:function(){}},Ct=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function bl(t){return t!==null&&typeof t=="object"}var Px=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),ds=Px,Xe=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Mi(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(v){e=v instanceof ds?jh(v.errors):[v]}}if(Ct(o))for(var a=-1,f=o.length;++a<f;){var h=o[a];if(bl(h))try{h.unsubscribe()}catch(y){e=e||[],y instanceof ds?e=e.concat(jh(y.errors)):e.push(y)}}if(e)throw new ds(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function jh(t){return t.reduce(function(e,r){return e.concat(r instanceof ds?r.errors:r)},[])}var Fo=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),H=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Bo;break;case 1:if(!r){s.destination=Bo;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Bh(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Bh(s,r,n,i);break}return s}return e.prototype[Fo]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Xe),Bh=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Mi(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Bo&&(c=Object.create(n),Mi(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Wt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Wt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):ni(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;ni(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Wt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Wt.useDeprecatedSynchronousErrorHandling)throw i;ni(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Wt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Wt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(ni(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(H);function vl(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof H?t=n:t=null}return!0}function $x(t,e,r){if(t){if(t instanceof H)return t;if(t[Fo])return t[Fo]()}return!t&&!e&&!r?new H(Bo):new H(t,e,r)}var Hi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Fr(t){return t}function du(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N0(t)}function N0(t){return t.length===0?Fr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var re=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=$x(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Wt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Wt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Wt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),vl(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Fh(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Hi]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:N0(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Fh(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Fh(t){if(t||(t=Wt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Dx=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Lr=Dx,L0=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Xe),P0=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(H),dt=function(t){O.exports.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Fo]=function(){return new P0(this)},e.prototype.lift=function(r){var n=new Wh(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Lr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Lr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Lr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Lr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Lr;return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.isStopped?(r.complete(),Xe.EMPTY):(this.observers.push(r),new L0(this,r))},e.prototype.asObservable=function(){var r=new re;return r.source=this,r},e.create=function(r,n){return new Wh(r,n)},e}(re),Wh=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Xe.EMPTY},e}(dt);function yl(){return function(e){return e.lift(new jx(e))}}var jx=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Bx(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),Bx=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(H),$0=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Xe,r.add(this.source.subscribe(new Wx(this.getSubject(),this))),r.closed&&(this._connection=null,r=Xe.EMPTY)),r},e.prototype.refCount=function(){return yl()(this)},e}(re),Fx=function(){var t=$0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Wx=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(P0);function Hx(t,e,r,n){return function(i){return i.lift(new Ux(t,e,r,n))}}var Ux=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Vx(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Vx=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(f){this.error(f)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new dt,i.set(n,s);var a=new pu(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new pu(n,s))}catch(f){this.error(f);return}this.add(c.subscribe(new zx(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(H),zx=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(H),pu=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Xe,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new qx(s)),n.add(o.subscribe(r)),n},e}(re),qx=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Xe),D0=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Lr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(dt),Gx=function(t){O.exports.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Xe),Gs=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Gx),Jx=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Gs),gu=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Js=function(t){O.exports.__extends(e,t);function e(r,n){n===void 0&&(n=gu.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(gu),Zx=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Js),j0=new Zx(Jx),B0=j0,Ci=new re(function(t){return t.complete()});function Ui(t){return t?Qx(t):Ci}function Qx(t){return new re(function(e){return t.schedule(function(){return e.complete()})})}function Pt(t){return t&&typeof t.schedule=="function"}var F0=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function ml(t,e){return new re(function(r){var n=new Xe,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Zs(t,e){return e?ml(t,e):new re(F0(t))}function Ra(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pt(r)?(t.pop(),ml(t,r)):Zs(t)}function _l(t,e){return e?new re(function(r){return e.schedule(Yx,0,{error:t,subscriber:r})}):new re(function(r){return r.error(t)})}function Yx(t){var e=t.error,r=t.subscriber;r.error(e)}var bu;bu||(bu={});var Sr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ra(this.value);case"E":return _l(this.error);case"C":return Ui()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Kx(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Xx(t,e))}}var Xx=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.scheduler,this.delay))},t}(),W0=function(t){O.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new e5(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Sr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Sr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Sr.createComplete()),this.unsubscribe()},e}(H),e5=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),wl=function(t){O.exports.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new t5(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Lr;if(this.isStopped||this.hasError?a=Xe.EMPTY:(this.observers.push(r),a=new L0(this,r)),s&&r.add(r=new W0(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||B0).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(dt),t5=function(){function t(e,r){this.time=e,this.value=r}return t}(),Vi=function(t){O.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Xe.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(dt),r5=1,n5=function(){return Promise.resolve()}(),vu={};function Hh(t){return t in vu?(delete vu[t],!0):!1}var Uh={setImmediate:function(t){var e=r5++;return vu[e]=!0,n5.then(function(){return Hh(e)&&t()}),e},clearImmediate:function(t){Hh(t)}},i5=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Uh.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Uh.clearImmediate(n),r.scheduled=void 0)},e}(Gs),s5=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Js),H0=new s5(i5),So=H0,U0=new Js(Gs),Rt=U0,o5=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Gs),a5=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Js),V0=new a5(o5),c5=V0,u5=function(t){O.exports.__extends(e,t);function e(r,n){r===void 0&&(r=z0),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Js),z0=function(t){O.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Gs);function ar(){}function l5(t){return!!t&&(t instanceof re||typeof t.lift=="function"&&typeof t.subscribe=="function")}var f5=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Ri=f5,h5=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Qs=h5,d5=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),q0=d5;function Gt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new p5(t,e))}}var p5=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.project,this.thisArg))},t}(),g5=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(H);function G0(t,e,r){if(e)if(Pt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return G0(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new re(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(b5,0,h)}else{if(!o){o=new Vi;var f=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];o.next(v.length<=1?v[0]:v),o.complete()};try{t.apply(s,n.concat([f]))}catch(v){vl(o)?o.error(v):console.warn(v)}}return o.subscribe(c)}})}}function b5(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Vi;var f=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var y=h.length<=1?h[0]:h;e.add(a.schedule(v5,0,{value:y,subject:c}))};try{s.apply(o,r.concat([f]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function v5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function J0(t,e,r){if(e)if(Pt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return J0(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new re(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(y5,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Vi;var f=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var y=h.shift();if(y){c.error(y);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([f]))}catch(h){vl(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function y5(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Vi;var f=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var y=h.shift();if(y)e.add(a.schedule(Vh,0,{err:y,subject:c}));else{var m=h.length<=1?h[0]:h;e.add(a.schedule(m5,0,{value:m,subject:c}))}};try{s.apply(i,o.concat([f]))}catch(h){this.add(a.schedule(Vh,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function m5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Vh(t){var e=t.err,r=t.subject;r.error(e)}var Pn=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(H),_5=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(H),w5=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,ni),e}};function S5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wr=S5(),E5=function(t){return function(e){var r=t[Wr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},x5=function(t){return function(e){var r=t[Hi]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Z0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Q0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var _s=function(t){if(!!t&&typeof t[Hi]=="function")return x5(t);if(Z0(t))return F0(t);if(Q0(t))return w5(t);if(!!t&&typeof t[Wr]=="function")return E5(t);var e=bl(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function xr(t,e,r,n,i){if(i===void 0&&(i=new _5(t,r,n)),!i.closed)return e instanceof re?e.subscribe(i):_s(e)(i)}var zh={};function M5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Pt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0]),Zs(t,n).lift(new Sl(r))}var Sl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new C5(e,this.resultSelector))},t}(),C5=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(zh),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(xr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===zh?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Pn);function R5(t,e){return new re(function(r){var n=new Xe;return n.add(e.schedule(function(){var i=t[Hi]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function I5(t,e){return new re(function(r){var n=new Xe;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function A5(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(function(r){var n=new Xe,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Wr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function k5(t){return t&&typeof t[Hi]=="function"}function T5(t){return t&&typeof t[Wr]=="function"}function Y0(t,e){if(t!=null){if(k5(t))return R5(t,e);if(Q0(t))return I5(t,e);if(Z0(t))return ml(t,e);if(T5(t)||typeof t=="string")return A5(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Cr(t,e){return e?Y0(t,e):t instanceof re?t:new re(_s(t))}var tt=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(H),rt=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(H);function nt(t,e){if(!e.closed){if(t instanceof re)return t.subscribe(e);var r;try{r=_s(t)(e)}catch(n){e.error(n)}return r}}function Rn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Rn(function(i,s){return Cr(t(i,s)).pipe(Gt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new O5(t,r))})}var O5=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new N5(e,this.project,this.concurrent))},t}(),N5=function(t){O.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(rt),L5=Rn;function El(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Rn(Fr,t)}function K0(){return El(1)}function ws(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K0()(Ra.apply(void 0,t))}function xl(t){return new re(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Cr(r):Ui();return n.subscribe(e)})}function P5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ct(r))return ho(r,null);if(bl(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ho(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ct(t[0])?t[0]:t,ho(t,null).pipe(Gt(function(s){return i.apply(void 0,s)}))}return ho(t,null)}function ho(t,e){return new re(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(f){var h=Cr(t[f]),v=!1;r.add(h.subscribe({next:function(y){v||(v=!0,o++),i[f]=y},error:function(y){return r.error(y)},complete:function(){s++,(s===n||!v)&&(o===n&&r.next(e?e.reduce(function(y,m,M){return y[m]=i[M],y},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function X0(t,e,r,n){return Mi(r)&&(n=r,r=void 0),n?X0(t,e,r).pipe(Gt(function(i){return Ct(i)?n.apply(void 0,i):n(i)})):new re(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}eg(t,e,s,i,r)})}function eg(t,e,r,n,i){var s;if(j5(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(D5(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if($5(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var f=0,h=t.length;f<h;f++)eg(t[f],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function $5(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function D5(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function j5(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function tg(t,e,r){return r?tg(t,e).pipe(Gt(function(n){return Ct(n)?r.apply(void 0,n):r(n)})):new re(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!Mi(e))return function(){return e(i,s)}})}function B5(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Fr,i=a.scheduler}else n===void 0||Pt(n)?(o=t,s=Fr,i=n):(o=t,s=n);return new re(function(c){var f=o;if(i)return i.schedule(F5,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:f});do{if(e){var h=void 0;try{h=e(f)}catch(y){c.error(y);return}if(!h){c.complete();break}}var v=void 0;try{v=s(f)}catch(y){c.error(y);return}if(c.next(v),c.closed)break;try{f=r(f)}catch(y){c.error(y);return}}while(!0)})}function F5(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function W5(t,e,r){return e===void 0&&(e=Ci),r===void 0&&(r=Ci),xl(function(){return t()?e:r})}function Ii(t){return!Ct(t)&&t-parseFloat(t)+1>=0}function H5(t,e){return t===void 0&&(t=0),e===void 0&&(e=Rt),(!Ii(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Rt),new re(function(r){return r.add(e.schedule(U5,t,{subscriber:r,counter:0,period:t})),r})}function U5(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function rg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Pt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof re?t[0]:El(r)(Zs(t,n))}var ng=new re(ar);function V5(){return ng}function yu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Ci;var r=t[0],n=t.slice(1);return t.length===1&&Ct(r)?yu.apply(void 0,r):new re(function(i){var s=function(){return i.add(yu.apply(void 0,n).subscribe(i))};return Cr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function z5(t,e){return e?new re(function(r){var n=Object.keys(t),i=new Xe;return i.add(e.schedule(q5,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new re(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function q5(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function ig(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Hr(t,e){return function(n){return n.lift(new G5(t,e))}}var G5=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new J5(e,this.predicate,this.thisArg))},t}(),J5=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(H);function Z5(t,e,r){return[Hr(e,r)(new re(_s(t))),Hr(ig(e,r))(new re(_s(t)))]}function sg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ct(t[0]))t=t[0];else return t[0];return Zs(t,void 0).lift(new Q5)}var Q5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Y5(e))},t}(),Y5=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=xr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Pn);function K5(t,e,r){return t===void 0&&(t=0),new re(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(X5,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function X5(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function og(t,e,r){t===void 0&&(t=0);var n=-1;return Ii(e)?n=Number(e)<1&&1||Number(e):Pt(e)&&(r=e),Pt(r)||(r=Rt),new re(function(i){var s=Ii(t)?t:+t-r.now();return r.schedule(eM,s,{index:0,period:n,subscriber:i})})}function eM(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function tM(t,e){return new re(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Cr(i):Ci,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Zs(t,void 0).lift(new cg(r))}var cg=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new rM(e,this.resultSelector))},t}(),rM=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ct(r)?n.push(new iM(r)):typeof r[Wr]=="function"?n.push(new nM(r[Wr]())):n.push(new sM(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],f=o.next();if(o.hasCompleted()&&(a=!0),f.done){i.complete();return}c.push(f.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(H),nM=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),iM=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Wr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),sM=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Wr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return nt(this.observable,new tt(this))},e}(rt),oM=Object.freeze(Object.defineProperty({__proto__:null,Observable:re,ConnectableObservable:$0,GroupedObservable:pu,observable:Hi,Subject:dt,BehaviorSubject:D0,ReplaySubject:wl,AsyncSubject:Vi,asap:So,asapScheduler:H0,async:Rt,asyncScheduler:U0,queue:B0,queueScheduler:j0,animationFrame:c5,animationFrameScheduler:V0,VirtualTimeScheduler:u5,VirtualAction:z0,Scheduler:gu,Subscription:Xe,Subscriber:H,Notification:Sr,get NotificationKind(){return bu},pipe:du,noop:ar,identity:Fr,isObservable:l5,ArgumentOutOfRangeError:Ri,EmptyError:Qs,ObjectUnsubscribedError:Lr,UnsubscriptionError:ds,TimeoutError:q0,bindCallback:G0,bindNodeCallback:J0,combineLatest:M5,concat:ws,defer:xl,empty:Ui,forkJoin:P5,from:Cr,fromEvent:X0,fromEventPattern:tg,generate:B5,iif:W5,interval:H5,merge:rg,never:V5,of:Ra,onErrorResumeNext:yu,pairs:z5,partition:Z5,race:sg,range:K5,throwError:_l,timer:og,using:tM,zip:ag,scheduled:Y0,EMPTY:Ci,NEVER:ng,config:Wt},Symbol.toStringTag,{value:"Module"})),Ia=Oi(oM),Aa={},ka=Oi(Fg),Mr,be,Bc,qh,Ai=0,ug=[],Eo=[],Gh=Y.__b,Jh=Y.__r,Zh=Y.diffed,Qh=Y.__c,Yh=Y.unmount;function $n(t,e){Y.__h&&Y.__h(be,t,Ai||e),Ai=0;var r=be.__H||(be.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Eo}),r.__[t]}function lg(t){return Ai=1,fg(dg,t)}function fg(t,e,r){var n=$n(Mr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):dg(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],f=n.t(c,a);c!==f&&(n.__N=[f,n.__[1]],n.__c.setState({}))}],n.__c=be,!be.u)){var i=function(a,c,f){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(y){return y.__c});if(h.every(function(y){return!y.__N}))return!s||s.call(this,a,c,f);var v=!1;return h.forEach(function(y){if(y.__N){var m=y.__[0];y.__=y.__N,y.__N=void 0,m!==y.__[0]&&(v=!0)}}),!(!v&&n.__c.props===a)&&(!s||s.call(this,a,c,f))};be.u=!0;var s=be.shouldComponentUpdate,o=be.componentWillUpdate;be.componentWillUpdate=function(a,c,f){if(this.__e){var h=s;s=void 0,i(a,c,f),s=h}o&&o.call(this,a,c,f)},be.shouldComponentUpdate=i}return n.__N||n.__}function aM(t,e){var r=$n(Mr++,3);!Y.__s&&Cl(r.__H,e)&&(r.__=t,r.i=e,be.__H.__h.push(r))}function hg(t,e){var r=$n(Mr++,4);!Y.__s&&Cl(r.__H,e)&&(r.__=t,r.i=e,be.__h.push(r))}function cM(t){return Ai=5,Ml(function(){return{current:t}},[])}function uM(t,e,r){Ai=6,hg(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Ml(t,e){var r=$n(Mr++,7);return Cl(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function lM(t,e){return Ai=8,Ml(function(){return t},e)}function fM(t){var e=be.context[t.__c],r=$n(Mr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(be)),e.props.value):t.__}function hM(t,e){Y.useDebugValue&&Y.useDebugValue(e?e(t):t)}function dM(t){var e=$n(Mr++,10),r=lg();return e.__=t,be.componentDidCatch||(be.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function pM(){var t=$n(Mr++,11);if(!t.__){for(var e=be.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function gM(){for(var t;t=ug.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(xo),t.__H.__h.forEach(mu),t.__H.__h=[]}catch(e){t.__H.__h=[],Y.__e(e,t.__v)}}Y.__b=function(t){be=null,Gh&&Gh(t)},Y.__r=function(t){Jh&&Jh(t),Mr=0;var e=(be=t.__c).__H;e&&(Bc===be?(e.__h=[],be.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Eo,r.__N=r.i=void 0})):(e.__h.forEach(xo),e.__h.forEach(mu),e.__h=[],Mr=0)),Bc=be},Y.diffed=function(t){Zh&&Zh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ug.push(e)!==1&&qh===Y.requestAnimationFrame||((qh=Y.requestAnimationFrame)||bM)(gM)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Eo&&(r.__=r.__V),r.i=void 0,r.__V=Eo})),Bc=be=null},Y.__c=function(t,e){e.some(function(r){try{r.__h.forEach(xo),r.__h=r.__h.filter(function(n){return!n.__||mu(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Y.__e(n,r.__v)}}),Qh&&Qh(t,e)},Y.unmount=function(t){Yh&&Yh(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{xo(n)}catch(i){e=i}}),r.__H=void 0,e&&Y.__e(e,r.__v))};var Kh=typeof requestAnimationFrame=="function";function bM(t){var e,r=function(){clearTimeout(n),Kh&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Kh&&(e=requestAnimationFrame(r))}function xo(t){var e=be,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),be=e}function mu(t){var e=be;t.__c=t.__(),be=e}function Cl(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function dg(t,e){return typeof e=="function"?e(t):e}var vM=Object.freeze(Object.defineProperty({__proto__:null,useCallback:lM,useContext:fM,useDebugValue:hM,useEffect:aM,useErrorBoundary:dM,useId:pM,useImperativeHandle:uM,useLayoutEffect:hg,useMemo:Ml,useReducer:fg,useRef:cM,useState:lg},Symbol.toStringTag,{value:"Module"})),Ys=Oi(vM),hr={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.CloseIcon=void 0;const Xh=Dt;function yM(t){return(0,Xh.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Xh.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ta.CloseIcon=yM;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.QRCodeIcon=void 0;const sr=Dt;function mM(t){return(0,sr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,sr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,sr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,sr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,sr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,sr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,sr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,sr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,sr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,sr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Oa.QRCodeIcon=mM;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});const _M=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Al.default=_M;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.StatusDotIcon=void 0;const ed=Dt;function wM(t){return(0,ed.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ed.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Na.StatusDotIcon=wM;var La={};function pg(t){this.mode=Nt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}pg.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function dr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}dr.prototype={addData:function(t){var e=new pg(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=dr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ye.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,f=this.modules[s][a];f&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ye.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ye.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ye.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var f=Ye.getMask(e,n,o-a);f&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};dr.PAD0=236;dr.PAD1=17;dr.createData=function(t,e,r){for(var n=ur.getRSBlocks(t,e),i=new gg,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ye.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(dr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(dr.PAD1,8);return dr.createBytes(i,n)};dr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,f=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,f),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var v=Ye.getErrorCorrectPolynomial(f),y=new di(s[a],v.getLength()-1),m=y.mod(v);o[a]=new Array(v.getLength()-1);for(var h=0;h<o[a].length;h++){var M=h+m.getLength()-o[a].length;o[a][h]=M>=0?m.get(M):0}}for(var N=0,h=0;h<e.length;h++)N+=e[h].totalCount;for(var T=new Array(N),I=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(T[I++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(T[I++]=o[a][h]);return T};var Nt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Dr={L:1,M:0,Q:3,H:2},Rr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ye={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15)>=0;)e^=Ye.G15<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15);return(t<<10|e)^Ye.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18)>=0;)e^=Ye.G18<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ye.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Rr.PATTERN000:return(e+r)%2==0;case Rr.PATTERN001:return e%2==0;case Rr.PATTERN010:return r%3==0;case Rr.PATTERN011:return(e+r)%3==0;case Rr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Rr.PATTERN101:return e*r%2+e*r%3==0;case Rr.PATTERN110:return(e*r%2+e*r%3)%2==0;case Rr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new di([1],0),r=0;r<t;r++)e=e.multiply(new di([1,ht.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Nt.MODE_NUMBER:return 10;case Nt.MODE_ALPHA_NUM:return 9;case Nt.MODE_8BIT_BYTE:return 8;case Nt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Nt.MODE_NUMBER:return 12;case Nt.MODE_ALPHA_NUM:return 11;case Nt.MODE_8BIT_BYTE:return 16;case Nt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Nt.MODE_NUMBER:return 14;case Nt.MODE_ALPHA_NUM:return 13;case Nt.MODE_8BIT_BYTE:return 16;case Nt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var f=0;t.isDark(n,i)&&f++,t.isDark(n+1,i)&&f++,t.isDark(n,i+1)&&f++,t.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var v=Math.abs(100*h/e/e-50)/5;return r+=v*10,r}},ht={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ht.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ht.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var gt=0;gt<8;gt++)ht.EXP_TABLE[gt]=1<<gt;for(var gt=8;gt<256;gt++)ht.EXP_TABLE[gt]=ht.EXP_TABLE[gt-4]^ht.EXP_TABLE[gt-5]^ht.EXP_TABLE[gt-6]^ht.EXP_TABLE[gt-8];for(var gt=0;gt<255;gt++)ht.LOG_TABLE[ht.EXP_TABLE[gt]]=gt;function di(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}di.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=ht.gexp(ht.glog(this.get(r))+ht.glog(t.get(n)));return new di(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ht.glog(this.get(0))-ht.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=ht.gexp(ht.glog(t.get(n))+e);return new di(r,0).mod(t)}};function ur(t,e){this.totalCount=t,this.dataCount=e}ur.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ur.getRSBlocks=function(t,e){var r=ur.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],f=0;f<o;f++)i.push(new ur(a,c));return i};ur.getRsBlockTable=function(t,e){switch(e){case Dr.L:return ur.RS_BLOCK_TABLE[(t-1)*4+0];case Dr.M:return ur.RS_BLOCK_TABLE[(t-1)*4+1];case Dr.Q:return ur.RS_BLOCK_TABLE[(t-1)*4+2];case Dr.H:return ur.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function gg(){this.buffer=[],this.length=0}gg.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Fc=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bg(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Dr.L;case"M":return Dr.M;case"Q":return Dr.Q;case"H":return Dr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,f){for(var h=i(c),v=1,y=0,m=0,M=Fc.length;m<=M;m++){var N=Fc[m];if(!N)throw new Error("Content too long: expected "+y+" but got "+h);switch(f){case"L":y=N[0];break;case"M":y=N[1];break;case"Q":y=N[2];break;case"H":y=N[3];break;default:throw new Error("Unknwon error correction level: "+f)}if(h<=y)break;v++}if(v>Fc.length)throw new Error("Content too long");return v}function i(c){var f=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return f.length+(f.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new dr(o,a),this.qrcode.addData(s),this.qrcode.make()}bg.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,f=o/(c+2*e.padding),h=a/(c+2*e.padding),v=typeof e.join<"u"?!!e.join:!1,y=typeof e.swap<"u"?!!e.swap:!1,m=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,M=typeof e.predefined<"u"?!!e.predefined:!1,N=M?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+f+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",T=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,I="",A="",L=0;L<c;L++)for(var j=0;j<c;j++){var P=r[j][L];if(P){var $=j*f+e.padding*f,G=L*h+e.padding*h;if(y){var Z=$;$=G,G=Z}if(v){var U=f+$,K=h+G;$=Number.isInteger($)?Number($):$.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),A+="M"+$+","+G+" V"+K+" H"+U+" V"+G+" H"+$+" Z "}else M?I+=i+'<use x="'+$.toString()+'" y="'+G.toString()+'" href="#qrmodule" />'+s:I+=i+'<rect x="'+$.toString()+'" y="'+G.toString()+'" width="'+f+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}v&&(I=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+A+'" />');let q="";if(this.options.image!==void 0&&this.options.image.svg){const S=o*this.options.image.width/100,u=a*this.options.image.height/100,d=o/2-S/2,b=a/2-u/2;q+=`<svg x="${d}" y="${b}" width="${S}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,q+=this.options.image.svg+s,q+="</svg>"}var V="";switch(t.container){case"svg":m&&(V+='<?xml version="1.0" standalone="yes"?>'+s),V+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,V+=N+T+I,V+=q,V+="</svg>";break;case"svg-viewbox":m&&(V+='<?xml version="1.0" standalone="yes"?>'+s),V+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,V+=N+T+I,V+=q,V+="</svg>";break;case"g":V+='<g width="'+o+'" height="'+a+'">'+s,V+=N+T+I,V+=q,V+="</g>";break;default:V+=(N+T+I+q).replace(/^\s+/,"");break}return V};var SM=bg,EM=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(La,"__esModule",{value:!0});La.QRCode=void 0;const xM=Dt,td=Ys,MM=EM(SM),CM=t=>{const[e,r]=(0,td.useState)("");return(0,td.useEffect)(()=>{var n,i;const s=new MM.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,xM.h)("img",{src:e,alt:"QR Code"}):null};La.QRCode=CM;var Pa={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var RM=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.Spinner=void 0;const po=Dt,IM=RM(Tl),AM=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,po.h)("div",{class:"-cbwsdk-spinner"},(0,po.h)("style",null,IM.default),(0,po.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,po.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Pa.Spinner=AM;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var zi=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hr,"__esModule",{value:!0});hr.CoinbaseAppSteps=hr.CoinbaseWalletSteps=hr.ConnectItem=hr.ConnectContent=void 0;const Ut=zi(ka),z=Dt,rd=Ys,kM=W,TM=Ms,OM=Ta,NM=zi(Rl),LM=zi(Il),vg=Oa,PM=zi(Al),$M=zi(kl),DM=Na,jM=La,BM=Pa,FM=zi(Ol),nd={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:LM.default,steps:mg},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:NM.default,steps:_g}},WM=t=>{switch(t){case"coinbase-app":return PM.default;case"coinbase-wallet-app":default:return $M.default}},_u=t=>t==="light"?"#FFFFFF":"#0A0B0D";function HM(t){const{theme:e}=t,[r,n]=(0,rd.useState)("coinbase-wallet-app"),i=(0,rd.useCallback)(f=>{n(f)},[]),s=(0,kM.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=nd[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,z.h)("div",{"data-testid":"connect-content",class:(0,Ut.default)("-cbwsdk-connect-content",e)},(0,z.h)("style",null,FM.default),(0,z.h)("div",{class:"-cbwsdk-connect-content-header"},(0,z.h)("h2",{class:(0,Ut.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,z.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,z.h)(OM.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,z.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,z.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,z.h)("div",null,Object.entries(nd).map(([f,h])=>(0,z.h)(yg,{key:f,title:h.title,description:h.description,icon:h.icon,selected:r===f,onClick:()=>i(f),theme:e}))),c&&(0,z.h)("div",{class:(0,Ut.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,z.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,z.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,z.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,z.h)(jM.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:WM(r),width:25,height:25}}),(0,z.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:TM.LIB_VERSION}),(0,z.h)("input",{type:"hidden",value:s})),(0,z.h)(a,{theme:e}),!t.isConnected&&(0,z.h)("div",{"data-testid":"connecting-spinner",class:(0,Ut.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,z.h)(BM.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,z.h)("p",null,"Connecting...")))))}hr.ConnectContent=HM;function yg({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,z.h)("div",{onClick:s,class:(0,Ut.default)("-cbwsdk-connect-item",i,{selected:n})},(0,z.h)("div",null,(0,z.h)("img",{src:r,alt:t})),(0,z.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,z.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,z.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}hr.ConnectItem=yg;function mg({theme:t}){return(0,z.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,z.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,z.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,z.h)("span",null,"Tap ",(0,z.h)("strong",null,"Scan")," "),(0,z.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,z.h)(vg.QRCodeIcon,{fill:_u(t)})))))}hr.CoinbaseWalletSteps=mg;function _g({theme:t}){return(0,z.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,z.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,z.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,z.h)("span",null,"Tap ",(0,z.h)("strong",null,"More")),(0,z.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,z.h)(DM.StatusDotIcon,{fill:_u(t)})),(0,z.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,z.h)("strong",null,"Scan")),(0,z.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,z.h)(vg.QRCodeIcon,{fill:_u(t)})))))}hr.CoinbaseAppSteps=_g;var $a={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.ArrowLeftIcon=void 0;const id=Dt;function UM(t){return(0,id.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,id.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Da.ArrowLeftIcon=UM;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.LaptopIcon=void 0;const Wc=Dt;function VM(t){return(0,Wc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Wc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Wc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ja.LaptopIcon=VM;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SafeIcon=void 0;const sd=Dt;function zM(t){return(0,sd.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,sd.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Ba.SafeIcon=zM;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var wg=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($a,"__esModule",{value:!0});$a.TryExtensionContent=void 0;const on=wg(ka),st=Dt,Hc=Ys,qM=Da,GM=ja,JM=Ba,ZM=wg(Nl);function QM({theme:t}){const[e,r]=(0,Hc.useState)(!1),n=(0,Hc.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Hc.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,st.h)("div",{class:(0,on.default)("-cbwsdk-try-extension",t)},(0,st.h)("style",null,ZM.default),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("h3",{class:(0,on.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,st.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,st.h)("button",{class:(0,on.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,st.h)("div",null,!e&&(0,st.h)(qM.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,on.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(GM.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,on.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,on.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(JM.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,on.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}$a.TryExtensionContent=QM;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Sg=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.ConnectDialog=void 0;const Uc=Sg(ka),an=Dt,Vc=Ys,YM=hr,KM=$a,XM=Sg(Ll),eC=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Vc.useState)(!e),[s,o]=(0,Vc.useState)(!e);(0,Vc.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,an.h)("div",{class:(0,Uc.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,an.h)("style",null,XM.default),(0,an.h)("div",{class:(0,Uc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,an.h)("div",{class:"-cbwsdk-connect-dialog"},(0,an.h)("div",{class:(0,Uc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,an.h)(YM.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,an.h)(KM.TryExtensionContent,{theme:a}))))};Aa.ConnectDialog=eC;Object.defineProperty(Ma,"__esModule",{value:!0});Ma.LinkFlow=void 0;const zc=Dt,od=Ia,tC=Aa;class rC{constructor(e){this.extensionUI$=new od.BehaviorSubject({}),this.subscriptions=new od.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,zc.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,zc.render)((0,zc.h)(tC.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ma.LinkFlow=rC;var Eg={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(ka),n=Dt,i=Ys,s=e(Pl),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(v){switch(v){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(y){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=y.darkMode}attach(y){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",y.appendChild(this.root),this.render()}presentItem(y){const m=this.nextItemKey++;return this.items.set(m,y),this.render(),()=>{this.items.delete(m),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([y,m])=>(0,n.h)(t.SnackbarInstance,Object.assign({},m,{key:y}))))),this.root)}}t.Snackbar=c;const f=v=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},v.children));t.SnackbarContainer=f;const h=({autoExpand:v,message:y,menuItems:m,appSrc:M})=>{const[N,T]=(0,i.useState)(!0),[I,A]=(0,i.useState)(v??!1);(0,i.useEffect)(()=>{const j=[window.setTimeout(()=>{T(!1)},1),window.setTimeout(()=>{A(!0)},1e4)];return()=>{j.forEach(window.clearTimeout)}});const L=()=>{A(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",N&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:L},(0,n.h)("img",{src:a(M),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},y),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),m&&m.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},m.map((j,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",j.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:j.onClick,key:P},(0,n.h)("svg",{width:j.svgWidth,height:j.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":j.defaultFillRule,"clip-rule":j.defaultClipRule,d:j.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",j.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},j.info)))))};t.SnackbarInstance=h})(Eg);var Fa={},$l={};Object.defineProperty($l,"__esModule",{value:!0});$l.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var nC=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.injectCssReset=void 0;const iC=nC($l);function sC(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(iC.default)),document.documentElement.appendChild(t)}Fa.injectCssReset=sC;Object.defineProperty(xa,"__esModule",{value:!0});xa.WalletSDKUI=void 0;const oC=Ma,aC=Eg,cC=Fa;class uC{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new aC.Snackbar({darkMode:e.darkMode}),this.linkFlow=new oC.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,cC.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}xa.WalletSDKUI=uC;var Wa={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});var ii;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(ii||(ii={}));function xg(t,e,r){if(!r||typeof r.value!==ii.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ii.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ii.boolTrue,writable:ii.boolTrue}),n}}}Ha.bind=xg;Ha.default=xg;function Mg(t){return function(r){return r.lift(new lC(t))}}var lC=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new fC(e,this.durationSelector))},t}(),fC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=nt(n,new tt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(rt);function hC(t,e){return e===void 0&&(e=Rt),Mg(function(){return og(t,e)})}function dC(t){return function(r){return r.lift(new pC(t))}}var pC=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new gC(e,this.closingNotifier))},t}(),gC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(nt(n,new tt(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(rt);function bC(t,e){return e===void 0&&(e=null),function(n){return n.lift(new vC(t,e))}}var vC=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=yC:this.subscriberClass=mC}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),yC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(H),mC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var f=o[c];f.push(r),f.length===i&&(o.splice(c,1),this.destination.next(f))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(H);function _C(t){var e=arguments.length,r=Rt;Pt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new wC(t,n,i,r))}}var wC=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new EC(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),SC=function(){function t(){this.buffer=[]}return t}(),EC=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var f={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ad,n,f))}else{var h={subscriber:a,context:c},v={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Cg,n,h)),a.add(o.schedule(xC,i,v))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(ad,i,s))}},e.prototype.openContext=function(){var r=new SC;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(H);function ad(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function xC(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Cg,r,{subscriber:n,context:s})),o.schedule(t,e))}function Cg(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function MC(t,e){return function(n){return n.lift(new CC(t,e))}}var CC=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new RC(e,this.openings,this.closingSelector))},t}(),RC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(xr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Xe,o={buffer:i,subscription:s};n.push(o);var a=xr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Pn);function IC(t){return function(e){return e.lift(new AC(t))}}var AC=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new kC(e,this.closingSelector))},t}(),kC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Xe,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(nt(i,new tt(this))),this.subscribing=!1},e}(rt);function TC(t){return function(r){var n=new OC(t),i=r.lift(n);return n.caught=i}}var OC=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new NC(e,this.selector,this.caught))},t}(),NC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new tt(this);this.add(i);var s=nt(n,i);s!==i&&this.add(s)}},e}(rt);function LC(t){return function(e){return e.lift(new Sl(t))}}function PC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Cr([n].concat(t)),new Sl(r))}}function $C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ws.apply(void 0,[r].concat(t)))}}function Rg(t,e){return Rn(t,e,1)}function DC(t,e){return Rg(function(){return t},e)}function jC(t){return function(e){return e.lift(new BC(t,e))}}var BC=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new FC(e,this.predicate,this.source))},t}(),FC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(H);function WC(t){return function(e){return e.lift(new HC(t))}}var HC=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new UC(e,this.durationSelector))},t}(),UC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=nt(n,new tt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(rt);function VC(t,e){return e===void 0&&(e=Rt),function(r){return r.lift(new zC(t,e))}}var zC=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new qC(e,this.dueTime,this.scheduler))},t}(),qC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(GC,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(H);function GC(t){t.debouncedNext()}function Ks(t){return t===void 0&&(t=null),function(e){return e.lift(new JC(t))}}var JC=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new ZC(e,this.defaultValue))},t}(),ZC=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(H);function Ig(t){return t instanceof Date&&!isNaN(+t)}function QC(t,e){e===void 0&&(e=Rt);var r=Ig(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new YC(n,e))}}var YC=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new KC(e,this.delay,this.scheduler))},t}(),KC=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new XC(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Sr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Sr.createComplete()),this.unsubscribe()},e}(H),XC=function(){function t(e,r){this.time=e,this.notification=r}return t}();function e6(t,e){return e?function(r){return new r6(r,e).lift(new cd(t))}:function(r){return r.lift(new cd(t))}}var cd=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new t6(e,this.delayDurationSelector))},t}(),t6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=xr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Pn),r6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new n6(r,this.source))},e}(re),n6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(H);function i6(){return function(e){return e.lift(new s6)}}var s6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new o6(e))},t}(),o6=function(t){O.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(H);function a6(t,e){return function(r){return r.lift(new c6(t,e))}}var c6=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new u6(e,this.keySelector,this.flushes))},t}(),u6=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(nt(i,new tt(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(rt);function Ag(t,e){return function(r){return r.lift(new l6(t,e))}}var l6=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new f6(e,this.compare,this.keySelector))},t}(),f6=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(H);function h6(t,e){return Ag(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Ua(t){return t===void 0&&(t=g6),function(e){return e.lift(new d6(t))}}var d6=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new p6(e,this.errorFactory))},t}(),p6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(H);function g6(){return new Qs}function Dl(t){return function(e){return t===0?Ui():e.lift(new b6(t))}}var b6=function(){function t(e){if(this.total=e,this.total<0)throw new Ri}return t.prototype.call=function(e,r){return r.subscribe(new v6(e,this.total))},t}(),v6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(H);function y6(t,e){if(t<0)throw new Ri;var r=arguments.length>=2;return function(n){return n.pipe(Hr(function(i,s){return s===t}),Dl(1),r?Ks(e):Ua(function(){return new Ri}))}}function m6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ws(r,Ra.apply(void 0,t))}}function _6(t,e){return function(r){return r.lift(new w6(t,e,r))}}var w6=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new S6(e,this.predicate,this.thisArg,this.source))},t}(),S6=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(H);function E6(){return function(t){return t.lift(new x6)}}var x6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new M6(e))},t}(),M6=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(nt(r,new tt(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function kg(t,e){return e?function(r){return r.pipe(kg(function(n,i){return Cr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new C6(t))}}var C6=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new R6(e,this.project))},t}(),R6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function I6(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new A6(t,e,r))}}var A6=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new k6(e,this.project,this.concurrent,this.scheduler))},t}(),k6=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(f){n.error(f)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(nt(r,new tt(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(rt);function T6(t){return function(e){return e.lift(new O6(t))}}var O6=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new N6(e,this.callback))},t}(),N6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Xe(n)),i}return e}(H);function L6(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Tg(t,r,!1,e))}}var Tg=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new P6(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),P6=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(H);function $6(t,e){return function(r){return r.lift(new Tg(t,r,!0,e))}}function D6(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Hr(function(i,s){return t(i,s,n)}):Fr,Dl(1),r?Ks(e):Ua(function(){return new Qs}))}}function j6(){return function(e){return e.lift(new B6)}}var B6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new F6(e))},t}(),F6=function(t){O.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(H);function W6(){return function(t){return t.lift(new H6)}}var H6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new U6(e))},t}(),U6=function(t){O.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(H);function Wo(t){return function(r){return t===0?Ui():r.lift(new V6(t))}}var V6=function(){function t(e){if(this.total=e,this.total<0)throw new Ri}return t.prototype.call=function(e,r){return r.subscribe(new z6(e,this.total))},t}(),z6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(H);function q6(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Hr(function(i,s){return t(i,s,n)}):Fr,Wo(1),r?Ks(e):Ua(function(){return new Qs}))}}function G6(t){return function(e){return e.lift(new J6(t))}}var J6=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Z6(e,this.value))},t}(),Z6=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(H);function Q6(){return function(e){return e.lift(new Y6)}}var Y6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new K6(e))},t}(),K6=function(t){O.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Sr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Sr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Sr.createComplete()),r.complete()},e}(H);function Ho(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new X6(t,e,r))}}var X6=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new eR(e,this.accumulator,this.seed,this.hasSeed))},t}(),eR=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(H);function Va(t,e){return arguments.length>=2?function(n){return du(Ho(t,e),Wo(1),Ks(e))(n)}:function(n){return du(Ho(function(i,s,o){return t(i,s,o+1)}),Wo(1))(n)}}function tR(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Va(e)}function rR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(rg.apply(void 0,[r].concat(t)))}}function nR(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Rn(function(){return t},e,r):(typeof e=="number"&&(r=e),Rn(function(){return t},r))}function iR(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new sR(t,e,r))}}var sR=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new oR(e,this.accumulator,this.seed,this.concurrent))},t}(),oR=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(rt);function aR(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Va(e)}function In(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new cR(i,e));var s=Object.create(n,Fx);return s.source=n,s.subjectFactory=i,s}}var cR=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function uR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ct(t[0])&&(t=t[0]),function(r){return r.lift(new lR(t))}}var lR=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new fR(e,this.nextSources))},t}(),fR=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(rt);function hR(){return function(t){return t.lift(new dR)}}var dR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pR(e))},t}(),pR=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(H);function gR(t,e){return function(r){return[Hr(t,e)(r),Hr(ig(t,e))(r)]}}function bR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Gt(vR(t,r))(n)}}function vR(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function yR(t){return t?In(function(){return new dt},t):In(new dt)}function mR(t){return function(e){return In(new D0(t))(e)}}function _R(){return function(t){return In(new Vi)(t)}}function wR(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new wl(t,e,n);return function(o){return In(function(){return s},i)(o)}}function SR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ct(t[0])&&(t=t[0]),n.lift.call(sg.apply(void 0,[n].concat(t)))}}function ER(t){return t===void 0&&(t=-1),function(e){return t===0?Ui():t<0?e.lift(new ud(-1,e)):e.lift(new ud(t-1,e))}}var ud=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new xR(e,this.count,this.source))},t}(),xR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(H);function MR(t){return function(e){return e.lift(new CR(t))}}var CR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new RR(e,this.notifier,r))},t}(),RR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new dt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=nt(r,new tt(this))},e}(rt);function IR(t){return t===void 0&&(t=-1),function(e){return e.lift(new AR(t,e))}}var AR=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new kR(e,this.count,this.source))},t}(),kR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(H);function TR(t){return function(e){return e.lift(new OR(t,e))}}var OR=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new NR(e,this.notifier,this.source))},t}(),NR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new dt;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=nt(i,new tt(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(rt);function LR(t){return function(e){return e.lift(new PR(t))}}var PR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new $R(e),i=r.subscribe(n);return i.add(nt(this.notifier,new tt(n))),i},t}(),$R=function(t){O.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(rt);function DR(t,e){return e===void 0&&(e=Rt),function(r){return r.lift(new jR(t,e))}}var jR=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new BR(e,this.period,this.scheduler))},t}(),BR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(FR,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(H);function FR(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function WR(t,e){return function(r){return r.lift(new HR(t,e))}}var HR=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new UR(e,this.compareTo,this.comparator))},t}(),UR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new VR(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(f){this.destination.error(f)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(H),VR=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(H);function zR(){return new dt}function qR(){return function(t){return yl()(In(zR)(t))}}function GR(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(JR(n))}}function JR(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,f,h=!1,v=!1;return function(m){c++;var M;!a||h?(h=!1,a=new wl(r,i,o),M=a.subscribe(this),f=m.subscribe({next:function(N){a.next(N)},error:function(N){h=!0,a.error(N)},complete:function(){v=!0,f=void 0,a.complete()}}),v&&(f=void 0)):M=a.subscribe(this),this.add(function(){c--,M.unsubscribe(),M=void 0,f&&!v&&s&&c===0&&(f.unsubscribe(),f=void 0,a=void 0)})}}function ZR(t){return function(e){return e.lift(new QR(t,e))}}var QR=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new YR(e,this.predicate,this.source))},t}(),YR=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Qs)},e}(H);function KR(t){return function(e){return e.lift(new XR(t))}}var XR=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new eI(e,this.total))},t}(),eI=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(H);function tI(t){return function(e){return e.lift(new rI(t))}}var rI=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Ri}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new H(e)):r.subscribe(new nI(e,this._skipCount))},t}(),nI=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(H);function iI(t){return function(e){return e.lift(new sI(t))}}var sI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new oI(e,this.notifier))},t}(),oI=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new tt(i);i.add(s),i.innerSubscription=s;var o=nt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(rt);function aI(t){return function(e){return e.lift(new cI(t))}}var cI=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new uI(e,this.predicate))},t}(),uI=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(H);function lI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pt(r)?(t.pop(),function(n){return ws(t,n,r)}):function(n){return ws(t,n)}}var fI=function(t){O.exports.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=So);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Ii(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=So),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=So),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(re);function hI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new dI(t,e))}}var dI=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new fI(r,this.delay,this.scheduler).subscribe(e)},t}();function Ss(t,e){return typeof e=="function"?function(r){return r.pipe(Ss(function(n,i){return Cr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new pI(t))}}var pI=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new gI(e,this.project))},t}(),gI=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new tt(this),s=this.destination;s.add(i),this.innerSubscription=nt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(rt);function bI(){return Ss(Fr)}function vI(t,e){return e?Ss(function(){return t},e):Ss(function(){return t})}function yI(t){return function(e){return e.lift(new mI(t))}}var mI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new _I(e),i=nt(this.notifier,new tt(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),_I=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(rt);function wI(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new SI(t,e))}}var SI=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new EI(e,this.predicate,this.inclusive))},t}(),EI=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(H);function xI(t,e,r){return function(i){return i.lift(new MI(t,e,r))}}var MI=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new CI(e,this.nextOrObserver,this.error,this.complete))},t}(),CI=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ar,o._tapError=ar,o._tapComplete=ar,o._tapError=i||ar,o._tapComplete=s||ar,Mi(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ar,o._tapError=n.error||ar,o._tapComplete=n.complete||ar),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(H),Og={leading:!0,trailing:!1};function RI(t,e){return e===void 0&&(e=Og),function(r){return r.lift(new II(t,!!e.leading,!!e.trailing))}}var II=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new AI(e,this.durationSelector,this.leading,this.trailing))},t}(),AI=function(t){O.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=nt(n,new tt(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(rt);function kI(t,e,r){return e===void 0&&(e=Rt),r===void 0&&(r=Og),function(n){return n.lift(new TI(t,e,r.leading,r.trailing))}}var TI=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new OI(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),OI=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(NI,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(H);function NI(t){var e=t.subscriber;e.clearThrottle()}function LI(t){return t===void 0&&(t=Rt),function(e){return xl(function(){return e.pipe(Ho(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Gt(function(r){var n=r.current,i=r.last,s=r.value;return new PI(s,n-i)}))})}}var PI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Ng(t,e,r){return r===void 0&&(r=Rt),function(n){var i=Ig(t),s=i?+t-r.now():Math.abs(t);return n.lift(new $I(s,i,e,r))}}var $I=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new DI(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),DI=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(nt(n,new tt(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(rt);function jI(t,e){return e===void 0&&(e=Rt),Ng(t,_l(new q0),e)}function BI(t){return t===void 0&&(t=Rt),Gt(function(e){return new FI(e,t.now())})}var FI=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function WI(t,e,r){return r===0?[e]:(t.push(e),t)}function HI(){return Va(WI,[])}function UI(t){return function(r){return r.lift(new VI(t))}}var VI=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new zI(e),i=r.subscribe(n);return i.closed||n.add(nt(this.windowBoundaries,new tt(n))),i},t}(),zI=function(t){O.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new dt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new dt;n.next(i)},e}(rt);function qI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new GI(t,e))}}var GI=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new JI(e,this.windowSize,this.startWindowEvery))},t}(),JI=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new dt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var f=this.count-s+1;if(f>=0&&f%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new dt;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(H);function ZI(t){var e=Rt,r=null,n=Number.POSITIVE_INFINITY;return Pt(arguments[3])&&(e=arguments[3]),Pt(arguments[2])?e=arguments[2]:Ii(arguments[2])&&(n=Number(arguments[2])),Pt(arguments[1])?e=arguments[1]:Ii(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new QI(t,r,n,e))}}var QI=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new KI(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),YI=function(t){O.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(dt),KI=function(t){O.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var f={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Lg,n,f)),a.add(o.schedule(eA,i,h))}else{var v={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(XI,n,v))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new YI;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(H);function XI(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function eA(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Lg,e,c),o.add(a.subscription),o.schedule(t,i)}function Lg(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function tA(t,e){return function(r){return r.lift(new rA(t,e))}}var rA=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new nA(e,this.openings,this.closingSelector))},t}(),nA=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=xr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(m){return this.error(m)}var f=new dt,h=new Xe,v={window:f,subscription:h};this.contexts.push(v);var y=xr(this,a,v);y.closed?this.closeWindow(this.contexts.length-1):(y.context=v,h.add(y)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Pn);function iA(t){return function(r){return r.lift(new sA(t))}}var sA=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new oA(e,this.closingSelector))},t}(),oA=function(t){O.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new dt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=xr(this,s))},e}(Pn);function aA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new cA(i,n))}}var cA=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new uA(e,this.observables,this.project))},t}(),uA=function(t){O.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(xr(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Pn);function lA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(ag.apply(void 0,[n].concat(t)))}}function fA(t){return function(e){return e.lift(new cg(t))}}var hA=Object.freeze(Object.defineProperty({__proto__:null,audit:Mg,auditTime:hC,buffer:dC,bufferCount:bC,bufferTime:_C,bufferToggle:MC,bufferWhen:IC,catchError:TC,combineAll:LC,combineLatest:PC,concat:$C,concatAll:K0,concatMap:Rg,concatMapTo:DC,count:jC,debounce:WC,debounceTime:VC,defaultIfEmpty:Ks,delay:QC,delayWhen:e6,dematerialize:i6,distinct:a6,distinctUntilChanged:Ag,distinctUntilKeyChanged:h6,elementAt:y6,endWith:m6,every:_6,exhaust:E6,exhaustMap:kg,expand:I6,filter:Hr,finalize:T6,find:L6,findIndex:$6,first:D6,groupBy:Hx,ignoreElements:j6,isEmpty:W6,last:q6,map:Gt,mapTo:G6,materialize:Q6,max:tR,merge:rR,mergeAll:El,mergeMap:Rn,flatMap:L5,mergeMapTo:nR,mergeScan:iR,min:aR,multicast:In,observeOn:Kx,onErrorResumeNext:uR,pairwise:hR,partition:gR,pluck:bR,publish:yR,publishBehavior:mR,publishLast:_R,publishReplay:wR,race:SR,reduce:Va,repeat:ER,repeatWhen:MR,retry:IR,retryWhen:TR,refCount:yl,sample:LR,sampleTime:DR,scan:Ho,sequenceEqual:WR,share:qR,shareReplay:GR,single:ZR,skip:KR,skipLast:tI,skipUntil:iI,skipWhile:aI,startWith:lI,subscribeOn:hI,switchAll:bI,switchMap:Ss,switchMapTo:vI,take:Dl,takeLast:Wo,takeUntil:yI,takeWhile:wI,tap:xI,throttle:RI,throttleTime:kI,throwIfEmpty:Ua,timeInterval:LI,timeout:jI,timeoutWith:Ng,timestamp:BI,toArray:HI,window:UI,windowCount:qI,windowTime:ZI,windowToggle:tA,windowWhen:iA,withLatestFrom:aA,zip:lA,zipAll:fA},Symbol.toStringTag,{value:"Module"})),jl=Oi(hA),za={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.ClientMessagePublishEvent=Ht.ClientMessageSetSessionConfig=Ht.ClientMessageGetSessionConfig=Ht.ClientMessageIsLinked=Ht.ClientMessageHostSession=void 0;function dA(t){return Object.assign({type:"HostSession"},t)}Ht.ClientMessageHostSession=dA;function pA(t){return Object.assign({type:"IsLinked"},t)}Ht.ClientMessageIsLinked=pA;function gA(t){return Object.assign({type:"GetSessionConfig"},t)}Ht.ClientMessageGetSessionConfig=gA;function bA(t){return Object.assign({type:"SetSessionConfig"},t)}Ht.ClientMessageSetSessionConfig=bA;function vA(t){return Object.assign({type:"PublishEvent"},t)}Ht.ClientMessagePublishEvent=vA;var Pg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ia,r=jl;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Pg);var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.isServerMessageFail=void 0;function yA(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}qa.isServerMessageFail=yA;Object.defineProperty(za,"__esModule",{value:!0});za.WalletSDKConnection=void 0;const Zt=Ia,oe=jl,es=Li,Xn=Ts,ts=Ht,rs=Ni,go=Pg,qc=qa,ld=1e4,mA=6e4;class _A{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Zt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Xn.IntNumber)(1),this.connectedSubject=new Zt.BehaviorSubject(!1),this.linkedSubject=new Zt.BehaviorSubject(!1),this.sessionConfigSubject=new Zt.ReplaySubject(1);const o=new go.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,oe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(rs.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:es.Session.hash(e)})}),(0,oe.skip)(1),(0,oe.filter)(a=>a===go.ConnectionState.DISCONNECTED&&!this.destroyed),(0,oe.delay)(5e3),(0,oe.filter)(a=>!this.destroyed),(0,oe.flatMap)(a=>o.connect()),(0,oe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,oe.skip)(2),(0,oe.switchMap)(a=>(0,Zt.iif)(()=>a===go.ConnectionState.CONNECTED,this.authenticate().pipe((0,oe.tap)(c=>this.sendIsLinked()),(0,oe.tap)(c=>this.sendGetSessionConfig()),(0,oe.map)(c=>!0)),(0,Zt.of)(!1))),(0,oe.distinctUntilChanged)(),(0,oe.catchError)(a=>(0,Zt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,oe.skip)(1),(0,oe.switchMap)(a=>(0,Zt.iif)(()=>a===go.ConnectionState.CONNECTED,(0,Zt.timer)(0,ld)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,oe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,oe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const f=a;(c=this.diagnostic)===null||c===void 0||c.log(rs.EVENTS.LINKED,{sessionIdHash:es.Session.hash(e),linked:f.linked,type:a.type,onlineGuests:f.onlineGuests}),this.linkedSubject.next(f.linked||f.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,oe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const f=a;(c=this.diagnostic)===null||c===void 0||c.log(rs.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:es.Session.hash(e),metadata_keys:f&&f.metadata?Object.keys(f.metadata):void 0}),this.sessionConfigSubject.next({webhookId:f.webhookId,webhookUrl:f.webhookUrl,metadata:f.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(rs.EVENTS.STARTED_CONNECTING,{sessionIdHash:es.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(rs.EVENTS.DISCONNECTED,{sessionIdHash:es.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,oe.filter)(e=>e),(0,oe.take)(1),(0,oe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,oe.filter)(e=>e),(0,oe.take)(1),(0,oe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,oe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,oe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,ts.ClientMessageSetSessionConfig)({id:(0,Xn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,oe.flatMap)(i=>this.makeRequest(n)),(0,oe.map)(i=>{if((0,qc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,ts.ClientMessagePublishEvent)({id:(0,Xn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,oe.flatMap)(s=>this.makeRequest(i)),(0,oe.map)(s=>{if((0,qc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ld*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=mA){const n=e.id;try{this.sendData(e)}catch(i){return(0,Zt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,oe.timeoutWith)(r,(0,Zt.throwError)(new Error(`request ${n} timed out`))),(0,oe.filter)(i=>i.id===n),(0,oe.take)(1))}authenticate(){const e=(0,ts.ClientMessageHostSession)({id:(0,Xn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,oe.map)(r=>{if((0,qc.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,ts.ClientMessageIsLinked)({id:(0,Xn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,ts.ClientMessageGetSessionConfig)({id:(0,Xn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}za.WalletSDKConnection=_A;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.decrypt=ki.encrypt=void 0;const Uo=W;async function wA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Uo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),f=new Uint8Array(a),h=new Uint8Array(c),v=new Uint8Array([...r,...f,...h]);return(0,Uo.uint8ArrayToHex)(v)}ki.encrypt=wA;function SA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Uo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Uo.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),f=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const v=await window.crypto.subtle.decrypt(h,i,f),y=new TextDecoder;r(y.decode(v))}catch(v){n(v)}})()})}ki.decrypt=SA;var Ga={},Ja={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ja);Object.defineProperty(Ga,"__esModule",{value:!0});Ga.Web3RequestCanceledMessage=void 0;const EA=Ja;function xA(t){return{type:EA.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Ga.Web3RequestCanceledMessage=xA;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.Web3RequestMessage=void 0;const MA=Ja;function CA(t){return Object.assign({type:MA.RelayMessageType.WEB3_REQUEST},t)}Za.Web3RequestMessage=CA;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.isWeb3ResponseMessage=Ti.Web3ResponseMessage=void 0;const $g=Ja;function RA(t){return Object.assign({type:$g.RelayMessageType.WEB3_RESPONSE},t)}Ti.Web3ResponseMessage=RA;function IA(t){return t&&t.type===$g.RelayMessageType.WEB3_RESPONSE}Ti.isWeb3ResponseMessage=IA;var AA=B&&B.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kA=B&&B.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dg=B&&B.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},TA=B&&B.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AA(e,t,r);return kA(e,t),e},OA=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.WalletSDKRelay=void 0;const jg=OA(Ha),cn=Ia,ot=jl,mt=Ni,NA=za,ei=xs,LA=Ts,Ue=W,Ir=TA(ki),Ar=Li,bo=er,pt=Jo,PA=Ga,$A=Za,Ft=ve,At=Ti;class Xt extends bo.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new cn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new cn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ar.Session.load(this.storage)||new Ar.Session(this.storage).save(),r=new NA.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,ot.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,ot.skip)(1),(0,ot.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(bo.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(mt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,ot.mergeMap)(i=>Ir.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(bo.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,ot.mergeMap)(i=>Ir.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(bo.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,ot.mergeMap)(i=>(0,cn.zip)(Ir.decrypt(i.metadata.ChainId,e.secret),Ir.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,ot.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,ot.mergeMap)(i=>Ir.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Xt.accountRequestCallbackIds.size>0&&(Array.from(Xt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,At.Web3ResponseMessage)({id:s,response:(0,Ft.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Xt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ot.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,ot.mergeMap)(i=>Ir.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,ot.timeout)(1e3),(0,ot.catchError)(e=>(0,cn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(mt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ar.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ar.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new cn.Subscription;const{session:a,ui:c,connection:f}=this.subscribe();this._session=a,this.connection=f,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:pt.Web3Method.signEthereumMessage,params:{message:(0,Ue.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:pt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ue.hexStringFromBuffer)(e,!0),signature:(0,Ue.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:pt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ue.bigIntStringFromBN)(e.weiValue),data:(0,Ue.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ue.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ue.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ue.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ue.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:pt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ue.bigIntStringFromBN)(e.weiValue),data:(0,Ue.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ue.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ue.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ue.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ue.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:pt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ue.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:pt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ue.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:pt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ue.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,$A.Web3RequestMessage)({id:e,request:r}),s=Ar.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(mt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ar.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(mt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ar.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,PA.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new cn.Observable(s=>{Ir.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,ot.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,cn.from)(Ir.decrypt(e.data,this.session.secret)).pipe((0,ot.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,At.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ft.isRequestEthereumAccountsResponse)(n)){Xt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Xt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,ei.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:pt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ue.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,f=>{if(this.ui.hideRequestEthereumAccounts(),f.errorMessage)return o(new Error(f.errorMessage));s(f)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let f;try{(0,Ue.isInIFrame)()&&window.top?f=window.top.location:f=window.location}catch{f=window.location}f.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(f.href)}`;return}if(this.ui.inlineAccountsResponse()){const f=h=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:r,response:(0,Ft.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:f})}else{const f=ei.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(f)})}Xt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:pt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ue.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(LA.ProviderType.Unselected)}))},f=h=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:f,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:pt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const f=(0,Ue.randomBytesHex)(8),h=y=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,y),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const v=new Promise((y,m)=>{this.relayEventManager.callbacks.set(f,T=>{if(c?.(),T.errorMessage)return m(new Error(T.errorMessage));y(T)});const M=T=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.WatchAssetReponse)(!1)}))},N=()=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:N,onCancel:M,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)});return{cancel:h,promise:v}}addEthereumChain(e,r,n,i,s,o){const a={method:pt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const f=(0,Ue.randomBytesHex)(8),h=y=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,y),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((y,m)=>{this.relayEventManager.callbacks.set(f,T=>{if(c?.(),T.errorMessage)return m(new Error(T.errorMessage));y(T)});const M=T=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},N=T=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.AddEthereumChainResponse)({isApproved:!0,rpcUrl:T})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:M,onApprove:N,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:pt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ue.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,v=>{if((0,Ft.isErrorResponse)(v)&&v.errorCode)return c(ei.standardErrors.provider.custom({code:v.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(v.errorMessage)return c(new Error(v.errorMessage));a(v)});const f=v=>{var y;if(v){const m=(y=(0,ei.getErrorCode)(v))!==null&&y!==void 0?y:ei.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,pt.Web3Method.switchEthereumChain,v instanceof Error?v:ei.standardErrors.provider.unsupportedChain(e),m)}else this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=v=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:v})}))};this.ui.switchEthereumChain({onCancel:f,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ar.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case pt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case pt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case pt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case pt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Xt.accountRequestCallbackIds=new Set;Dg([jg.default],Xt.prototype,"resetAndReload",null);Dg([jg.default],Xt.prototype,"handleIncomingEvent",null);Wa.WalletSDKRelay=Xt;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.WalletSDKRelayEventManager=void 0;const DA=W;class jA{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,DA.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Qa.WalletSDKRelayEventManager=jA;const BA="@coinbase/wallet-sdk",FA="3.7.1",WA="Coinbase Wallet JavaScript SDK",HA=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],UA="dist/index.js",VA="dist/index.d.ts",zA="https://github.com/coinbase/coinbase-wallet-sdk.git",qA="Coinbase, Inc.",GA="Apache-2.0",JA={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},ZA={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},QA={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},YA={node:">= 10.0.0"};var KA={name:BA,version:FA,description:WA,keywords:HA,main:UA,types:VA,repository:zA,author:qA,license:GA,scripts:JA,dependencies:ZA,devDependencies:QA,engines:YA};Object.defineProperty(ps,"__esModule",{value:!0});ps.CoinbaseWalletSDK=void 0;const XA=zo,e8=qo,t8=pi,r8=xa,n8=Wa,i8=Qa,s8=W,o8={}.LINK_API_URL||"https://www.walletlink.org",Bg={}.SDK_VERSION||KA.version||"unknown";class Ya{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||o8;let o;if(e.uiConstructor?o=e.uiConstructor:o=f=>new r8.WalletSDKUI(f),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new e8.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Ya.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new i8.WalletSDKRelayEventManager,this._relay=new n8.WalletSDKRelay({linkAPIUrl:s,version:Bg,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new t8.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,s8.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,XA.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ps.CoinbaseWalletSDK=Ya;Ya.VERSION=Bg;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ps,r=pi;var n=ps;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=pi;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Eu);var a8=Wg(Eu),h8=Hg({__proto__:null,default:a8},[Eu]);export{h8 as i};
